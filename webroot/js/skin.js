var caretPositionAmp=[];
$(document).ready(function(){if(navigator.appName=="Microsoft Internet Explorer"){obj=document.getElementsByTagName("TEXTAREA");for(var a,d=0,d=0;d<obj.length;d++)a=obj[d],caretPositionAmp[d]=a.value.length,a.onmouseup=function(){a=document.activeElement;for(var c=0;c<obj.length;c++)if(obj[c]==a)break;a.focus();var b=document.selection.createRange(),f=a.createTextRange(),e=f.duplicate();f.moveToBookmark(b.getBookmark());e.setEndPoint("EndToStart",f);caretPositionAmp[c]=e.text.length},a.onkeyup=function(){a=
document.activeElement;for(var c=0;c<obj.length;c++)if(obj[c]==a)break;a.focus();var b=document.selection.createRange(),f=a.createTextRange(),e=f.duplicate();f.moveToBookmark(b.getBookmark());e.setEndPoint("EndToStart",f);caretPositionAmp[c]=e.text.length}}});
jQuery.fn.extend({getSelection:function(){var a=this.jquery?this[0]:this,d,c,b,f=0;a.onmousedown=function(){document.selection&&typeof a.selectionStart!="number"?document.selection.empty():window.getSelection().removeAllRanges()};if(document.selection){var e=document.selection.createRange(),i=0,g=0,h=0;d=document.getElementsByTagName("TEXTAREA");for(c=0;c<d.length;c++)if(d[c]==a)break;if(a.value.match(/\n/g)!=null)f=a.value.match(/\n/g).length;if(e.text){b=e.text;if(typeof a.selectionStart=="number"){if(d=
a.selectionStart,c=a.selectionEnd,d==c)return{start:d,end:c,text:e.text,length:c-d}}else{d=a.createTextRange();b=d.duplicate();firstRe=d.text;d.moveToBookmark(e.getBookmark());secondRe=d.text;b.setEndPoint("EndToStart",d);if(firstRe==secondRe&&firstRe!=e.text||b.text.length>firstRe.length)return{start:caretPositionAmp[c],end:caretPositionAmp[c],text:"",length:0};d=b.text.length;c=b.text.length+e.text.length}if(f>0)for(b=0;b<=f;b++){var k=a.value.indexOf("\n",g);k!=-1&&k<d?(g=k+1,i++,h=i):k!=-1&&k>=
d&&k<=c?k==d+1?(i--,h--,g=k+1):(g=k+1,h++):b=f}e.text.indexOf("\n",0)==1&&(h+=2);d-=i;c-=h;return{start:d,end:c,text:e.text,length:c-d}}a.focus();typeof a.selectionStart=="number"?d=a.selectionStart:(e=document.selection.createRange(),d=a.createTextRange(),b=d.duplicate(),d.moveToBookmark(e.getBookmark()),b.setEndPoint("EndToStart",d),d=b.text.length);if(f>0)for(b=0;b<=f;b++)k=a.value.indexOf("\n",g),k!=-1&&k<d?(g=k+1,i++):b=f;d-=i;d==0&&typeof a.selectionStart!="number"&&(d=caretPositionAmp[c],c=
caretPositionAmp[c]);return{start:d,end:d,text:e.text,length:0}}else return typeof a.selectionStart=="number"?(d=a.selectionStart,c=a.selectionEnd,b=a.value.substring(a.selectionStart,a.selectionEnd),{start:d,end:c,text:b,length:c-d}):{start:void 0,end:void 0,text:void 0,length:void 0}},replaceSelection:function(a){var d=this.jquery?this[0]:this,c,b;b=0;var f,e,i=0,g=0,h=d.scrollTop==void 0?0:d.scrollTop;c=document.getElementsByTagName("TEXTAREA");for(var k=0;k<c.length;k++)if(c[k]==d)break;if(document.selection&&
typeof d.selectionStart!="number"){h=document.selection.createRange();if(typeof d.selectionStart!="number"){var l;e=d.createTextRange();f=e.duplicate();c=e.text;e.moveToBookmark(h.getBookmark());l=e.text;try{f.setEndPoint("EndToStart",e)}catch(j){return this}if(c==l&&c!=h.text||f.text.length>c.length)return this}if(h.text){part=h.text;if(d.value.match(/\n/g)!=null)i=d.value.match(/\n/g).length;c=f.text.length;if(i>0)for(l=0;l<=i;l++){var n=d.value.indexOf("\n",b);n!=-1&&n<c?(b=n+1,g++):l=i}h.text=
a;caretPositionAmp[k]=f.text.length+a.length;e.move("character",caretPositionAmp[k]);document.selection.empty();d.blur()}}else if(typeof d.selectionStart=="number"&&d.selectionStart!=d.selectionEnd)c=d.selectionStart,b=d.selectionEnd,d.value=d.value.substr(0,c)+a+d.value.substr(b),b=c+a.length,d.setSelectionRange(b,b),d.scrollTop=h;return this},setSelection:function(a,d){var a=parseInt(a),d=parseInt(d),c=this.jquery?this[0]:this;c.focus();typeof c.selectionStart!="number"&&(re=c.createTextRange(),
re.text.length<d&&(d=re.text.length+1));if(d<a)return this;if(document.selection){var b=0,f=0,e=0,i=0;if(typeof c.selectionStart!="number")re.collapse(!0),re.moveEnd("character",d),re.moveStart("character",a),re.select();else{if(typeof c.selectionStart=="number"){if(c.value.match(/\n/g)!=null)b=c.value.match(/\n/g).length;if(b>0)for(var g=0;g<=b;g++){var h=c.value.indexOf("\n",e);h!=-1&&h<a?(e=h+1,f++,i=f):h!=-1&&h>=a&&h<=d?h==a+1?(f--,i--,e=h+1):(e=h+1,i++):g=b}a+=f;d+=i;c.selectionStart=a;c.selectionEnd=
d}c.focus()}return this}else if(c.selectionStart||c.selectionStart==0)return c.focus(),window.getSelection().removeAllRanges(),c.selectionStart=a,c.selectionEnd=d,c.focus(),this},insertAtCaretPos:function(a){var d=this.jquery?this[0]:this,c,b,f,e,i,g,h;c=b=0;var k=d.scrollTop==void 0?0:d.scrollTop;h=document.getElementsByTagName("TEXTAREA");for(var l=0;l<h.length;l++)if(h[l]==d)break;d.focus();if(document.selection&&typeof d.selectionStart!="number"){if(d.value.match(/\n/g)!=null)c=d.value.match(/\n/g).length;
h=parseInt(caretPositionAmp[l]);if(c>0)for(var j=0;j<=c;j++){var n=d.value.indexOf("\n",f);n!=-1&&n<=h&&(f=n+1,h-=1,b++)}}caretPositionAmp[l]=parseInt(caretPositionAmp[l]);d.onkeyup=function(){if(document.selection&&typeof d.selectionStart!="number")d.focus(),e=document.selection.createRange(),i=d.createTextRange(),g=i.duplicate(),i.moveToBookmark(e.getBookmark()),g.setEndPoint("EndToStart",i),caretPositionAmp[l]=g.text.length};d.onmouseup=function(){if(document.selection&&typeof d.selectionStart!=
"number")d.focus(),e=document.selection.createRange(),i=d.createTextRange(),g=i.duplicate(),i.moveToBookmark(e.getBookmark()),g.setEndPoint("EndToStart",i),caretPositionAmp[l]=g.text.length};if(document.selection&&typeof d.selectionStart!="number"){e=document.selection.createRange();if(e.text.length!=0)return this;i=d.createTextRange();textLength=i.text.length;g=i.duplicate();i.moveToBookmark(e.getBookmark());g.setEndPoint("EndToStart",i);c=g.text.length;caretPositionAmp[l]>0&&c==0?(b=caretPositionAmp[l]-
b,i.move("character",b),i.select(),e=document.selection.createRange(),caretPositionAmp[l]+=a.length):!(caretPositionAmp[l]>=0)&&textLength==0?(e=document.selection.createRange(),caretPositionAmp[l]=a.length+textLength):!(caretPositionAmp[l]>=0)&&c==0?(i.move("character",textLength),i.select(),e=document.selection.createRange(),caretPositionAmp[l]=a.length+textLength):!(caretPositionAmp[l]>=0)&&c>0?(i.move("character",0),document.selection.empty(),i.select(),e=document.selection.createRange(),caretPositionAmp[l]=
c+a.length):caretPositionAmp[l]>=0&&caretPositionAmp[l]==textLength?(textLength!=0?(i.move("character",textLength),i.select()):i.move("character",0),e=document.selection.createRange(),caretPositionAmp[l]=a.length+textLength):(caretPositionAmp[l]>=0&&c!=0&&caretPositionAmp[l]>=c?(b=caretPositionAmp[l]-c,i.move("character",b)):caretPositionAmp[l]>=0&&c!=0&&caretPositionAmp[l]<c&&i.move("character",0),document.selection.empty(),i.select(),e=document.selection.createRange(),caretPositionAmp[l]+=a.length);
e.text=a;d.focus()}else if(typeof d.selectionStart=="number"&&d.selectionStart==d.selectionEnd)f=d.selectionStart+a.length,c=d.selectionStart,b=d.selectionEnd,d.value=d.value.substr(0,c)+a+d.value.substr(b),d.setSelectionRange(f,f),d.scrollTop=k;return this},setCaretPos:function(a){var d=this.jquery?this[0]:this,c,b=0,f=0,e;e=document.getElementsByTagName("TEXTAREA");for(var i=0;i<e.length;i++)if(e[i]==d)break;d.focus();if(parseInt(a)==0)return this;if(parseInt(a)>0){if(a=parseInt(a)-1,document.selection&&
typeof d.selectionStart=="number"&&d.selectionStart==d.selectionEnd){if(d.value.match(/\n/g)!=null)b=d.value.match(/\n/g).length;if(b>0)for(var g=0;g<=b;g++)e=d.value.indexOf("\n",c),e!=-1&&e<=a&&(c=e+1,a=parseInt(a)+1)}}else if(parseInt(a)<0)if(a=parseInt(a)+1,document.selection&&typeof d.selectionStart!="number"){a=d.value.length+parseInt(a);if(d.value.match(/\n/g)!=null)b=d.value.match(/\n/g).length;if(b>0){for(g=0;g<=b;g++)e=d.value.indexOf("\n",c),e!=-1&&e<=a&&(c=e+1,a=parseInt(a)-1,f+=1);a=
a+f-b}}else if(document.selection&&typeof d.selectionStart=="number"){a=d.value.length+parseInt(a);if(d.value.match(/\n/g)!=null)b=d.value.match(/\n/g).length;if(b>0){a=parseInt(a)-b;for(g=0;g<=b;g++)e=d.value.indexOf("\n",c),e!=-1&&e<=a&&(c=e+1,a=parseInt(a)+1,f+=1)}}else a=d.value.length+parseInt(a);else return this;if(document.selection&&typeof d.selectionStart!="number"){c=document.selection.createRange();if(c.text!=0)return this;d=d.createTextRange();d.collapse(!0);d.moveEnd("character",a);d.moveStart("character",
a);d.select();caretPositionAmp[i]=a}else typeof d.selectionStart=="number"&&d.selectionStart==d.selectionEnd&&d.setSelectionRange(a,a);return this},countCharacters:function(){var a=this.jquery?this[0]:this;return a.value.match(/\r/g)!=null?a.value.length-a.value.match(/\r/g).length:a.value.length},setMaxLength:function(a,d){this.each(function(){var c=this.jquery?this[0]:this,b=c.type,f,e;parseInt(a)<0&&(a=1E8);if(b=="text")c.maxLength=a;if(b=="textarea"||b=="text")c.onkeypress=function(b){var g=c.value.match(/\r/g);
e=a;g!=null&&(e=parseInt(e)+g.length);b=b||event;g=b.keyCode;f=document.selection?document.selection.createRange().text.length>0:c.selectionStart!=c.selectionEnd;if(c.value.length>=e&&(g>47||g==32||g==0||g==13)&&!b.ctrlKey&&!b.altKey&&!f)return c.value=c.value.substring(0,e),typeof d=="function"&&d(),!1},c.onkeyup=function(){var b=c.value.match(/\r/g),f=0,h=0;e=a;if(b!=null){for(var k=0;k<=b.length;k++)c.value.indexOf("\n",h)<=parseInt(a)&&(f++,h=c.value.indexOf("\n",h)+1);e=parseInt(a)+f}if(c.value.length>
e)return c.value=c.value.substring(0,e),typeof d=="function"&&d(),this};else return this});return this}});
$.beautyOfCode={settings:{autoLoad:!0,baseUrl:"http://alexgorbatchev.com.s3.amazonaws.com/pub/sh/2.1.382/",scripts:"scripts/",styles:"styles/",theme:"Default",brushes:["Plain"],config:{debug:!1},defaults:{},ready:function(){$.beautyOfCode.beautifyAll()}},init:function(a){a=$.extend({},$.beautyOfCode.settings,a);if(!a.config.clipboardSwf)a.config.clipboardSwf=a.baseUrl+a.scripts+"clipboard.swf";$(document).ready(function(){if(a.autoLoad){$.beautyOfCode.utils.loadCss(a.baseUrl+a.styles+"shCore.css");
$.beautyOfCode.utils.loadCss(a.baseUrl+a.styles+"shTheme"+a.theme+".css","shTheme");var d=[];d.push(a.baseUrl+a.scripts+"shCore.js");$.each(a.brushes,function(c,b){d.push(a.baseUrl+a.scripts+"shBrush"+$.beautyOfCode.utils.getBrush(b)+".js")});$.beautyOfCode.utils.loadAllScripts(d,function(){a&&a.config&&$.extend(SyntaxHighlighter.config,a.config);a&&a.defaults&&$.extend(SyntaxHighlighter.defaults,a.defaults);a.ready()})}else a.ready()})},beautifyAll:function(a){var a=$.extend({},$.beautyOfCode.settings,
a),d=[];$("pre.code, code.code").each(function(){var c=$(this);d.push(c);c=self.utils.getBrush(c.data().brush);$.inArray(c,a.brushes)===-1&&a.brushes.push(c)});a.ready=function(){for(var a=0;a<=d.length-1;a++){var b=d[a].data();d[a].beautifyCode(b.brush)}};$.beautyOfCode.init(a)},utils:{loadScript:function(a,d){$.ajax({url:a,complete:function(){d()},type:"GET",dataType:"script",cache:!0})},loadAllScripts:function(a,d){!a||a.length==0?d():$.beautyOfCode.utils.loadScript(a[0],function(){$.beautyOfCode.utils.loadAllScripts(a.slice(1,
a.length),d)})},loadCss:function(a,d){var c=$("head")[0];if(a&&c){var b=document.createElement("link");b.setAttribute("rel","stylesheet");b.setAttribute("href",a);if(d)b.id=d;c.appendChild(b)}},addCss:function(a,d){var c=$("head")[0];if(a&&c){var b=document.createElement("style");b.setAttribute("type","text/css");if(d)b.id=d;b.styleSheet?b.styleSheet.cssText=a:$(b).text(a);c.appendChild(b)}},addCssForBrush:function(a,d){if(!a.isCssInitialized)$.beautyOfCode.utils.addCss(d.Style),a.isCssInitialized=
!0},getBrush:function(a){var d={AppleScript:["applescript"],AS3:["actionscript3","as3","as"],Bash:["bash","shell"],ColdFusion:["coldfusion","cf"],Cpp:["cpp","c","h","hpp"],CSharp:["c#","c-sharp","csharp","cs"],Css:["css"],Delphi:["delphi","pascal","pas"],Diff:["diff","patch"],Erlang:["erl","erlang"],Groovy:["groovy"],Java:["java"],JavaFX:["jfx","javafx"],JScript:["js","jscript","javascript","json"],Perl:["perl","pl"],Php:["php"],Plain:["text","plain"],Python:["py","python"],Ruby:["ruby","rails","ror",
"rb"],Sass:["sass","scss"],Scala:["scala"],Sql:["sql"],Vb:["vb","vbnet"],Xml:["xml","xhtml","xslt","html"]},c;for(c in d)for(var b=0;b<=d[c].length-1;b++)if(d[c][b]==a)return c;return"Plain"}}};
$.fn.beautifyCode=function(a,d){this.each(function(a,b){var f=$(b),e=f.data(),i={"class-name":e.className,"first-line":e.firstLine,"tab-size":e.tabSize,"smart-tabs":e.smartTabs,ruler:e.ruler,gutter:e.gutter,highlight:e.highlight,toolbar:e.toolbar,collapse:e.collapse,"auto-links":e.autoLinks,light:e.light,"wrap-lines":e.warpLines,"html-script":e.htmlScript},e=e.brush?e.brush:"plain",g=f.text();$.browser.msie&&$.browser.version>9&&(g=g.replace(/\x0D\x0A|\x0D|\x0A/g,"\n\r"));i=$.extend({},SyntaxHighlighter.defaults,
d,i);if(i["html-script"]==!0)highlighter=new SyntaxHighlighter.HtmlScript(e);else if(e=SyntaxHighlighter.utils.findBrush(e))highlighter=new e;else return;$.beautyOfCode.utils.addCssForBrush(e,highlighter);highlighter.highlight(g,i);highlighter.source=b;f.replaceWith(highlighter.div)})};
(function(a,d,c){function b(b,f,e){e=d.createElement("div");if(b)e.id=n+b;e.style.cssText=f||"";return a(e)}function f(b,f){return Math.round((/%/.test(b)?(f==="x"?A.width():A.height())/100:1)*parseInt(b,10))}function e(b){return m.photo||/\.(gif|png|jpg|jpeg|bmp)(?:\?([^#]*))?(?:#(\.*))?$/i.test(b)}function i(b){m=a.extend({},a.data(B,j));for(b in m)a.isFunction(m[b])&&b.substring(0,2)!=="on"&&(m[b]=m[b].call(B));m.rel=m.rel||B.rel||"nofollow";m.href=m.href||a(B).attr("href");m.title=m.title||B.title;
if(typeof m.href==="string")m.href=a.trim(m.href)}function g(b,f){f&&f.call(B);a.event.trigger(b)}function h(){var b,f=n+"Slideshow_",a="click."+n,e,c;m.slideshow&&w[1]?(e=function(){M.text(m.slideshowStop).unbind(a).bind(r,function(){if(x<w.length-1||m.loop)b=setTimeout(u.next,m.slideshowSpeed)}).bind(o,function(){clearTimeout(b)}).one(a+" "+t,c);s.removeClass(f+"off").addClass(f+"on");b=setTimeout(u.next,m.slideshowSpeed)},c=function(){clearTimeout(b);M.text(m.slideshowStart).unbind([r,o,t,a].join(" ")).one(a,
e);s.removeClass(f+"on").addClass(f+"off")},m.slideshowAuto?e():c()):s.removeClass(f+"off "+f+"on")}function k(b){if(!T){B=b;i();w=a(B);x=0;m.rel!=="nofollow"&&(w=a("."+q).filter(function(){return(a.data(this,j).rel||this.rel)===m.rel}),x=w.index(B),x===-1&&(w=w.add(B),x=w.length-1));if(!E){E=N=!0;s.show();if(m.returnFocus)try{B.blur(),a(B).one(v,function(){try{this.focus()}catch(b){}})}catch(e){}H.css({opacity:+m.opacity,cursor:m.overlayClose?"pointer":"auto"}).show();m.w=f(m.initialWidth,"x");m.h=
f(m.initialHeight,"y");u.position();O&&A.bind("resize."+U+" scroll."+U,function(){H.css({width:A.width(),height:A.height(),top:A.scrollTop(),left:A.scrollLeft()})}).trigger("resize."+U);g(p,m.onOpen);V.add(W).hide();X.html(m.close).show()}u.load(!0)}}var l={transition:"elastic",speed:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,inline:!1,html:!1,iframe:!1,fastIframe:!0,photo:!1,href:!1,title:!1,rel:!1,
opacity:0.9,preloading:!0,current:"image {current} of {total}",previous:"previous",next:"next",close:"close",open:!1,returnFocus:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:!1},j="colorbox",n="cbox",q=n+"Element",p=n+"_open",o=n+"_load",r=n+"_complete",t=n+"_cleanup",v=n+"_closed",
C=n+"_purge",L=a.browser.msie&&!a.support.opacity,O=L&&a.browser.version<7,U=n+"_IE6",H,s,K,D,Y,Z,aa,ba,w,A,z,P,Q,W,ca,M,R,S,X,V,m,I,J,F,G,B,x,y,E,N,T,da,ea,u;u=a.fn[j]=a[j]=function(b,f){var e=this,b=b||{};if(!e[0]){if(e.selector)return e;e=a("<a/>");b.open=!0}if(f)b.onComplete=f;e.each(function(){a.data(this,j,a.extend({},a.data(this,j)||l,b));a(this).addClass(q)});(a.isFunction(b.open)&&b.open.call(e)||b.open)&&k(e[0]);return e};u.init=function(){A=a(c);s=b().attr({id:j,"class":L?n+(O?"IE6":"IE"):
""});H=b("Overlay",O?"position:absolute":"").hide();K=b("Wrapper");D=b("Content").append(z=b("LoadedContent","width:0; height:0; overflow:hidden"),Q=b("LoadingOverlay").add(b("LoadingGraphic")),W=b("Title"),ca=b("Current"),R=b("Next"),S=b("Previous"),M=b("Slideshow").bind(p,h),X=b("Close"));K.append(b().append(b("TopLeft"),Y=b("TopCenter"),b("TopRight")),b(!1,"clear:left").append(Z=b("MiddleLeft"),D,aa=b("MiddleRight")),b(!1,"clear:left").append(b("BottomLeft"),ba=b("BottomCenter"),b("BottomRight"))).children().children().css({"float":"left"});
P=b(!1,"position:absolute; width:9999px; visibility:hidden; display:none");a("body").prepend(H,s.append(K,P));D.children().hover(function(){a(this).addClass("hover")},function(){a(this).removeClass("hover")}).addClass("hover");I=Y.height()+ba.height()+D.outerHeight(!0)-D.height();J=Z.width()+aa.width()+D.outerWidth(!0)-D.width();F=z.outerHeight(!0);G=z.outerWidth(!0);s.css({"padding-bottom":I,"padding-right":J}).hide();R.click(function(){u.next()});S.click(function(){u.prev()});X.click(function(){u.close()});
V=R.add(S).add(ca).add(M);D.children().removeClass("hover");H.click(function(){m.overlayClose&&u.close()});a(d).bind("keydown."+n,function(b){var f=b.keyCode;E&&m.escKey&&f===27&&(b.preventDefault(),u.close());E&&m.arrowKey&&w[1]&&(f===37?(b.preventDefault(),S.click()):f===39&&(b.preventDefault(),R.click()))})};u.remove=function(){s.add(H).remove();a("."+q).removeData(j).removeClass(q)};u.position=function(b,a){function e(b){Y[0].style.width=ba[0].style.width=D[0].style.width=b.style.width;Q[0].style.height=
Q[1].style.height=D[0].style.height=Z[0].style.height=aa[0].style.height=b.style.height}var c=0,h=0;A.unbind("resize."+n);s.hide();m.fixed&&!O?s.css({position:"fixed"}):(c=A.scrollTop(),h=A.scrollLeft(),s.css({position:"absolute"}));h+=m.right!==!1?Math.max(A.width()-m.w-G-J-f(m.right,"x"),0):m.left!==!1?f(m.left,"x"):Math.round(Math.max(A.width()-m.w-G-J,0)/2);c+=m.bottom!==!1?Math.max(d.documentElement.clientHeight-m.h-F-I-f(m.bottom,"y"),0):m.top!==!1?f(m.top,"y"):Math.round(Math.max(d.documentElement.clientHeight-
m.h-F-I,0)/2);s.show();b=s.width()===m.w+G&&s.height()===m.h+F?0:b||0;K[0].style.width=K[0].style.height="9999px";s.dequeue().animate({width:m.w+G,height:m.h+F,top:c,left:h},{duration:b,complete:function(){e(this);N=!1;K[0].style.width=m.w+G+J+"px";K[0].style.height=m.h+F+I+"px";a&&a();setTimeout(function(){A.bind("resize."+n,u.position)},1)},step:function(){e(this)}})};u.resize=function(b){if(E){b=b||{};if(b.width)m.w=f(b.width,"x")-G-J;if(b.innerWidth)m.w=f(b.innerWidth,"x");z.css({width:m.w});
if(b.height)m.h=f(b.height,"y")-F-I;if(b.innerHeight)m.h=f(b.innerHeight,"y");if(!b.innerHeight&&!b.height)b=z.wrapInner("<div style='overflow:auto'></div>").children(),m.h=b.height(),b.replaceWith(b.children());z.css({height:m.h});u.position(m.transition==="none"?0:m.speed)}};u.prep=function(f){if(E){var c,h=m.transition==="none"?0:m.speed;z.remove();z=b("LoadedContent").append(f);z.hide().appendTo(P.show()).css({width:function(){m.w=m.w||z.width();m.w=m.mw&&m.mw<m.w?m.mw:m.w;return m.w}(),overflow:m.scrolling?
"auto":"hidden"}).css({height:function(){m.h=m.h||z.height();m.h=m.mh&&m.mh<m.h?m.mh:m.h;return m.h}()}).prependTo(D);P.hide();a(y).css({"float":"none"});if(O)a("select").not(s.find("select")).filter(function(){return this.style.visibility!=="hidden"}).css({visibility:"hidden"}).one(t,function(){this.style.visibility="inherit"});c=function(){function b(){L&&s[0].style.removeAttribute("filter")}var f,c,k,i;c=w.length;var d,l;if(E){l=function(){clearTimeout(ea);Q.hide();g(r,m.onComplete)};L&&y&&z.fadeIn(100);
W.html(m.title).add(z).show();if(c>1){if(typeof m.current==="string"&&ca.html(m.current.replace("{current}",x+1).replace("{total}",c)).show(),R[m.loop||x<c-1?"show":"hide"]().html(m.next),S[m.loop||x?"show":"hide"]().html(m.previous),f=x?w[x-1]:w[c-1],k=x<c-1?w[x+1]:w[0],m.slideshow&&M.show(),m.preloading){i=a.data(k,j).href||k.href;c=a.data(f,j).href||f.href;i=a.isFunction(i)?i.call(k):i;c=a.isFunction(c)?c.call(f):c;if(e(i))a("<img/>")[0].src=i;if(e(c))a("<img/>")[0].src=c}}else V.hide();if(m.iframe){d=
a("<iframe/>").addClass(n+"Iframe")[0];if(m.fastIframe)l();else a(d).one("load",l);d.name=n+ +new Date;d.src=m.href;if(!m.scrolling)d.scrolling="no";if(L)d.frameBorder=0,d.allowTransparency="true";a(d).appendTo(z).one(C,function(){d.src="//about:blank"})}else l();m.transition==="fade"?s.fadeTo(h,1,b):b()}};m.transition==="fade"?s.fadeTo(h,0,function(){u.position(0,c)}):u.position(h,c)}};u.load=function(c){var h,k,d=u.prep;N=!0;y=!1;B=w[x];c||i();g(C);g(o,m.onLoad);m.h=m.height?f(m.height,"y")-F-I:
m.innerHeight&&f(m.innerHeight,"y");m.w=m.width?f(m.width,"x")-G-J:m.innerWidth&&f(m.innerWidth,"x");m.mw=m.w;m.mh=m.h;if(m.maxWidth)m.mw=f(m.maxWidth,"x")-G-J,m.mw=m.w&&m.w<m.mw?m.w:m.mw;if(m.maxHeight)m.mh=f(m.maxHeight,"y")-F-I,m.mh=m.h&&m.h<m.mh?m.h:m.mh;h=m.href;ea=setTimeout(function(){Q.show()},100);m.inline?(b().hide().insertBefore(a(h)[0]).one(C,function(){a(this).replaceWith(z.children())}),d(a(h))):m.iframe?d(" "):m.html?d(m.html):e(h)?(a(y=new Image).addClass(n+"Photo").error(function(){m.title=
!1;d(b("Error").text("This image could not be loaded"))}).load(function(){var b;y.onload=null;m.scalePhotos&&(k=function(){y.height-=y.height*b;y.width-=y.width*b},m.mw&&y.width>m.mw&&(b=(y.width-m.mw)/y.width,k()),m.mh&&y.height>m.mh&&(b=(y.height-m.mh)/y.height,k()));if(m.h)y.style.marginTop=Math.max(m.h-y.height,0)/2+"px";if(w[1]&&(x<w.length-1||m.loop))y.style.cursor="pointer",y.onclick=function(){u.next()};if(L)y.style.msInterpolationMode="bicubic";setTimeout(function(){d(y)},1)}),setTimeout(function(){y.src=
h},1)):h&&P.load(h,m.data,function(f,e,c){d(e==="error"?b("Error").text("Request unsuccessful: "+c.statusText):a(this).contents())})};u.next=function(){if(!N&&w[1]&&(x<w.length-1||m.loop))x=x<w.length-1?x+1:0,u.load()};u.prev=function(){if(!N&&w[1]&&(x||m.loop))x=x?x-1:w.length-1,u.load()};u.close=function(){E&&!T&&(T=!0,E=!1,g(t,m.onCleanup),A.unbind("."+n+" ."+U),H.fadeTo(200,0),s.stop().fadeTo(300,0,function(){s.add(H).css({opacity:1,cursor:"auto"}).hide();g(C);z.remove();setTimeout(function(){T=
!1;g(v,m.onClosed)},1)}))};u.element=function(){return a(B)};u.settings=l;da=function(b){b.button!==0&&typeof b.button!=="undefined"||b.ctrlKey||b.shiftKey||b.altKey||(b.preventDefault(),k(this))};a.fn.delegate?a(d).delegate("."+q,"click",da):a("."+q).live("click",da);a(u.init)})(jQuery,document,this);
jQuery.cookie=function(a,d,c){if(arguments.length>1&&String(d)!=="[object Object]"){c=jQuery.extend({},c);if(d===null||d===void 0)c.expires=-1;if(typeof c.expires==="number"){var b=c.expires,f=c.expires=new Date;f.setDate(f.getDate()+b)}d=String(d);return document.cookie=[encodeURIComponent(a),"=",c.raw?d:encodeURIComponent(d),c.expires?"; expires="+c.expires.toUTCString():"",c.path?"; path="+c.path:"",c.domain?"; domain="+c.domain:"",c.secure?"; secure":""].join("")}c=d||{};f=c.raw?function(b){return b}:
decodeURIComponent;return(b=RegExp("(?:^|; )"+encodeURIComponent(a)+"=([^;]*)").exec(document.cookie))?f(b[1]):null};
(function(a){a._i18n={trans:{},"default":"en",language:"en"};a.i18n=function(){var d=function(b,f){var e=!1;a._i18n.trans[a._i18n.language]&&a._i18n.trans[a._i18n.language][b]&&a._i18n.trans[a._i18n.language][b][f]?e=a._i18n.trans[a._i18n.language][b][f]:a._i18n.trans[a._i18n["default"]]&&a._i18n.trans[a._i18n["default"]][b]&&a._i18n.trans[a._i18n["default"]][b][f]&&(e=a._i18n.trans[a._i18n["default"]][b][f]);return e||f};if(arguments.length<2)return a._i18n.language=arguments[0],a._i18n.language;
else if(typeof arguments[1]=="string")return d=d(arguments[0],arguments[1]),arguments[2]&&typeof arguments[2]=="object"?a.format(d,arguments[2]):d;else{var c=arguments[0].split("."),d=c[0],c=c[1]||"jQuery";a._i18n.trans[d]||(a._i18n.trans[d]={});a._i18n.trans[d][c]?a.extend(a._i18n.trans[d][c],arguments[1]):a._i18n.trans[d][c]=arguments[1]}}})(jQuery);
(function(a){function d(c,b){var f=function(b){b=a[c][b]||[];return typeof b=="string"?b.split(/,?\s+/):b}("getter");return a.inArray(b,f)!=-1}a.fn.jPlayer=function(c){var b=typeof c=="string",f=Array.prototype.slice.call(arguments,1);if(b&&c.substring(0,1)=="_")return this;if(b&&d("jPlayer",c,f)){var e=a.data(this[0],"jPlayer");return e?e[c].apply(e,f):void 0}return this.each(function(){var e=a.data(this,"jPlayer");!e&&!b&&a.data(this,"jPlayer",new a.jPlayer(this,c))._init();e&&b&&a.isFunction(e[c])&&
e[c].apply(e,f)})};a.jPlayer=function(c,b){this.options=a.extend({},b);this.element=a(c)};a.jPlayer.getter="jPlayerOnProgressChange jPlayerOnSoundComplete jPlayerVolume jPlayerReady getData jPlayerController";a.jPlayer.defaults={cssPrefix:"jqjp",swfPath:"js",volume:80,oggSupport:!1,nativeSupport:!0,preload:"none",customCssIds:!1,graphicsFix:!0,errorAlerts:!1,warningAlerts:!1,position:"absolute",width:"0",height:"0",top:"0",left:"0",quality:"high",bgcolor:"#ffffff"};a.jPlayer._config={version:"1.2.0",
swfVersionRequired:"1.2.0",swfVersion:"unknown",jPlayerControllerId:void 0,delayedCommandId:void 0,isWaitingForPlay:!1,isFileSet:!1};a.jPlayer._diag={isPlaying:!1,src:"",loadPercent:0,playedPercentRelative:0,playedPercentAbsolute:0,playedTime:0,totalTime:0};a.jPlayer._cssId={play:"jplayer_play",pause:"jplayer_pause",stop:"jplayer_stop",loadBar:"jplayer_load_bar",playBar:"jplayer_play_bar",volumeMin:"jplayer_volume_min",volumeMax:"jplayer_volume_max",volumeBar:"jplayer_volume_bar",volumeBarValue:"jplayer_volume_bar_value"};
a.jPlayer.count=0;a.jPlayer.timeFormat={showHour:!1,showMin:!0,showSec:!0,padHour:!1,padMin:!0,padSec:!0,sepHour:":",sepMin:":",sepSec:""};a.jPlayer.convertTime=function(c){var b=new Date(c),f=b.getUTCHours(),c=b.getUTCMinutes(),b=b.getUTCSeconds(),f=a.jPlayer.timeFormat.padHour&&f<10?"0"+f:f,c=a.jPlayer.timeFormat.padMin&&c<10?"0"+c:c,b=a.jPlayer.timeFormat.padSec&&b<10?"0"+b:b;return(a.jPlayer.timeFormat.showHour?f+a.jPlayer.timeFormat.sepHour:"")+(a.jPlayer.timeFormat.showMin?c+a.jPlayer.timeFormat.sepMin:
"")+(a.jPlayer.timeFormat.showSec?b+a.jPlayer.timeFormat.sepSec:"")};a.jPlayer.prototype={_init:function(){var c=this,b=this.element;this.config=a.extend({},a.jPlayer.defaults,this.options,a.jPlayer._config);this.config.diag=a.extend({},a.jPlayer._diag);this.config.cssId={};this.config.cssSelector={};this.config.cssDisplay={};this.config.clickHandler={};this.element.data("jPlayer.config",this.config);a.extend(this.config,{id:this.element.attr("id"),swf:this.config.swfPath+(this.config.swfPath!=""&&
this.config.swfPath.slice(-1)!="/"?"/":"")+"Jplayer.swf",fid:this.config.cssPrefix+"_flash_"+a.jPlayer.count,aid:this.config.cssPrefix+"_audio_"+a.jPlayer.count,hid:this.config.cssPrefix+"_force_"+a.jPlayer.count,i:a.jPlayer.count,volume:this._limitValue(this.config.volume,0,100),autobuffer:this.config.preload!="none"});a.jPlayer.count++;if(this.config.ready!=void 0)a.isFunction(this.config.ready)?this.jPlayerReadyCustom=this.config.ready:this._warning("Constructor's ready option is not a function.");
this.config.audio=document.createElement("audio");this.config.audio.id=this.config.aid;a.extend(this.config,{canPlayMP3:!(!this.config.audio.canPlayType||!(""!=this.config.audio.canPlayType("audio/mpeg")&&"no"!=this.config.audio.canPlayType("audio/mpeg"))),canPlayOGG:!(!this.config.audio.canPlayType||!(""!=this.config.audio.canPlayType("audio/ogg")&&"no"!=this.config.audio.canPlayType("audio/ogg"))),aSel:a("#"+this.config.aid)});a.extend(this.config,{html5:!!(this.config.oggSupport?this.config.canPlayOGG||
this.config.canPlayMP3:this.config.canPlayMP3)});a.extend(this.config,{usingFlash:!(this.config.html5&&this.config.nativeSupport),usingMP3:!(this.config.oggSupport&&this.config.canPlayOGG&&this.config.nativeSupport)});var f={setButtons:function(b,f){c.config.diag.isPlaying=f;c.config.cssId.play!=void 0&&c.config.cssId.pause!=void 0&&(f?(c.config.cssSelector.play.css("display","none"),c.config.cssSelector.pause.css("display",c.config.cssDisplay.pause)):(c.config.cssSelector.play.css("display",c.config.cssDisplay.play),
c.config.cssSelector.pause.css("display","none")));if(f)c.config.isWaitingForPlay=!1}},e={setFile:function(f,a){try{c._getMovie().fl_setFile_mp3(a),c.config.autobuffer&&b.trigger("jPlayer.load"),c.config.diag.src=a,c.config.isFileSet=!0,b.trigger("jPlayer.setButtons",!1)}catch(e){c._flashError(e)}},clearFile:function(){try{b.trigger("jPlayer.setButtons",!1),c._getMovie().fl_clearFile_mp3(),c.config.diag.src="",c.config.isFileSet=!1}catch(f){c._flashError(f)}},load:function(){try{c._getMovie().fl_load_mp3()}catch(b){c._flashError(b)}},
play:function(){try{c._getMovie().fl_play_mp3()&&b.trigger("jPlayer.setButtons",!0)}catch(f){c._flashError(f)}},pause:function(){try{c._getMovie().fl_pause_mp3()&&b.trigger("jPlayer.setButtons",!1)}catch(f){c._flashError(f)}},stop:function(){try{c._getMovie().fl_stop_mp3()&&b.trigger("jPlayer.setButtons",!1)}catch(f){c._flashError(f)}},playHead:function(f,a){try{c._getMovie().fl_play_head_mp3(a)&&b.trigger("jPlayer.setButtons",!0)}catch(e){c._flashError(e)}},playHeadTime:function(f,a){try{c._getMovie().fl_play_head_time_mp3(a)&&
b.trigger("jPlayer.setButtons",!0)}catch(e){c._flashError(e)}},volume:function(b,f){c.config.volume=f;try{c._getMovie().fl_volume_mp3(f)}catch(a){c._flashError(a)}}},i={setFile:function(f,a,e){c.config.diag.src=c.config.usingMP3?a:e;c.config.isFileSet&&!c.config.isWaitingForPlay&&b.trigger("jPlayer.pause");c.config.audio.autobuffer=c.config.autobuffer;c.config.audio.preload=c.config.preload;c.config.autobuffer?(c.config.audio.src=c.config.diag.src,c.config.audio.load()):c.config.isWaitingForPlay=
!0;c.config.isFileSet=!0;c.jPlayerOnProgressChange(0,0,0,0,0);clearInterval(c.config.jPlayerControllerId);if(c.config.autobuffer)c.config.jPlayerControllerId=window.setInterval(function(){c.jPlayerController(!1)},100);clearInterval(c.config.delayedCommandId)},clearFile:function(){c.setFile("","");c.config.isWaitingForPlay=!1;c.config.isFileSet=!1},load:function(){if(c.config.isFileSet&&c.config.isWaitingForPlay)c.config.audio.autobuffer=!0,c.config.audio.preload="auto",c.config.audio.src=c.config.diag.src,
c.config.audio.load(),c.config.isWaitingForPlay=!1,clearInterval(c.config.jPlayerControllerId),c.config.jPlayerControllerId=window.setInterval(function(){c.jPlayerController(!1)},100)},play:function(){if(c.config.isFileSet){if(c.config.isWaitingForPlay)c.config.audio.src=c.config.diag.src,c.config.audio.load();c.config.audio.play();b.trigger("jPlayer.setButtons",!0);clearInterval(c.config.jPlayerControllerId);c.config.jPlayerControllerId=window.setInterval(function(){c.jPlayerController(!1)},100);
clearInterval(c.config.delayedCommandId)}},pause:function(){c.config.isFileSet&&(c.config.audio.pause(),b.trigger("jPlayer.setButtons",!1),clearInterval(c.config.delayedCommandId))},stop:function(){if(c.config.isFileSet)try{b.trigger("jPlayer.pause"),c.config.audio.currentTime=0,clearInterval(c.config.jPlayerControllerId),c.config.jPlayerControllerId=window.setInterval(function(){c.jPlayerController(!0)},100)}catch(f){clearInterval(c.config.delayedCommandId),c.config.delayedCommandId=window.setTimeout(function(){c.stop()},
100)}},playHead:function(f,a){if(c.config.isFileSet)try{b.trigger("jPlayer.load");if(typeof c.config.audio.buffered=="object"&&c.config.audio.buffered.length>0)c.config.audio.currentTime=a*c.config.audio.buffered.end(c.config.audio.buffered.length-1)/100;else if(c.config.audio.duration>0&&!isNaN(c.config.audio.duration))c.config.audio.currentTime=a*c.config.audio.duration/100;else throw"e";b.trigger("jPlayer.play")}catch(e){b.trigger("jPlayer.play"),b.trigger("jPlayer.pause"),c.config.delayedCommandId=
window.setTimeout(function(){c.playHead(a)},100)}},playHeadTime:function(f,a){if(c.config.isFileSet)try{b.trigger("jPlayer.load"),c.config.audio.currentTime=a/1E3,b.trigger("jPlayer.play")}catch(e){b.trigger("jPlayer.play"),b.trigger("jPlayer.pause"),c.config.delayedCommandId=window.setTimeout(function(){c.playHeadTime(a)},100)}},volume:function(b,f){c.config.volume=f;c.config.audio.volume=f/100;c.jPlayerVolume(f)}};this.config.usingFlash?a.extend(f,e):a.extend(f,i);for(var g in f)e="jPlayer."+g,
this.element.unbind(e),this.element.bind(e,f[g]);if(this.config.usingFlash)if(this._checkForFlash(8))if(a.browser.msie){g='<object id="'+this.config.fid+'"';g+=' classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"';g+=' codebase="'+document.URL.substring(0,document.URL.indexOf(":"))+'://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab"';g+=' type="application/x-shockwave-flash"';g+=' width="'+this.config.width+'" height="'+this.config.height+'">';g+="</object>";f=[];f[0]='<param name="movie" value="'+
this.config.swf+'" />';f[1]='<param name="quality" value="high" />';f[2]='<param name="FlashVars" value="id='+escape(this.config.id)+"&fid="+escape(this.config.fid)+"&vol="+this.config.volume+'" />';f[3]='<param name="allowScriptAccess" value="always" />';f[4]='<param name="bgcolor" value="'+this.config.bgcolor+'" />';g=document.createElement(g);for(e=0;e<f.length;e++)g.appendChild(document.createElement(f[e]));this.element.html(g)}else f='<embed name="'+this.config.fid+'" id="'+this.config.fid+'" src="'+
this.config.swf+'"',f+=' width="'+this.config.width+'" height="'+this.config.height+'" bgcolor="'+this.config.bgcolor+'"',f+=' quality="high" FlashVars="id='+escape(this.config.id)+"&fid="+escape(this.config.fid)+"&vol="+this.config.volume+'"',f+=' allowScriptAccess="always"',f+=' type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" />',this.element.html(f);else this.element.html("<p>Flash 8 or above is not installed. <a href='http://get.adobe.com/flashplayer'>Get Flash!</a></p>");
else this.config.audio.autobuffer=this.config.autobuffer,this.config.audio.preload=this.config.preload,this.config.audio.addEventListener("canplay",function(){var b=0.1*Math.random();c.config.audio.volume=(c.config.volume+(c.config.volume<50?b:-b))/100},!1),this.config.audio.addEventListener("ended",function(){clearInterval(c.config.jPlayerControllerId);c.jPlayerOnSoundComplete()},!1),this.element.append(this.config.audio);this.element.css({position:this.config.position,top:this.config.top,left:this.config.left});
this.config.graphicsFix&&(this.element.append('<div id="'+this.config.hid+'"></div>'),a.extend(this.config,{hSel:a("#"+this.config.hid)}),this.config.hSel.css({"text-indent":"-9999px"}));this.config.customCssIds||a.each(a.jPlayer._cssId,function(b,f){c.cssId(b,f)});this.config.usingFlash||(this.element.css({left:"-9999px"}),window.setTimeout(function(){c.volume(c.config.volume);c.jPlayerReady()},100))},jPlayerReady:function(a){this.config.usingFlash?(this.config.swfVersion=a,this.config.swfVersionRequired!=
this.config.swfVersion&&this._error("jPlayer's JavaScript / SWF version mismatch!\n\nJavaScript requires SWF : "+this.config.swfVersionRequired+"\nThe Jplayer.swf used is : "+this.config.swfVersion)):this.config.swfVersion="n/a";this.jPlayerReadyCustom()},jPlayerReadyCustom:function(){},setFile:function(a,b){this.element.trigger("jPlayer.setFile",[a,b])},clearFile:function(){this.element.trigger("jPlayer.clearFile")},load:function(){this.element.trigger("jPlayer.load")},play:function(){this.element.trigger("jPlayer.play")},
pause:function(){this.element.trigger("jPlayer.pause")},stop:function(){this.element.trigger("jPlayer.stop")},playHead:function(a){this.element.trigger("jPlayer.playHead",[a])},playHeadTime:function(a){this.element.trigger("jPlayer.playHeadTime",[a])},volume:function(a){a=this._limitValue(a,0,100);this.element.trigger("jPlayer.volume",[a])},cssId:function(c,b){var f=this;if(typeof b=="string")if(a.jPlayer._cssId[c]){this.config.cssId[c]!=void 0&&this.config.cssSelector[c].unbind("click",this.config.clickHandler[c]);
this.config.cssId[c]=b;this.config.cssSelector[c]=a("#"+b);this.config.clickHandler[c]=function(b){f[c](b);a(this).blur();return!1};this.config.cssSelector[c].click(this.config.clickHandler[c]);var e=this.config.cssSelector[c].css("display");c=="play"&&(this.config.cssDisplay.pause=e);c=="pause"&&e=="none"||(this.config.cssDisplay[c]=e,c=="pause"&&this.config.cssSelector[c].css("display","none"))}else this._warning("Unknown/Illegal function in cssId\n\njPlayer('cssId', '"+c+"', '"+b+"')");else this._warning("cssId CSS Id must be a string\n\njPlayer('cssId', '"+
c+"', "+b+")")},loadBar:function(a){if(this.config.cssId.loadBar!=void 0){var b=this.config.cssSelector.loadBar.offset(),a=a.pageX-b.left,b=this.config.cssSelector.loadBar.width();this.playHead(100*a/b)}},playBar:function(a){this.loadBar(a)},onProgressChange:function(c){a.isFunction(c)?this.onProgressChangeCustom=c:this._warning("onProgressChange parameter is not a function.")},onProgressChangeCustom:function(){},jPlayerOnProgressChange:function(a,b,f,e,i){this.config.diag.loadPercent=a;this.config.diag.playedPercentRelative=
b;this.config.diag.playedPercentAbsolute=f;this.config.diag.playedTime=e;this.config.diag.totalTime=i;this.config.cssId.loadBar!=void 0&&this.config.cssSelector.loadBar.width(a+"%");this.config.cssId.playBar!=void 0&&this.config.cssSelector.playBar.width(b+"%");this.onProgressChangeCustom(a,b,f,e,i);this._forceUpdate()},jPlayerController:function(a){var b=0,f=0,e=0,i=0,g=0;this.config.audio.readyState>=1&&(b=this.config.audio.currentTime*1E3,f=this.config.audio.duration*1E3,f=isNaN(f)?0:f,e=f>0?100*
b/f:0,typeof this.config.audio.buffered=="object"&&this.config.audio.buffered.length>0?(i=100*this.config.audio.buffered.end(this.config.audio.buffered.length-1)/this.config.audio.duration,g=100*this.config.audio.currentTime/this.config.audio.buffered.end(this.config.audio.buffered.length-1)):(i=100,g=e));!this.config.diag.isPlaying&&i>=100&&clearInterval(this.config.jPlayerControllerId);a?this.jPlayerOnProgressChange(i,0,0,0,f):this.jPlayerOnProgressChange(i,g,e,b,f)},volumeMin:function(){this.volume(0)},
volumeMax:function(){this.volume(100)},volumeBar:function(a){if(this.config.cssId.volumeBar!=void 0){var b=this.config.cssSelector.volumeBar.offset(),a=a.pageX-b.left,b=this.config.cssSelector.volumeBar.width();this.volume(100*a/b)}},volumeBarValue:function(a){this.volumeBar(a)},jPlayerVolume:function(a){this.config.cssId.volumeBarValue!=null&&(this.config.cssSelector.volumeBarValue.width(a+"%"),this._forceUpdate())},onSoundComplete:function(c){a.isFunction(c)?this.onSoundCompleteCustom=c:this._warning("onSoundComplete parameter is not a function.")},
onSoundCompleteCustom:function(){},jPlayerOnSoundComplete:function(){this.element.trigger("jPlayer.setButtons",!1);this.onSoundCompleteCustom()},getData:function(a){for(var b=a.split("."),f=this.config,e=0;e<b.length;e++)if(f[b[e]]!=void 0)f=f[b[e]];else{this._warning("Undefined data requested.\n\njPlayer('getData', '"+a+"')");return}return f},_getMovie:function(){return document[this.config.fid]},_checkForFlash:function(a){var b=!1,f;if(window.ActiveXObject)try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+
a),b=!0}catch(e){}else navigator.plugins&&navigator.mimeTypes.length>0&&(f=navigator.plugins["Shockwave Flash"])&&navigator.plugins["Shockwave Flash"].description.replace(/.*\s(\d+\.\d+).*/,"$1")>=a&&(b=!0);return b},_forceUpdate:function(){this.config.graphicsFix&&this.config.hSel.text(""+Math.random())},_limitValue:function(a,b,f){return a<b?b:a>f?f:a},_flashError:function(a){this._error("Problem with Flash component.\n\nCheck the swfPath points at the Jplayer.swf path.\n\nswfPath = "+this.config.swfPath+
"\nurl: "+this.config.swf+"\n\nError: "+a.message)},_error:function(a){this.config.errorAlerts&&this._alert("Error!\n\n"+a)},_warning:function(a){this.config.warningAlerts&&this._alert("Warning!\n\n"+a)},_alert:function(a){alert("jPlayer "+this.config.version+" : id='"+this.config.id+"' : "+a)}}})(jQuery);
(function(){if(!jQuery||!jQuery.jstree){var a=!1,d=!1,c=!1;(function(b){b.vakata={};b.vakata.css={get_css:function(b,a,f){var b=b.toLowerCase(),e=f.cssRules||f.rules,c=0;do{if(e.length&&c>e.length+5)break;if(e[c].selectorText&&e[c].selectorText.toLowerCase()==b)return a===!0?(f.removeRule&&f.removeRule(c),f.deleteRule&&f.deleteRule(c),!0):e[c]}while(e[++c]);return!1},add_css:function(a,f){if(b.jstree.css.get_css(a,!1,f))return!1;f.insertRule?f.insertRule(a+" { }",0):f.addRule(a,null,0);return b.vakata.css.get_css(a)},
remove_css:function(a,f){return b.vakata.css.get_css(a,!0,f)},add_sheet:function(a){var f=!1,e=!0;if(a.str)return a.title&&(f=b("style[id='"+a.title+"-stylesheet']")[0]),f?e=!1:(f=document.createElement("style"),f.setAttribute("type","text/css"),a.title&&f.setAttribute("id",a.title+"-stylesheet")),f.styleSheet?e?(document.getElementsByTagName("head")[0].appendChild(f),f.styleSheet.cssText=a.str):f.styleSheet.cssText=f.styleSheet.cssText+" "+a.str:(f.appendChild(document.createTextNode(a.str)),document.getElementsByTagName("head")[0].appendChild(f)),
f.sheet||f.styleSheet;if(a.url)if(document.createStyleSheet)try{document.createStyleSheet(a.url)}catch(c){}else return f=document.createElement("link"),f.rel="stylesheet",f.type="text/css",f.media="all",f.href=a.url,document.getElementsByTagName("head")[0].appendChild(f),f.styleSheet}};var f=[],e=-1,i={},g={};b.fn.jstree=function(a){var e=typeof a=="string",c=Array.prototype.slice.call(arguments,1),g=this;if(e){if(a.substring(0,1)=="_")return g;this.each(function(){var e=f[b.data(this,"jstree_instance_id")],
e=e&&b.isFunction(e[a])?e[a].apply(e,c):e;if(typeof e!=="undefined"&&(a.indexOf("is_")===0||e!==!0&&e!==!1))return g=e,!1})}else this.each(function(){var e=b.data(this,"jstree_instance_id"),g=[],d=a?b.extend({},!0,a):{},k=b(this),j=!1,t=[],g=g.concat(c);k.data("jstree")&&g.push(k.data("jstree"));d=g.length?b.extend.apply(null,[!0,d].concat(g)):d;typeof e!=="undefined"&&f[e]&&f[e].destroy();e=parseInt(f.push({}),10)-1;b.data(this,"jstree_instance_id",e);d.plugins=b.isArray(d.plugins)?d.plugins:b.jstree.defaults.plugins.slice();
d.plugins.unshift("core");d.plugins=d.plugins.sort().join(",,").replace(/(,|^)([^,]+)(,,\2)+(,|$)/g,"$1$2$4").replace(/,,+/g,",").replace(/,$/,"").split(",");j=b.extend(!0,{},b.jstree.defaults,d);j.plugins=d.plugins;b.each(i,function(a){b.inArray(a,j.plugins)===-1?(j[a]=null,delete j[a]):t.push(a)});j.plugins=t;f[e]=new b.jstree._instance(e,b(this).addClass("jstree jstree-"+e),j);b.each(f[e]._get_settings().plugins,function(b,a){f[e].data[a]={}});b.each(f[e]._get_settings().plugins,function(b,a){i[a]&&
i[a].__init.apply(f[e])});setTimeout(function(){f[e]&&f[e].init()},0)});return g};b.jstree={defaults:{plugins:[]},_focused:function(){return f[e]||null},_reference:function(a){if(f[a])return f[a];var e=b(a);!e.length&&typeof a==="string"&&(e=b("#"+a));return!e.length?null:f[e.closest(".jstree").data("jstree_instance_id")]||null},_instance:function(a,f,e){this.data={core:{}};this.get_settings=function(){return b.extend(!0,{},e)};this._get_settings=function(){return e};this.get_index=function(){return a};
this.get_container=function(){return f};this.get_container_ul=function(){return f.children("ul:eq(0)")};this._set_settings=function(a){e=b.extend(!0,{},e,a)}},_fn:{},plugin:function(a,f){f=b.extend({},{__init:b.noop,__destroy:b.noop,_fn:{},defaults:!1},f);i[a]=f;b.jstree.defaults[a]=f.defaults;b.each(f._fn,function(f,e){e.plugin=a;e.old=b.jstree._fn[f];b.jstree._fn[f]=function(){var a,c=e,h=Array.prototype.slice.call(arguments);a=new b.Event("before.jstree");var g=!1;if(!(this.data.core.locked===
!0&&f!=="unlock"&&f!=="is_locked")){do{if(c&&c.plugin&&b.inArray(c.plugin,this._get_settings().plugins)!==-1)break;c=c.old}while(c);if(c){if(f.indexOf("_")===0)a=c.apply(this,h);else{a=this.get_container().triggerHandler(a,{func:f,inst:this,args:h,plugin:c.plugin});if(a===!1)return;typeof a!=="undefined"&&(h=a);a=c.apply(b.extend({},this,{__callback:function(b){this.get_container().triggerHandler(f+".jstree",{inst:this,args:h,rslt:b,rlbk:g})},__rollback:function(){return g=this.get_rollback()},__call_old:function(b){return c.old.apply(this,
b?Array.prototype.slice.call(arguments,1):h)}}),h)}return a}}};b.jstree._fn[f].old=e.old;b.jstree._fn[f].plugin=a})},rollback:function(a){a&&(b.isArray(a)||(a=[a]),b.each(a,function(b,a){f[a.i].set_rollback(a.h,a.d)}))}};b.jstree._fn=b.jstree._instance.prototype={};b(function(){var f=navigator.userAgent.toLowerCase(),e=(f.match(/.+?(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[0,"0"])[1],g=".jstree ul, .jstree li { display:block; margin:0 0 0 0; padding:0 0 0 0; list-style-type:none; } .jstree li { display:block; min-height:18px; line-height:18px; white-space:nowrap; margin-left:18px; min-width:18px; } .jstree-rtl li { margin-left:0; margin-right:18px; } .jstree > ul > li { margin-left:0px; } .jstree-rtl > ul > li { margin-right:0px; } .jstree ins { display:inline-block; text-decoration:none; width:18px; height:18px; margin:0 0 0 0; padding:0; } .jstree a { display:inline-block; line-height:16px; height:16px; color:black; white-space:nowrap; text-decoration:none; padding:1px 2px; margin:0; } .jstree a:focus { outline: none; } .jstree a > ins { height:16px; width:16px; } .jstree a > .jstree-icon { margin-right:3px; } .jstree-rtl a > .jstree-icon { margin-left:3px; margin-right:0; } li.jstree-open > ul { display:block; } li.jstree-closed > ul { display:none; } ";
if(/msie/.test(f)&&parseInt(e,10)==6){a=!0;try{document.execCommand("BackgroundImageCache",!1,!0)}catch(i){}g+=".jstree li { height:18px; margin-left:0; margin-right:0; } .jstree li li { margin-left:18px; } .jstree-rtl li li { margin-left:0px; margin-right:18px; } li.jstree-open ul { display:block; } li.jstree-closed ul { display:none !important; } .jstree li a { display:inline; border-width:0 !important; padding:0px 2px !important; } .jstree li a ins { height:16px; width:16px; margin-right:3px; } .jstree-rtl li a ins { margin-right:0px; margin-left:3px; } "}/msie/.test(f)&&
parseInt(e,10)==7&&(d=!0,g+=".jstree li a { border-width:0 !important; padding:0px 2px !important; } ");!/compatible/.test(f)&&/mozilla/.test(f)&&parseFloat(e,10)<1.9&&(c=!0,g+=".jstree ins { display:-moz-inline-box; } .jstree li { line-height:12px; } .jstree a { display:-moz-inline-box; } .jstree .jstree-no-icons .jstree-checkbox { display:-moz-inline-stack !important; } ");b.vakata.css.add_sheet({str:g,title:"jstree"})});b.jstree.plugin("core",{__init:function(){this.data.core.locked=!1;this.data.core.to_open=
this.get_settings().core.initially_open;this.data.core.to_load=this.get_settings().core.initially_load},defaults:{html_titles:!1,animation:500,initially_open:[],initially_load:[],open_parents:!0,notify_plugins:!0,rtl:!1,load_open:!1,strings:{loading:"Loading ...",new_node:"New node",multiple_selection:"Multiple selection"}},_fn:{init:function(){this.set_focus();this._get_settings().core.rtl&&this.get_container().addClass("jstree-rtl").css("direction","rtl");this.get_container().html("<ul><li class='jstree-last jstree-leaf'><ins>&#160;</ins><a class='jstree-loading' href='#'><ins class='jstree-icon'>&#160;</ins>"+
this._get_string("loading")+"</a></li></ul>");this.data.core.li_height=this.get_container_ul().find("li.jstree-closed, li.jstree-leaf").eq(0).height()||18;this.get_container().delegate("li > ins","click.jstree",b.proxy(function(a){this.toggle_node(b(a.target))},this)).bind("mousedown.jstree",b.proxy(function(){this.set_focus()},this)).bind("dblclick.jstree",function(){var b;if(document.selection&&document.selection.empty)document.selection.empty();else if(window.getSelection){b=window.getSelection();
try{b.removeAllRanges(),b.collapse()}catch(a){}}});this._get_settings().core.notify_plugins&&this.get_container().bind("load_node.jstree",b.proxy(function(a,f){var e=this._get_node(f.rslt.obj),c=this;e===-1&&(e=this.get_container_ul());e.length&&e.find("li").each(function(){var a=b(this);a.data("jstree")&&b.each(a.data("jstree"),function(f,e){c.data[f]&&b.isFunction(c["_"+f+"_notify"])&&c["_"+f+"_notify"].call(c,a,e)})})},this));this._get_settings().core.load_open&&this.get_container().bind("load_node.jstree",
b.proxy(function(a,f){var e=this._get_node(f.rslt.obj),c=this;e===-1&&(e=this.get_container_ul());e.length&&e.find("li.jstree-open:not(:has(ul))").each(function(){c.load_node(this,b.noop,b.noop)})},this));this.__callback();this.load_node(-1,function(){this.loaded();this.reload_nodes()})},destroy:function(){var a,c=this.get_index(),g=this._get_settings(),d=this;b.each(g.plugins,function(b,a){try{i[a].__destroy.apply(d)}catch(f){}});this.__callback();if(this.is_focused())for(a in f)if(f.hasOwnProperty(a)&&
a!=c){f[a].set_focus();break}c===e&&(e=-1);this.get_container().unbind(".jstree").undelegate(".jstree").removeData("jstree_instance_id").find("[class^='jstree']").andSelf().attr("class",function(){return this.className.replace(/jstree[^ ]*|$/ig,"")});b(document).unbind(".jstree-"+c).undelegate(".jstree-"+c);f[c]=null;delete f[c]},_core_notify:function(b,a){a.opened&&this.open_node(b,!1,!0)},lock:function(){this.data.core.locked=!0;this.get_container().children("ul").addClass("jstree-locked").css("opacity",
"0.7");this.__callback({})},unlock:function(){this.data.core.locked=!1;this.get_container().children("ul").removeClass("jstree-locked").css("opacity","1");this.__callback({})},is_locked:function(){return this.data.core.locked},save_opened:function(){var b=this;this.data.core.to_open=[];this.get_container_ul().find("li.jstree-open").each(function(){this.id&&b.data.core.to_open.push("#"+this.id.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,
"\\.").replace(/\:/g,"\\:"))});this.__callback(b.data.core.to_open)},save_loaded:function(){},reload_nodes:function(a){var f=this,e=!0,c=[],g=[];if(!a&&(this.data.core.reopen=!1,this.data.core.refreshing=!0,this.data.core.to_open=b.map(b.makeArray(this.data.core.to_open),function(b){return"#"+b.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:")}),this.data.core.to_load=b.map(b.makeArray(this.data.core.to_load),function(b){return"#"+
b.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:")}),this.data.core.to_open.length))this.data.core.to_load=this.data.core.to_load.concat(this.data.core.to_open);if(this.data.core.to_load.length&&(b.each(this.data.core.to_load,function(a,f){if(f=="#")return!0;b(f).length?c.push(f):g.push(f)}),c.length))this.data.core.to_load=g,b.each(c,function(b,a){f._is_loaded(a)||(f.load_node(a,function(){f.reload_nodes(!0)},function(){f.reload_nodes(!0)}),
e=!1)});this.data.core.to_open.length&&b.each(this.data.core.to_open,function(b,a){f.open_node(a,!1,!0)});if(e)this.data.core.reopen&&clearTimeout(this.data.core.reopen),this.data.core.reopen=setTimeout(function(){f.__callback({},f)},50),this.data.core.refreshing=!1,this.reopen()},reopen:function(){var a=this;this.data.core.to_open.length&&b.each(this.data.core.to_open,function(b,f){a.open_node(f,!1,!0)});this.__callback({})},refresh:function(b){var a=this;this.save_opened();b||(b=-1);(b=this._get_node(b))||
(b=-1);b!==-1?b.children("UL").remove():this.get_container_ul().empty();this.load_node(b,function(){a.__callback({obj:b});a.reload_nodes()})},loaded:function(){this.__callback()},set_focus:function(){if(!this.is_focused()){var a=b.jstree._focused();a&&a.unset_focus();this.get_container().addClass("jstree-focused");e=this.get_index();this.__callback()}},is_focused:function(){return e==this.get_index()},unset_focus:function(){this.is_focused()&&(this.get_container().removeClass("jstree-focused"),e=
-1);this.__callback()},_get_node:function(a){var f=b(a,this.get_container());if(f.is(".jstree")||a==-1)return-1;f=f.closest("li",this.get_container());return f.length?f:!1},_get_next:function(b,a){b=this._get_node(b);return b===-1?this.get_container().find("> ul > li:first-child"):!b.length?!1:a?b.nextAll("li").size()>0?b.nextAll("li:eq(0)"):!1:b.hasClass("jstree-open")?b.find("li:eq(0)"):b.nextAll("li").size()>0?b.nextAll("li:eq(0)"):b.parentsUntil(".jstree","li").next("li").eq(0)},_get_prev:function(b,
a){b=this._get_node(b);if(b===-1)return this.get_container().find("> ul > li:last-child");if(!b.length)return!1;if(a)return b.prevAll("li").length>0?b.prevAll("li:eq(0)"):!1;if(b.prev("li").length){for(b=b.prev("li").eq(0);b.hasClass("jstree-open");)b=b.children("ul:eq(0)").children("li:last");return b}else{var f=b.parentsUntil(".jstree","li:eq(0)");return f.length?f:!1}},_get_parent:function(b){b=this._get_node(b);if(b==-1||!b.length)return!1;b=b.parentsUntil(".jstree","li:eq(0)");return b.length?
b:-1},_get_children:function(b){b=this._get_node(b);return b===-1?this.get_container().children("ul:eq(0)").children("li"):!b.length?!1:b.children("ul:eq(0)").children("li")},get_path:function(b,a){var f=[],e=this,b=this._get_node(b);if(b===-1||!b||!b.length)return!1;b.parentsUntil(".jstree","li").each(function(){f.push(a?this.id:e.get_text(this))});f.reverse();f.push(a?b.attr("id"):this.get_text(b));return f},_get_string:function(b){return this._get_settings().core.strings[b]||b},is_open:function(b){return(b=
this._get_node(b))&&b!==-1&&b.hasClass("jstree-open")},is_closed:function(b){return(b=this._get_node(b))&&b!==-1&&b.hasClass("jstree-closed")},is_leaf:function(b){return(b=this._get_node(b))&&b!==-1&&b.hasClass("jstree-leaf")},correct_state:function(b){b=this._get_node(b);if(!b||b===-1)return!1;b.removeClass("jstree-closed jstree-open").addClass("jstree-leaf").children("ul").remove();this.__callback({obj:b})},open_node:function(b,f,e){b=this._get_node(b);if(!b.length)return!1;if(!b.hasClass("jstree-closed"))return f&&
f.call(),!1;var c=e||a?0:this._get_settings().core.animation,g=this;this._is_loaded(b)?(this._get_settings().core.open_parents&&b.parentsUntil(".jstree",".jstree-closed").each(function(){g.open_node(this,!1,!0)}),c&&b.children("ul").css("display","none"),b.removeClass("jstree-closed").addClass("jstree-open").children("a").removeClass("jstree-loading"),c?b.children("ul").stop(!0,!0).slideDown(c,function(){this.style.display="";g.after_open(b)}):g.after_open(b),this.__callback({obj:b}),f&&f.call()):
(b.children("a").addClass("jstree-loading"),this.load_node(b,function(){g.open_node(b,f,e)},f))},after_open:function(b){this.__callback({obj:b})},close_node:function(b,f){var b=this._get_node(b),e=f||a?0:this._get_settings().core.animation,c=this;if(!b.length||!b.hasClass("jstree-open"))return!1;e&&b.children("ul").attr("style","display:block !important");b.removeClass("jstree-open").addClass("jstree-closed");e?b.children("ul").stop(!0,!0).slideUp(e,function(){this.style.display="";c.after_close(b)}):
c.after_close(b);this.__callback({obj:b})},after_close:function(b){this.__callback({obj:b})},toggle_node:function(b){b=this._get_node(b);if(b.hasClass("jstree-closed"))return this.open_node(b);if(b.hasClass("jstree-open"))return this.close_node(b)},open_all:function(b,a,f){b=b?this._get_node(b):-1;if(!b||b===-1)b=this.get_container_ul();f?b=b.find("li.jstree-closed"):(f=b,b=b.is(".jstree-closed")?b.find("li.jstree-closed").andSelf():b.find("li.jstree-closed"));var e=this;b.each(function(){var b=this;
e._is_loaded(this)?e.open_node(this,!1,!a):e.open_node(this,function(){e.open_all(b,a,f)},!a)});f.find("li.jstree-closed").length===0&&this.__callback({obj:f})},close_all:function(b,a){var f=this,b=b?this._get_node(b):this.get_container();if(!b||b===-1)b=this.get_container_ul();b.find("li.jstree-open").andSelf().each(function(){f.close_node(this,!a)});this.__callback({obj:b})},clean_node:function(a){a=a&&a!=-1?b(a):this.get_container_ul();a=a.is("li")?a.find("li").andSelf():a.find("li");a.removeClass("jstree-last").filter("li:last-child").addClass("jstree-last").end().filter(":has(li)").not(".jstree-open").removeClass("jstree-leaf").addClass("jstree-closed");
a.not(".jstree-open, .jstree-closed").addClass("jstree-leaf").children("ul").remove();this.__callback({obj:a})},get_rollback:function(){this.__callback();return{i:this.get_index(),h:this.get_container().children("ul").clone(!0),d:this.data}},set_rollback:function(b,a){this.get_container().empty().append(b);this.data=a;this.__callback()},load_node:function(b){this.__callback({obj:b})},_is_loaded:function(){return!0},create_node:function(a,f,e,c,g){var a=this._get_node(a),f=typeof f==="undefined"?"last":
f,i=b("<li />"),d=this._get_settings().core,o;if(a!==-1&&!a.length)return!1;if(!g&&!this._is_loaded(a))return this.load_node(a,function(){this.create_node(a,f,e,c,!0)}),!1;this.__rollback();typeof e==="string"&&(e={data:e});e||(e={});e.attr&&i.attr(e.attr);e.metadata&&i.data(e.metadata);e.state&&i.addClass("jstree-"+e.state);if(!e.data)e.data=this._get_string("new_node");if(!b.isArray(e.data))o=e.data,e.data=[],e.data.push(o);b.each(e.data,function(a,f){o=b("<a />");b.isFunction(f)&&(f=f.call(this,
e));if(typeof f=="string")o.attr("href","#")[d.html_titles?"html":"text"](f);else{if(!f.attr)f.attr={};if(!f.attr.href)f.attr.href="#";o.attr(f.attr)[d.html_titles?"html":"text"](f.title);f.language&&o.addClass(f.language)}o.prepend("<ins class='jstree-icon'>&#160;</ins>");if(!f.icon&&e.icon)f.icon=e.icon;f.icon&&(f.icon.indexOf("/")===-1?o.children("ins").addClass(f.icon):o.children("ins").css("background","url('"+f.icon+"') center center no-repeat"));i.append(o)});i.prepend("<ins class='jstree-icon'>&#160;</ins>");
a===-1&&(a=this.get_container(),f==="before"&&(f="first"),f==="after"&&(f="last"));switch(f){case "before":a.before(i);o=this._get_parent(a);break;case "after":a.after(i);o=this._get_parent(a);break;case "inside":case "first":a.children("ul").length||a.append("<ul />");a.children("ul").prepend(i);o=a;break;case "last":a.children("ul").length||a.append("<ul />");a.children("ul").append(i);o=a;break;default:a.children("ul").length||a.append("<ul />"),f||(f=0),o=a.children("ul").children("li").eq(f),
o.length?o.before(i):a.children("ul").append(i),o=a}if(o===-1||o.get(0)===this.get_container().get(0))o=-1;this.clean_node(o);this.__callback({obj:i,parent:o});c&&c.call(this,i);return i},get_text:function(b){b=this._get_node(b);if(!b.length)return!1;var a=this._get_settings().core.html_titles,b=b.children("a:eq(0)");return a?(b=b.clone(),b.children("INS").remove(),b.html()):(b=b.contents().filter(function(){return this.nodeType==3})[0],b.nodeValue)},set_text:function(b,a){b=this._get_node(b);if(!b.length)return!1;
b=b.children("a:eq(0)");if(this._get_settings().core.html_titles){var f=b.children("INS").clone();b.html(a).prepend(f);this.__callback({obj:b,name:a});return!0}else return b=b.contents().filter(function(){return this.nodeType==3})[0],this.__callback({obj:b,name:a}),b.nodeValue=a},rename_node:function(b,a){b=this._get_node(b);this.__rollback();b&&b.length&&this.set_text.apply(this,Array.prototype.slice.call(arguments))&&this.__callback({obj:b,name:a})},delete_node:function(a){a=this._get_node(a);if(!a.length)return!1;
this.__rollback();var f=this._get_parent(a),e=b([]),c=this;a.each(function(){e=e.add(c._get_prev(this))});a=a.detach();f!==-1&&f.find("> ul > li").length===0&&f.removeClass("jstree-open jstree-closed").addClass("jstree-leaf");this.clean_node(f);this.__callback({obj:a,prev:e,parent:f});return a},prepare_move:function(a,f,e,c,i){var d={};d.ot=b.jstree._reference(a)||this;d.o=d.ot._get_node(a);d.r=f===-1?-1:this._get_node(f);d.p=typeof e==="undefined"||e===!1?"last":e;if(i||!g.o||!(g.o[0]===d.o[0]&&
g.r[0]===d.r[0]&&g.p===d.p)){d.ot=b.jstree._reference(d.o)||this;d.rt=b.jstree._reference(d.r)||this;if(d.r===-1||!d.r)switch(d.cr=-1,d.p){case "first":case "before":case "inside":d.cp=0;break;case "after":case "last":d.cp=d.rt.get_container().find(" > ul > li").length;break;default:d.cp=d.p}else{if(!/^(before|after)$/.test(d.p)&&!this._is_loaded(d.r))return this.load_node(d.r,function(){this.prepare_move(a,f,e,c,!0)});switch(d.p){case "before":d.cp=d.r.index();d.cr=d.rt._get_parent(d.r);break;case "after":d.cp=
d.r.index()+1;d.cr=d.rt._get_parent(d.r);break;case "inside":case "first":d.cp=0;d.cr=d.r;break;case "last":d.cp=d.r.find(" > ul > li").length;d.cr=d.r;break;default:d.cp=d.p,d.cr=d.r}}d.np=d.cr==-1?d.rt.get_container():d.cr;d.op=d.ot._get_parent(d.o);d.cop=d.o.index();if(d.op===-1)d.op=d.ot?d.ot.get_container():this.get_container();!/^(before|after)$/.test(d.p)&&d.op&&d.np&&d.op[0]===d.np[0]&&d.o.index()<d.cp&&d.cp++;d.or=d.np.find(" > ul > li:nth-child("+(d.cp+1)+")");g=d}this.__callback(g);c&&
c.call(this,g)},check_move:function(){var b=g,a=!0,f=b.r===-1?this.get_container():b.r;if(!b||!b.o||b.or[0]===b.o[0])return!1;if(b.op&&b.np&&b.op[0]===b.np[0]&&b.cp-1===b.o.index())return!1;b.o.each(function(){if(f.parentsUntil(".jstree","li").andSelf().index(this)!==-1)return a=!1});return a},move_node:function(a,f,e,c,d,i){if(!d)return this.prepare_move(a,f,e,function(b){this.move_node(b,!1,!1,c,!0,i)});if(c)g.cy=!0;if(!i&&!this.check_move())return!1;this.__rollback();f=!1;c?(f=a.o.clone(!0),f.find("*[id]").andSelf().each(function(){if(this.id)this.id=
"copy_"+this.id})):f=a.o;a.or.length?a.or.before(f):(a.np.children("ul").length||b("<ul />").appendTo(a.np),a.np.children("ul:eq(0)").append(f));try{a.ot.clean_node(a.op),a.rt.clean_node(a.np),a.op.find("> ul > li").length||a.op.removeClass("jstree-open jstree-closed").addClass("jstree-leaf").children("ul").remove()}catch(p){}if(c)g.cy=!0,g.oc=f;this.__callback(g);return g},_get_move:function(){return g}}})})(jQuery);(function(b){var a,e,c;b(function(){/msie/.test(navigator.userAgent.toLowerCase())?
(e=b('<textarea cols="10" rows="2"></textarea>').css({position:"absolute",top:-1E3,left:0}).appendTo("body"),c=b('<textarea cols="10" rows="2" style="overflow: hidden;"></textarea>').css({position:"absolute",top:-1E3,left:0}).appendTo("body"),a=e.width()-c.width(),e.add(c).remove()):(e=b("<div />").css({width:100,height:100,overflow:"auto",position:"absolute",top:-1E3,left:0}).prependTo("body").append("<div />").find("div").css({width:"100%",height:200}),a=100-e.width(),e.parent().remove())});b.jstree.plugin("ui",
{__init:function(){this.data.ui.selected=b();this.data.ui.last_selected=!1;this.data.ui.hovered=null;this.data.ui.to_select=this.get_settings().ui.initially_select;this.get_container().delegate("a","click.jstree",b.proxy(function(a){a.preventDefault();a.currentTarget.blur();b(a.currentTarget).hasClass("jstree-loading")||this.select_node(a.currentTarget,!0,a)},this)).delegate("a","mouseenter.jstree",b.proxy(function(a){b(a.currentTarget).hasClass("jstree-loading")||this.hover_node(a.target)},this)).delegate("a",
"mouseleave.jstree",b.proxy(function(a){b(a.currentTarget).hasClass("jstree-loading")||this.dehover_node(a.target)},this)).bind("reopen.jstree",b.proxy(function(){this.reselect()},this)).bind("get_rollback.jstree",b.proxy(function(){this.dehover_node();this.save_selected()},this)).bind("set_rollback.jstree",b.proxy(function(){this.reselect()},this)).bind("close_node.jstree",b.proxy(function(a,f){var e=this._get_settings().ui,c=this._get_node(f.rslt.obj),d=c&&c.length?c.children("ul").find("a.jstree-clicked"):
b(),i=this;e.selected_parent_close!==!1&&d.length&&d.each(function(){i.deselect_node(this);e.selected_parent_close==="select_parent"&&i.select_node(c)})},this)).bind("delete_node.jstree",b.proxy(function(b,a){var f=this._get_settings().ui.select_prev_on_delete,e=this._get_node(a.rslt.obj),e=e&&e.length?e.find("a.jstree-clicked"):[],c=this;e.each(function(){c.deselect_node(this)});f&&e.length&&a.rslt.prev.each(function(){if(this.parentNode)return c.select_node(this),!1})},this)).bind("move_node.jstree",
b.proxy(function(b,a){a.rslt.cy&&a.rslt.oc.find("a.jstree-clicked").removeClass("jstree-clicked")},this))},defaults:{select_limit:-1,select_multiple_modifier:"ctrl",select_range_modifier:"shift",selected_parent_close:"select_parent",selected_parent_open:!0,select_prev_on_delete:!0,disable_selecting_children:!1,initially_select:[]},_fn:{_get_node:function(a,f){if(typeof a==="undefined"||a===null)return f?this.data.ui.selected:this.data.ui.last_selected;var e=b(a,this.get_container());if(e.is(".jstree")||
a==-1)return-1;e=e.closest("li",this.get_container());return e.length?e:!1},_ui_notify:function(b,a){a.selected&&this.select_node(b,!1)},save_selected:function(){var b=this;this.data.ui.to_select=[];this.data.ui.selected.each(function(){this.id&&b.data.ui.to_select.push("#"+this.id.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:"))});this.__callback(this.data.ui.to_select)},reselect:function(){var a=this,f=this.data.ui.to_select,
f=b.map(b.makeArray(f),function(b){return"#"+b.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:")});b.each(f,function(b,f){f&&f!=="#"&&a.select_node(f)});this.data.ui.selected=this.data.ui.selected.filter(function(){return this.parentNode});this.__callback()},refresh:function(){this.save_selected();return this.__call_old()},hover_node:function(b){b=this._get_node(b);if(!b.length)return!1;b.hasClass("jstree-hovered")||
this.dehover_node();this.data.ui.hovered=b.children("a").addClass("jstree-hovered").parent();this._fix_scroll(b);this.__callback({obj:b})},dehover_node:function(){var b=this.data.ui.hovered;if(!b||!b.length)return!1;if(this.data.ui.hovered[0]===b.children("a").removeClass("jstree-hovered").parent()[0])this.data.ui.hovered=null;this.__callback({obj:b})},select_node:function(b,a,f){b=this._get_node(b);if(b==-1||!b||!b.length)return!1;var e=this._get_settings().ui,c=e.select_multiple_modifier=="on"||
e.select_multiple_modifier!==!1&&f&&f[e.select_multiple_modifier+"Key"],d=e.select_range_modifier!==!1&&f&&f[e.select_range_modifier+"Key"]&&this.data.ui.last_selected&&this.data.ui.last_selected[0]!==b[0]&&this.data.ui.last_selected.parent()[0]===b.parent()[0],i=this.is_selected(b),p=!0,o=this;if(a){if(e.disable_selecting_children&&c&&(b.parentsUntil(".jstree","li").children("a.jstree-clicked").length||b.children("ul").find("a.jstree-clicked:eq(0)").length))return!1;p=!1;switch(!0){case d:this.data.ui.last_selected.addClass("jstree-last-selected");
b=b[b.index()<this.data.ui.last_selected.index()?"nextUntil":"prevUntil"](".jstree-last-selected").andSelf();e.select_limit==-1||b.length<e.select_limit?(this.data.ui.last_selected.removeClass("jstree-last-selected"),this.data.ui.selected.each(function(){this!==o.data.ui.last_selected[0]&&o.deselect_node(this)}),i=!1,p=!0):p=!1;break;case i&&!c:this.deselect_all();i=!1;p=!0;break;case !i&&!c:if(e.select_limit==-1||e.select_limit>0)this.deselect_all(),p=!0;break;case i&&c:this.deselect_node(b);break;
case !i&&c:if(e.select_limit==-1||this.data.ui.selected.length+1<=e.select_limit)p=!0}}if(p&&!i){if(!d)this.data.ui.last_selected=b;b.children("a").addClass("jstree-clicked");e.selected_parent_open&&b.parents(".jstree-closed").each(function(){o.open_node(this,!1,!0)});this.data.ui.selected=this.data.ui.selected.add(b);this._fix_scroll(b.eq(0));this.__callback({obj:b,e:f})}},_fix_scroll:function(b){var e=this.get_container()[0];if(e.scrollHeight>e.offsetHeight&&(b=this._get_node(b))&&!(b===-1||!b.length||
!b.is(":visible"))){b=b.offset().top-this.get_container().offset().top;if(b<0)e.scrollTop=e.scrollTop+b-1;if(b+this.data.core.li_height+(e.scrollWidth>e.offsetWidth?a:0)>e.offsetHeight)e.scrollTop+=b-e.offsetHeight+this.data.core.li_height+1+(e.scrollWidth>e.offsetWidth?a:0)}},deselect_node:function(b){b=this._get_node(b);if(!b.length)return!1;if(this.is_selected(b)){b.children("a").removeClass("jstree-clicked");this.data.ui.selected=this.data.ui.selected.not(b);if(this.data.ui.last_selected.get(0)===
b.get(0))this.data.ui.last_selected=this.data.ui.selected.eq(0);this.__callback({obj:b})}},toggle_select:function(b){b=this._get_node(b);if(!b.length)return!1;this.is_selected(b)?this.deselect_node(b):this.select_node(b)},is_selected:function(b){return this.data.ui.selected.index(this._get_node(b))>=0},get_selected:function(a){return a?b(a).find("a.jstree-clicked").parent():this.data.ui.selected},deselect_all:function(a){a=a?b(a).find("a.jstree-clicked").parent():this.get_container().find("a.jstree-clicked").parent();
a.children("a.jstree-clicked").removeClass("jstree-clicked");this.data.ui.selected=b([]);this.data.ui.last_selected=!1;this.__callback({obj:a})}}});b.jstree.defaults.plugins.push("ui")})(jQuery);(function(b){b.jstree.plugin("crrm",{__init:function(){this.get_container().bind("move_node.jstree",b.proxy(function(b,a){if(this._get_settings().crrm.move.open_onmove){var c=this;a.rslt.np.parentsUntil(".jstree").andSelf().filter(".jstree-closed").each(function(){c.open_node(this,!1,!0)})}},this))},defaults:{input_width_limit:200,
move:{always_copy:!1,open_onmove:!0,default_position:"last",check_move:function(){return!0}}},_fn:{_show_input:function(a,e){var a=this._get_node(a),c=this._get_settings().core.rtl,d=this._get_settings().crrm.input_width_limit,h=a.children("ins").width(),k=a.find("> a:visible > ins").width()*a.find("> a:visible > ins").length,l=this.get_text(a),j=b("<div />",{css:{position:"absolute",top:"-200px",left:c?"0px":"-1000px",visibility:"hidden"}}).appendTo("body"),n=a.css("position","relative").append(b("<input />",
{value:l,"class":"jstree-rename-input",css:{padding:"0",border:"1px solid silver",position:"absolute",left:c?"auto":h+k+4+"px",right:c?h+k+4+"px":"auto",top:"0px",height:this.data.core.li_height-2+"px",lineHeight:this.data.core.li_height-2+"px",width:"150px"},blur:b.proxy(function(){var b=a.children(".jstree-rename-input"),c=b.val();c===""&&(c=l);j.remove();b.remove();this.set_text(a,l);this.rename_node(a,c);e.call(this,a,c,l);a.css("position","")},this),keyup:function(b){b=b.keyCode||b.which;b==
27?(this.value=l,this.blur()):b==13?this.blur():n.width(Math.min(j.text("pW"+this.value).width(),d))},keypress:function(b){if((b.keyCode||b.which)==13)return!1}})).children(".jstree-rename-input");this.set_text(a,"");j.css({fontFamily:n.css("fontFamily")||"",fontSize:n.css("fontSize")||"",fontWeight:n.css("fontWeight")||"",fontStyle:n.css("fontStyle")||"",fontStretch:n.css("fontStretch")||"",fontVariant:n.css("fontVariant")||"",letterSpacing:n.css("letterSpacing")||"",wordSpacing:n.css("wordSpacing")||
""});n.width(Math.min(j.text("pW"+n[0].value).width(),d))[0].select()},rename:function(b){b=this._get_node(b);this.__rollback();var a=this.__callback;this._show_input(b,function(b,f,c){a.call(this,{obj:b,new_name:f,old_name:c})})},create:function(a,e,c,d,h){var k=this;(a=this._get_node(a))||(a=-1);this.__rollback();return this.create_node(a,e,c,function(a){var f=this._get_parent(a),e=b(a).index();d&&d.call(this,a);f.length&&f.hasClass("jstree-closed")&&this.open_node(f,!1,!0);h?k.__callback({obj:a,
name:this.get_text(a),parent:f,position:e}):this._show_input(a,function(b,a){k.__callback({obj:b,name:a,parent:f,position:e})})})},remove:function(b){var b=this._get_node(b,!0),a=this._get_parent(b),c=this._get_prev(b);this.__rollback();b=this.delete_node(b);b!==!1&&this.__callback({obj:b,prev:c,parent:a})},check_move:function(){return!this.__call_old()?!1:!this._get_settings().crrm.move.check_move.call(this,this._get_move())?!1:!0},move_node:function(b,a,c,d,h,k){var l=this._get_settings().crrm.move;
if(!h){if(typeof c==="undefined")c=l.default_position;if(c==="inside"&&!l.default_position.match(/^(before|after)$/))c=l.default_position;return this.__call_old(!0,b,a,c,d,!1,k)}if(l.always_copy===!0||l.always_copy==="multitree"&&b.rt.get_index()!==b.ot.get_index())d=!0;this.__call_old(!0,b,a,c,d,!0,k)},cut:function(b){b=this._get_node(b,!0);if(!b||!b.length)return!1;this.data.crrm.cp_nodes=!1;this.data.crrm.ct_nodes=b;this.__callback({obj:b})},copy:function(b){b=this._get_node(b,!0);if(!b||!b.length)return!1;
this.data.crrm.ct_nodes=!1;this.data.crrm.cp_nodes=b;this.__callback({obj:b})},paste:function(b){b=this._get_node(b);if(!b||!b.length)return!1;var a=this.data.crrm.ct_nodes?this.data.crrm.ct_nodes:this.data.crrm.cp_nodes;if(!this.data.crrm.ct_nodes&&!this.data.crrm.cp_nodes)return!1;if(this.data.crrm.ct_nodes)this.move_node(this.data.crrm.ct_nodes,b),this.data.crrm.ct_nodes=!1;this.data.crrm.cp_nodes&&this.move_node(this.data.crrm.cp_nodes,b,!1,!0);this.__callback({obj:b,nodes:a})}}})})(jQuery);(function(b){var a=
[];b.jstree._themes=!1;b.jstree.plugin("themes",{__init:function(){this.get_container().bind("init.jstree",b.proxy(function(){var b=this._get_settings().themes;this.data.themes.dots=b.dots;this.data.themes.icons=b.icons;this.set_theme(b.theme,b.url)},this)).bind("loaded.jstree",b.proxy(function(){this.data.themes.dots?this.show_dots():this.hide_dots();this.data.themes.icons?this.show_icons():this.hide_icons()},this))},defaults:{theme:"default",url:!1,dots:!0,icons:!0},_fn:{set_theme:function(e,c){if(!e)return!1;
c||(c=b.jstree._themes+e+"/style.css");b.inArray(c,a)==-1&&(b.vakata.css.add_sheet({url:c}),a.push(c));if(this.data.themes.theme!=e)this.get_container().removeClass("jstree-"+this.data.themes.theme),this.data.themes.theme=e;this.get_container().addClass("jstree-"+e);this.data.themes.dots?this.show_dots():this.hide_dots();this.data.themes.icons?this.show_icons():this.hide_icons();this.__callback()},get_theme:function(){return this.data.themes.theme},show_dots:function(){this.data.themes.dots=!0;this.get_container().children("ul").removeClass("jstree-no-dots")},
hide_dots:function(){this.data.themes.dots=!1;this.get_container().children("ul").addClass("jstree-no-dots")},toggle_dots:function(){this.data.themes.dots?this.hide_dots():this.show_dots()},show_icons:function(){this.data.themes.icons=!0;this.get_container().children("ul").removeClass("jstree-no-icons")},hide_icons:function(){this.data.themes.icons=!1;this.get_container().children("ul").addClass("jstree-no-icons")},toggle_icons:function(){this.data.themes.icons?this.hide_icons():this.show_icons()}}});
b(function(){b.jstree._themes===!1&&b("script").each(function(){if(this.src.toString().match(/jquery\.jstree[^\/]*?\.js(\?.*)?$/))return b.jstree._themes=this.src.toString().replace(/jquery\.jstree[^\/]*?\.js(\?.*)?$/,"")+"themes/",!1});if(b.jstree._themes===!1)b.jstree._themes="themes/"});b.jstree.defaults.plugins.push("themes")})(jQuery);(function(b){var a=[];b.jstree.plugin("hotkeys",{__init:function(){if(typeof b.hotkeys==="undefined")throw"jsTree hotkeys: jQuery hotkeys plugin not included.";
if(!this.data.ui)throw"jsTree hotkeys: jsTree UI plugin not included.";b.each(this._get_settings().hotkeys,function(e,c){c!==!1&&b.inArray(e,a)==-1&&(b(document).bind("keydown",e,function(a){var f;var c=b.jstree._focused(),d;c&&c.data&&c.data.hotkeys&&c.data.hotkeys.enabled&&(d=c._get_settings().hotkeys[e])&&(f=d.call(c,a));return f}),a.push(e))});this.get_container().bind("lock.jstree",b.proxy(function(){if(this.data.hotkeys.enabled)this.data.hotkeys.enabled=!1,this.data.hotkeys.revert=!0},this)).bind("unlock.jstree",
b.proxy(function(){if(this.data.hotkeys.revert)this.data.hotkeys.enabled=!0},this));this.enable_hotkeys()},defaults:{up:function(){this.hover_node(this._get_prev(this.data.ui.hovered||this.data.ui.last_selected||-1));return!1},"ctrl+up":function(){this.hover_node(this._get_prev(this.data.ui.hovered||this.data.ui.last_selected||-1));return!1},"shift+up":function(){this.hover_node(this._get_prev(this.data.ui.hovered||this.data.ui.last_selected||-1));return!1},down:function(){this.hover_node(this._get_next(this.data.ui.hovered||
this.data.ui.last_selected||-1));return!1},"ctrl+down":function(){this.hover_node(this._get_next(this.data.ui.hovered||this.data.ui.last_selected||-1));return!1},"shift+down":function(){this.hover_node(this._get_next(this.data.ui.hovered||this.data.ui.last_selected||-1));return!1},left:function(){var b=this.data.ui.hovered||this.data.ui.last_selected;b&&(b.hasClass("jstree-open")?this.close_node(b):this.hover_node(this._get_prev(b)));return!1},"ctrl+left":function(){var b=this.data.ui.hovered||this.data.ui.last_selected;
b&&(b.hasClass("jstree-open")?this.close_node(b):this.hover_node(this._get_prev(b)));return!1},"shift+left":function(){var b=this.data.ui.hovered||this.data.ui.last_selected;b&&(b.hasClass("jstree-open")?this.close_node(b):this.hover_node(this._get_prev(b)));return!1},right:function(){var b=this.data.ui.hovered||this.data.ui.last_selected;b&&b.length&&(b.hasClass("jstree-closed")?this.open_node(b):this.hover_node(this._get_next(b)));return!1},"ctrl+right":function(){var b=this.data.ui.hovered||this.data.ui.last_selected;
b&&b.length&&(b.hasClass("jstree-closed")?this.open_node(b):this.hover_node(this._get_next(b)));return!1},"shift+right":function(){var b=this.data.ui.hovered||this.data.ui.last_selected;b&&b.length&&(b.hasClass("jstree-closed")?this.open_node(b):this.hover_node(this._get_next(b)));return!1},space:function(){this.data.ui.hovered&&this.data.ui.hovered.children("a:eq(0)").click();return!1},"ctrl+space":function(b){b.type="click";this.data.ui.hovered&&this.data.ui.hovered.children("a:eq(0)").trigger(b);
return!1},"shift+space":function(b){b.type="click";this.data.ui.hovered&&this.data.ui.hovered.children("a:eq(0)").trigger(b);return!1},f2:function(){this.rename(this.data.ui.hovered||this.data.ui.last_selected)},del:function(){this.remove(this.data.ui.hovered||this._get_node(null))}},_fn:{enable_hotkeys:function(){this.data.hotkeys.enabled=!0},disable_hotkeys:function(){this.data.hotkeys.enabled=!1}}})})(jQuery);(function(b){b.jstree.plugin("json_data",{__init:function(){this._get_settings().json_data.progressive_unload&&
this.get_container().bind("after_close.jstree",function(b,a){a.rslt.obj.children("ul").remove()})},defaults:{data:!1,ajax:!1,correct_state:!0,progressive_render:!1,progressive_unload:!1},_fn:{load_node:function(b,a,c){var d=this;this.load_node_json(b,function(){d.__callback({obj:d._get_node(b)});a.call(this)},c)},_is_loaded:function(a){var e=this._get_settings().json_data,a=this._get_node(a);return a==-1||!a||!e.ajax&&!e.progressive_render&&!b.isFunction(e.data)||a.is(".jstree-open, .jstree-leaf")||
a.children("ul").children("li").length>0},refresh:function(a){var a=this._get_node(a),e=this._get_settings().json_data;a&&a!==-1&&e.progressive_unload&&(b.isFunction(e.data)||e.ajax)&&a.removeData("jstree_children");return this.__call_old()},load_node_json:function(a,e,c){var d=this.get_settings().json_data,h,k=function(){};h=function(){};if((a=this._get_node(a))&&a!==-1&&(d.progressive_render||d.progressive_unload)&&!a.is(".jstree-open, .jstree-leaf")&&a.children("ul").children("li").length===0&&
a.data("jstree_children")){if(h=this._parse_json(a.data("jstree_children"),a))a.append(h),d.progressive_unload||a.removeData("jstree_children");this.clean_node(a);e&&e.call(this)}else{if(a&&a!==-1)if(a.data("jstree_is_loading"))return;else a.data("jstree_is_loading",!0);switch(!0){case !d.data&&!d.ajax:throw"Neither data nor ajax settings supplied.";case b.isFunction(d.data):d.data.call(this,a,b.proxy(function(b){(b=this._parse_json(b,a))?(a===-1||!a?this.get_container().children("ul").empty().append(b.children()):
(a.append(b).children("a.jstree-loading").removeClass("jstree-loading"),a.removeData("jstree_is_loading")),this.clean_node(a),e&&e.call(this)):(a===-1||!a?d.correct_state&&this.get_container().children("ul").empty():(a.children("a.jstree-loading").removeClass("jstree-loading"),a.removeData("jstree_is_loading"),d.correct_state&&this.correct_state(a)),c&&c.call(this))},this));break;case !!d.data&&!d.ajax||!!d.data&&!!d.ajax&&(!a||a===-1):if(!a||a==-1)(h=this._parse_json(d.data,a))?(this.get_container().children("ul").empty().append(h.children()),
this.clean_node()):d.correct_state&&this.get_container().children("ul").empty();e&&e.call(this);break;case !d.data&&!!d.ajax||!!d.data&&!!d.ajax&&a&&a!==-1:k=function(b,e,k){var h=this.get_settings().json_data.ajax.error;h&&h.call(this,b,e,k);a!=-1&&a.length?(a.children("a.jstree-loading").removeClass("jstree-loading"),a.removeData("jstree_is_loading"),e==="success"&&d.correct_state&&this.correct_state(a)):e==="success"&&d.correct_state&&this.get_container().children("ul").empty();c&&c.call(this)};
d.ajax.context=this;d.ajax.error=k;d.ajax.success=function(c,i,h){var q=this.get_settings().json_data.ajax.success;q&&(c=q.call(this,c,i,h)||c);if(c===""||c&&c.toString&&c.toString().replace(/^[\s\n]+$/,"")===""||!b.isArray(c)&&!b.isPlainObject(c))return k.call(this,h,i,"");(c=this._parse_json(c,a))?(a===-1||!a?this.get_container().children("ul").empty().append(c.children()):(a.append(c).children("a.jstree-loading").removeClass("jstree-loading"),a.removeData("jstree_is_loading")),this.clean_node(a),
e&&e.call(this)):a===-1||!a?d.correct_state&&(this.get_container().children("ul").empty(),e&&e.call(this)):(a.children("a.jstree-loading").removeClass("jstree-loading"),a.removeData("jstree_is_loading"),d.correct_state&&(this.correct_state(a),e&&e.call(this)))};if(!d.ajax.dataType)d.ajax.dataType="json";if(b.isFunction(d.ajax.url))d.ajax.url=d.ajax.url.call(this,a);if(b.isFunction(d.ajax.data))d.ajax.data=d.ajax.data.call(this,a);b.ajax(d.ajax)}}},_parse_json:function(a,e,c){var d=!1,h=this._get_settings(),
k=h.json_data,l=h.core.html_titles,j;if(!a)return d;k.progressive_unload&&e&&e!==-1&&e.data("jstree_children",d);if(b.isArray(a)){d=b();if(!a.length)return!1;for(h=0,k=a.length;h<k;h++)j=this._parse_json(a[h],e,!0),j.length&&(d=d.add(j))}else{typeof a=="string"&&(a={data:a});if(!a.data&&a.data!=="")return d;d=b("<li />");a.attr&&d.attr(a.attr);a.metadata&&d.data(a.metadata);a.state&&d.addClass("jstree-"+a.state);if(!b.isArray(a.data))j=a.data,a.data=[],a.data.push(j);b.each(a.data,function(e,c){j=
b("<a />");b.isFunction(c)&&(c=c.call(this,a));if(typeof c=="string")j.attr("href","#")[l?"html":"text"](c);else{if(!c.attr)c.attr={};if(!c.attr.href)c.attr.href="#";j.attr(c.attr)[l?"html":"text"](c.title);c.language&&j.addClass(c.language)}j.prepend("<ins class='jstree-icon'>&#160;</ins>");if(!c.icon&&a.icon)c.icon=a.icon;c.icon&&(c.icon.indexOf("/")===-1?j.children("ins").addClass(c.icon):j.children("ins").css("background","url('"+c.icon+"') center center no-repeat"));d.append(j)});d.prepend("<ins class='jstree-icon'>&#160;</ins>");
a.children&&(k.progressive_render&&a.state!=="open"?d.addClass("jstree-closed").data("jstree_children",a.children):(k.progressive_unload&&d.data("jstree_children",a.children),b.isArray(a.children)&&a.children.length&&(j=this._parse_json(a.children,e,!0),j.length&&(e=b("<ul />"),e.append(j),d.append(e)))))}c||(c=b("<ul />"),c.append(d),d=c);return d},get_json:function(a,e,c,d){var h=[],k=this._get_settings(),l=this,j,n,q,p,o,r,a=this._get_node(a);if(!a||a===-1)a=this.get_container().find("> ul > li");
e=b.isArray(e)?e:["id","class"];!d&&this.data.types&&e.push(k.types.type_attr);c=b.isArray(c)?c:[];a.each(function(){q=b(this);j={data:[]};if(e.length)j.attr={};b.each(e,function(b,a){(n=q.attr(a))&&n.length&&n.replace(/jstree[^ ]*/ig,"").length&&(j.attr[a]=(" "+n).replace(/ jstree[^ ]*/ig,"").replace(/\s+$/ig," ").replace(/^ /,"").replace(/ $/,""))});if(q.hasClass("jstree-open"))j.state="open";if(q.hasClass("jstree-closed"))j.state="closed";if(q.data())j.metadata=q.data();p=q.children("a");p.each(function(){o=
b(this);if(c.length||b.inArray("languages",k.plugins)!==-1||o.children("ins").get(0).style.backgroundImage.length||o.children("ins").get(0).className&&o.children("ins").get(0).className.replace(/jstree[^ ]*|$/ig,"").length){r=!1;b.inArray("languages",k.plugins)!==-1&&b.isArray(k.languages)&&k.languages.length&&b.each(k.languages,function(b,a){if(o.hasClass(a))return r=a,!1});n={attr:{},title:l.get_text(o,r)};b.each(c,function(b,a){n.attr[a]=(" "+(o.attr(a)||"")).replace(/ jstree[^ ]*/ig,"").replace(/\s+$/ig,
" ").replace(/^ /,"").replace(/ $/,"")});b.inArray("languages",k.plugins)!==-1&&b.isArray(k.languages)&&k.languages.length&&b.each(k.languages,function(b,a){if(o.hasClass(a))return n.language=a,!0});if(o.children("ins").get(0).className.replace(/jstree[^ ]*|$/ig,"").replace(/^\s+$/ig,"").length)n.icon=o.children("ins").get(0).className.replace(/jstree[^ ]*|$/ig,"").replace(/\s+$/ig," ").replace(/^ /,"").replace(/ $/,"");if(o.children("ins").get(0).style.backgroundImage.length)n.icon=o.children("ins").get(0).style.backgroundImage.replace("url(",
"").replace(")","")}else n=l.get_text(o);p.length>1?j.data.push(n):j.data=n});q=q.find("> ul > li");if(q.length)j.children=l.get_json(q,e,c,!0);h.push(j)});return h}}})})(jQuery);(function(b){b.jstree.plugin("languages",{__init:function(){this._load_css()},defaults:[],_fn:{set_lang:function(a){var e=this._get_settings().languages,c=!1,d=".jstree-"+this.get_index()+" a";if(!b.isArray(e)||e.length===0)return!1;if(b.inArray(a,e)==-1)if(e[a])a=e[a];else return!1;if(a==this.data.languages.current_language)return!0;
c=b.vakata.css.get_css(d+"."+this.data.languages.current_language,!1,this.data.languages.language_css);if(c!==!1)c.style.display="none";c=b.vakata.css.get_css(d+"."+a,!1,this.data.languages.language_css);if(c!==!1)c.style.display="";this.data.languages.current_language=a;this.__callback(a);return!0},get_lang:function(){return this.data.languages.current_language},_get_string:function(a,e){var c=this._get_settings().languages,d=this._get_settings().core.strings;b.isArray(c)&&c.length&&(e=e&&b.inArray(e,
c)!=-1?e:this.data.languages.current_language);return d[e]&&d[e][a]?d[e][a]:d[a]?d[a]:a},get_text:function(a,e){a=this._get_node(a)||this.data.ui.last_selected;if(!a.size())return!1;var c=this._get_settings().languages,d=this._get_settings().core.html_titles;b.isArray(c)&&c.length?(e=e&&b.inArray(e,c)!=-1?e:this.data.languages.current_language,a=a.children("a."+e)):a=a.children("a:eq(0)");return d?(a=a.clone(),a.children("INS").remove(),a.html()):(a=a.contents().filter(function(){return this.nodeType==
3})[0],a.nodeValue)},set_text:function(a,e,c){a=this._get_node(a)||this.data.ui.last_selected;if(!a.size())return!1;var d=this._get_settings().languages,h=this._get_settings().core.html_titles;b.isArray(d)&&d.length?(c=c&&b.inArray(c,d)!=-1?c:this.data.languages.current_language,a=a.children("a."+c)):a=a.children("a:eq(0)");return h?(d=a.children("INS").clone(),a.html(e).prepend(d),this.__callback({obj:a,name:e,lang:c}),!0):(a=a.contents().filter(function(){return this.nodeType==3})[0],this.__callback({obj:a,
name:e,lang:c}),a.nodeValue=e)},_load_css:function(){var a=this._get_settings().languages,e="/* languages css */",c=".jstree-"+this.get_index()+" a",d;if(b.isArray(a)&&a.length){this.data.languages.current_language=a[0];for(d=0;d<a.length;d++)e+=c+"."+a[d]+" {",a[d]!=this.data.languages.current_language&&(e+=" display:none; "),e+=" } ";this.data.languages.language_css=b.vakata.css.add_sheet({str:e,title:"jstree-languages"})}},create_node:function(a,e,c,d){return this.__call_old(!0,a,e,c,function(a){var f=
this._get_settings().languages,e=a.children("a"),c;if(b.isArray(f)&&f.length){for(c=0;c<f.length;c++)e.is("."+f[c])||a.append(e.eq(0).clone().removeClass(f.join(" ")).addClass(f[c]));e.not("."+f.join(", .")).remove()}d&&d.call(this,a)})}}})})(jQuery);(function(b){b.jstree.plugin("cookies",{__init:function(){if(typeof b.cookie==="undefined")throw"jsTree cookie: jQuery cookie plugin not included.";var a=this._get_settings().cookies,e;if(a.save_loaded&&(e=b.cookie(a.save_loaded))&&e.length)this.data.core.to_load=
e.split(",");if(a.save_opened&&(e=b.cookie(a.save_opened))&&e.length)this.data.core.to_open=e.split(",");if(a.save_selected&&(e=b.cookie(a.save_selected))&&e.length&&this.data.ui)this.data.ui.to_select=e.split(",");this.get_container().one((this.data.ui?"reselect":"reopen")+".jstree",b.proxy(function(){this.get_container().bind("open_node.jstree close_node.jstree select_node.jstree deselect_node.jstree",b.proxy(function(b){this._get_settings().cookies.auto_save&&this.save_cookie((b.handleObj.namespace+
b.handleObj.type).replace("jstree",""))},this))},this))},defaults:{save_loaded:"jstree_load",save_opened:"jstree_open",save_selected:"jstree_select",auto_save:!0,cookie_options:{}},_fn:{save_cookie:function(a){if(!this.data.core.refreshing){var e=this._get_settings().cookies;if(a)switch(a){case "open_node":case "close_node":e.save_opened&&(this.save_opened(),b.cookie(e.save_opened,this.data.core.to_open.join(","),e.cookie_options));e.save_loaded&&(this.save_loaded(),b.cookie(e.save_loaded,this.data.core.to_load.join(","),
e.cookie_options));break;case "select_node":case "deselect_node":e.save_selected&&this.data.ui&&(this.save_selected(),b.cookie(e.save_selected,this.data.ui.to_select.join(","),e.cookie_options))}else e.save_loaded&&(this.save_loaded(),b.cookie(e.save_loaded,this.data.core.to_load.join(","),e.cookie_options)),e.save_opened&&(this.save_opened(),b.cookie(e.save_opened,this.data.core.to_open.join(","),e.cookie_options)),e.save_selected&&this.data.ui&&(this.save_selected(),b.cookie(e.save_selected,this.data.ui.to_select.join(","),
e.cookie_options))}}}})})(jQuery);(function(b){b.jstree.plugin("sort",{__init:function(){this.get_container().bind("load_node.jstree",b.proxy(function(b,a){var c=this._get_node(a.rslt.obj),c=c===-1?this.get_container().children("ul"):c.children("ul");this.sort(c)},this)).bind("rename_node.jstree create_node.jstree create.jstree",b.proxy(function(b,a){this.sort(a.rslt.obj.parent())},this)).bind("move_node.jstree",b.proxy(function(b,a){this.sort((a.rslt.np==-1?this.get_container():a.rslt.np).children("ul"))},
this))},defaults:function(b,a){return this.get_text(b)>this.get_text(a)?1:-1},_fn:{sort:function(a){var e=this._get_settings().sort,c=this;a.append(b.makeArray(a.children("li")).sort(b.proxy(e,c)));a.find("> li > ul").each(function(){c.sort(b(this))});this.clean_node(a)}}})})(jQuery);(function(b){var a=!1,e=!1,c=!1,d=!1,h=!1,k=!1,l=!1,j=!1,n=!1;b.vakata.dnd={is_down:!1,is_drag:!1,helper:!1,scroll_spd:10,init_x:0,init_y:0,threshold:5,helper_left:5,helper_top:10,user_data:{},drag_start:function(a,f,
e){b.vakata.dnd.is_drag&&b.vakata.drag_stop({});try{if(a.currentTarget.unselectable="on",a.currentTarget.onselectstart=function(){return!1},a.currentTarget.style)a.currentTarget.style.MozUserSelect="none"}catch(c){}b.vakata.dnd.init_x=a.pageX;b.vakata.dnd.init_y=a.pageY;b.vakata.dnd.user_data=f;b.vakata.dnd.is_down=!0;b.vakata.dnd.helper=b("<div id='vakata-dragged' />").html(e);b(document).bind("mousemove",b.vakata.dnd.drag);b(document).bind("mouseup",b.vakata.dnd.drag_stop);return!1},drag:function(a){if(b.vakata.dnd.is_down){if(!b.vakata.dnd.is_drag)if(Math.abs(a.pageX-
b.vakata.dnd.init_x)>5||Math.abs(a.pageY-b.vakata.dnd.init_y)>5)b.vakata.dnd.helper.appendTo("body"),b.vakata.dnd.is_drag=!0,b(document).triggerHandler("drag_start.vakata",{event:a,data:b.vakata.dnd.user_data});else return;if(a.type==="mousemove"){var f=b(document),e=f.scrollTop(),f=f.scrollLeft();a.pageY-e<20?(k&&l==="down"&&(clearInterval(k),k=!1),k||(l="up",k=setInterval(function(){b(document).scrollTop(b(document).scrollTop()-b.vakata.dnd.scroll_spd)},150))):k&&l==="up"&&(clearInterval(k),k=!1);
b(window).height()-(a.pageY-e)<20?(k&&l==="up"&&(clearInterval(k),k=!1),k||(l="down",k=setInterval(function(){b(document).scrollTop(b(document).scrollTop()+b.vakata.dnd.scroll_spd)},150))):k&&l==="down"&&(clearInterval(k),k=!1);a.pageX-f<20?(h&&j==="right"&&(clearInterval(h),h=!1),h||(j="left",h=setInterval(function(){b(document).scrollLeft(b(document).scrollLeft()-b.vakata.dnd.scroll_spd)},150))):h&&j==="left"&&(clearInterval(h),h=!1);b(window).width()-(a.pageX-f)<20?(h&&j==="left"&&(clearInterval(h),
h=!1),h||(j="right",h=setInterval(function(){b(document).scrollLeft(b(document).scrollLeft()+b.vakata.dnd.scroll_spd)},150))):h&&j==="right"&&(clearInterval(h),h=!1)}b.vakata.dnd.helper.css({left:a.pageX+b.vakata.dnd.helper_left+"px",top:a.pageY+b.vakata.dnd.helper_top+"px"});b(document).triggerHandler("drag.vakata",{event:a,data:b.vakata.dnd.user_data})}},drag_stop:function(a){h&&clearInterval(h);k&&clearInterval(k);b(document).unbind("mousemove",b.vakata.dnd.drag);b(document).unbind("mouseup",b.vakata.dnd.drag_stop);
b(document).triggerHandler("drag_stop.vakata",{event:a,data:b.vakata.dnd.user_data});b.vakata.dnd.helper.remove();b.vakata.dnd.init_x=0;b.vakata.dnd.init_y=0;b.vakata.dnd.user_data={};b.vakata.dnd.is_down=!1;b.vakata.dnd.is_drag=!1}};b(function(){b.vakata.css.add_sheet({str:"#vakata-dragged { display:block; margin:0 0 0 0; padding:4px 4px 4px 24px; position:absolute; top:-2000px; line-height:16px; z-index:10000; } ",title:"vakata"})});b.jstree.plugin("dnd",{__init:function(){this.data.dnd={active:!1,
after:!1,inside:!1,before:!1,off:!1,prepared:!1,w:0,to1:!1,to2:!1,cof:!1,cw:!1,ch:!1,i1:!1,i2:!1,mto:!1};this.get_container().bind("mouseenter.jstree",b.proxy(function(e){b.vakata.dnd.is_drag&&b.vakata.dnd.user_data.jstree&&(this.data.themes&&(c.attr("class","jstree-"+this.data.themes.theme),d&&d.attr("class","jstree-"+this.data.themes.theme),b.vakata.dnd.helper.attr("class","jstree-dnd-helper jstree-"+this.data.themes.theme)),e.currentTarget===e.target&&b.vakata.dnd.user_data.obj&&b(b.vakata.dnd.user_data.obj).length&&
b(b.vakata.dnd.user_data.obj).parents(".jstree:eq(0)")[0]!==e.target&&(e=b.jstree._reference(e.target),e.data.dnd.foreign?(e=e._get_settings().dnd.drag_check.call(this,{o:a,r:e.get_container(),is_root:!0}),(e===!0||e.inside===!0||e.before===!0||e.after===!0)&&b.vakata.dnd.helper.children("ins").attr("class","jstree-ok")):(e.prepare_move(a,e.get_container(),"last"),e.check_move()&&b.vakata.dnd.helper.children("ins").attr("class","jstree-ok"))))},this)).bind("mouseup.jstree",b.proxy(function(e){if(b.vakata.dnd.is_drag&&
b.vakata.dnd.user_data.jstree&&e.currentTarget===e.target&&b.vakata.dnd.user_data.obj&&b(b.vakata.dnd.user_data.obj).length&&b(b.vakata.dnd.user_data.obj).parents(".jstree:eq(0)")[0]!==e.target){var c=b.jstree._reference(e.currentTarget);c.data.dnd.foreign?(e=c._get_settings().dnd.drag_check.call(this,{o:a,r:c.get_container(),is_root:!0}),(e===!0||e.inside===!0||e.before===!0||e.after===!0)&&c._get_settings().dnd.drag_finish.call(this,{o:a,r:c.get_container(),is_root:!0})):c.move_node(a,c.get_container(),
"last",e[c._get_settings().dnd.copy_modifier+"Key"])}},this)).bind("mouseleave.jstree",b.proxy(function(a){if(a.relatedTarget&&a.relatedTarget.id&&a.relatedTarget.id==="jstree-marker-line")return!1;b.vakata.dnd.is_drag&&b.vakata.dnd.user_data.jstree&&(this.data.dnd.i1&&clearInterval(this.data.dnd.i1),this.data.dnd.i2&&clearInterval(this.data.dnd.i2),this.data.dnd.to1&&clearTimeout(this.data.dnd.to1),this.data.dnd.to2&&clearTimeout(this.data.dnd.to2),b.vakata.dnd.helper.children("ins").hasClass("jstree-ok")&&
b.vakata.dnd.helper.children("ins").attr("class","jstree-invalid"))},this)).bind("mousemove.jstree",b.proxy(function(a){if(b.vakata.dnd.is_drag&&b.vakata.dnd.user_data.jstree){var e=this.get_container()[0];a.pageX+24>this.data.dnd.cof.left+this.data.dnd.cw?(this.data.dnd.i1&&clearInterval(this.data.dnd.i1),this.data.dnd.i1=setInterval(b.proxy(function(){this.scrollLeft+=b.vakata.dnd.scroll_spd},e),100)):a.pageX-24<this.data.dnd.cof.left?(this.data.dnd.i1&&clearInterval(this.data.dnd.i1),this.data.dnd.i1=
setInterval(b.proxy(function(){this.scrollLeft-=b.vakata.dnd.scroll_spd},e),100)):this.data.dnd.i1&&clearInterval(this.data.dnd.i1);a.pageY+24>this.data.dnd.cof.top+this.data.dnd.ch?(this.data.dnd.i2&&clearInterval(this.data.dnd.i2),this.data.dnd.i2=setInterval(b.proxy(function(){this.scrollTop+=b.vakata.dnd.scroll_spd},e),100)):a.pageY-24<this.data.dnd.cof.top?(this.data.dnd.i2&&clearInterval(this.data.dnd.i2),this.data.dnd.i2=setInterval(b.proxy(function(){this.scrollTop-=b.vakata.dnd.scroll_spd},
e),100)):this.data.dnd.i2&&clearInterval(this.data.dnd.i2)}},this)).bind("scroll.jstree",b.proxy(function(){b.vakata.dnd.is_drag&&b.vakata.dnd.user_data.jstree&&c&&d&&(c.hide(),d.hide())},this)).delegate("a","mousedown.jstree",b.proxy(function(a){if(a.which===1)return this.start_drag(a.currentTarget,a),!1},this)).delegate("a","mouseenter.jstree",b.proxy(function(a){b.vakata.dnd.is_drag&&b.vakata.dnd.user_data.jstree&&this.dnd_enter(a.currentTarget)},this)).delegate("a","mousemove.jstree",b.proxy(function(a){if(b.vakata.dnd.is_drag&&
b.vakata.dnd.user_data.jstree){(!e||!e.length||e.children("a")[0]!==a.currentTarget)&&this.dnd_enter(a.currentTarget);if(typeof this.data.dnd.off.top==="undefined")this.data.dnd.off=b(a.target).offset();this.data.dnd.w=(a.pageY-(this.data.dnd.off.top||0))%this.data.core.li_height;this.data.dnd.w<0&&(this.data.dnd.w+=this.data.core.li_height);this.dnd_show()}},this)).delegate("a","mouseleave.jstree",b.proxy(function(a){if(b.vakata.dnd.is_drag&&b.vakata.dnd.user_data.jstree){if(a.relatedTarget&&a.relatedTarget.id&&
a.relatedTarget.id==="jstree-marker-line")return!1;c&&c.hide();d&&d.hide();this.data.dnd.mto=setTimeout(function(b){return function(){b.dnd_leave(a)}}(this),0)}},this)).delegate("a","mouseup.jstree",b.proxy(function(a){b.vakata.dnd.is_drag&&b.vakata.dnd.user_data.jstree&&this.dnd_finish(a)},this));b(document).bind("drag_stop.vakata",b.proxy(function(){this.data.dnd.to1&&clearTimeout(this.data.dnd.to1);this.data.dnd.to2&&clearTimeout(this.data.dnd.to2);this.data.dnd.i1&&clearInterval(this.data.dnd.i1);
this.data.dnd.i2&&clearInterval(this.data.dnd.i2);this.data.dnd.after=!1;this.data.dnd.before=!1;this.data.dnd.inside=!1;this.data.dnd.off=!1;this.data.dnd.prepared=!1;this.data.dnd.w=!1;this.data.dnd.to1=!1;this.data.dnd.to2=!1;this.data.dnd.i1=!1;this.data.dnd.i2=!1;this.data.dnd.active=!1;this.data.dnd.foreign=!1;c&&c.css({top:"-2000px"});d&&d.css({top:"-2000px"})},this)).bind("drag_start.vakata",b.proxy(function(a,e){if(e.data.jstree){var f=b(e.event.target);f.closest(".jstree").hasClass("jstree-"+
this.get_index())&&this.dnd_enter(f)}},this));var k=this._get_settings().dnd;k.drag_target&&b(document).delegate(k.drag_target,"mousedown.jstree-"+this.get_index(),b.proxy(function(e){a=e.target;b.vakata.dnd.drag_start(e,{jstree:!0,obj:e.target},"<ins class='jstree-icon'></ins>"+b(e.target).text());this.data.themes&&(c&&c.attr("class","jstree-"+this.data.themes.theme),d&&d.attr("class","jstree-"+this.data.themes.theme),b.vakata.dnd.helper.attr("class","jstree-dnd-helper jstree-"+this.data.themes.theme));
b.vakata.dnd.helper.children("ins").attr("class","jstree-invalid");var k=this.get_container();this.data.dnd.cof=k.offset();this.data.dnd.cw=parseInt(k.width(),10);this.data.dnd.ch=parseInt(k.height(),10);this.data.dnd.foreign=!0;e.preventDefault()},this));k.drop_target&&b(document).delegate(k.drop_target,"mouseenter.jstree-"+this.get_index(),b.proxy(function(e){this.data.dnd.active&&this._get_settings().dnd.drop_check.call(this,{o:a,r:b(e.target),e:e})&&b.vakata.dnd.helper.children("ins").attr("class",
"jstree-ok")},this)).delegate(k.drop_target,"mouseleave.jstree-"+this.get_index(),b.proxy(function(){this.data.dnd.active&&b.vakata.dnd.helper.children("ins").attr("class","jstree-invalid")},this)).delegate(k.drop_target,"mouseup.jstree-"+this.get_index(),b.proxy(function(e){this.data.dnd.active&&b.vakata.dnd.helper.children("ins").hasClass("jstree-ok")&&this._get_settings().dnd.drop_finish.call(this,{o:a,r:b(e.target),e:e})},this))},defaults:{copy_modifier:"ctrl",check_timeout:100,open_timeout:500,
drop_target:".jstree-drop",drop_check:function(){return!0},drop_finish:b.noop,drag_target:".jstree-draggable",drag_finish:b.noop,drag_check:function(){return{after:!1,before:!1,inside:!0}}},_fn:{dnd_prepare:function(){if(e&&e.length){this.data.dnd.off=e.offset();if(this._get_settings().core.rtl)this.data.dnd.off.right=this.data.dnd.off.left+e.width();if(this.data.dnd.foreign){var b=this._get_settings().dnd.drag_check.call(this,{o:a,r:e});this.data.dnd.after=b.after;this.data.dnd.before=b.before;this.data.dnd.inside=
b.inside;this.data.dnd.prepared=!0;return this.dnd_show()}this.prepare_move(a,e,"before");this.data.dnd.before=this.check_move();this.prepare_move(a,e,"after");this.data.dnd.after=this.check_move();this._is_loaded(e)?(this.prepare_move(a,e,"inside"),this.data.dnd.inside=this.check_move()):this.data.dnd.inside=!1;this.data.dnd.prepared=!0;return this.dnd_show()}},dnd_show:function(){if(this.data.dnd.prepared){var a=["before","inside","after"],e=!1,f=this._get_settings().core.rtl,a=this.data.dnd.w<
this.data.core.li_height/3?["before","inside","after"]:this.data.dnd.w<=this.data.core.li_height*2/3?this.data.dnd.w<this.data.core.li_height/2?["inside","before","after"]:["inside","after","before"]:["after","inside","before"];b.each(a,b.proxy(function(a,f){if(this.data.dnd[f])return b.vakata.dnd.helper.children("ins").attr("class","jstree-ok"),e=f,!1},this));e===!1&&b.vakata.dnd.helper.children("ins").attr("class","jstree-invalid");a=f?this.data.dnd.off.right-18:this.data.dnd.off.left+10;switch(e){case "before":c.css({left:a+
"px",top:this.data.dnd.off.top-6+"px"}).show();d&&d.css({left:a+8+"px",top:this.data.dnd.off.top-1+"px"}).show();break;case "after":c.css({left:a+"px",top:this.data.dnd.off.top+this.data.core.li_height-6+"px"}).show();d&&d.css({left:a+8+"px",top:this.data.dnd.off.top+this.data.core.li_height-1+"px"}).show();break;case "inside":c.css({left:a+(f?-4:4)+"px",top:this.data.dnd.off.top+this.data.core.li_height/2-5+"px"}).show();d&&d.hide();break;default:c.hide(),d&&d.hide()}return n=e}},dnd_open:function(){this.data.dnd.to2=
!1;this.open_node(e,b.proxy(this.dnd_prepare,this),!0)},dnd_finish:function(b){this.data.dnd.foreign?(this.data.dnd.after||this.data.dnd.before||this.data.dnd.inside)&&this._get_settings().dnd.drag_finish.call(this,{o:a,r:e,p:n}):(this.dnd_prepare(),this.move_node(a,e,n,b[this._get_settings().dnd.copy_modifier+"Key"]));e=a=!1;c.hide();d&&d.hide()},dnd_enter:function(a){if(this.data.dnd.mto)clearTimeout(this.data.dnd.mto),this.data.dnd.mto=!1;var f=this._get_settings().dnd;this.data.dnd.prepared=!1;
e=this._get_node(a);f.check_timeout?(this.data.dnd.to1&&clearTimeout(this.data.dnd.to1),this.data.dnd.to1=setTimeout(b.proxy(this.dnd_prepare,this),f.check_timeout)):this.dnd_prepare();if(f.open_timeout){if(this.data.dnd.to2&&clearTimeout(this.data.dnd.to2),e&&e.length&&e.hasClass("jstree-closed"))this.data.dnd.to2=setTimeout(b.proxy(this.dnd_open,this),f.open_timeout)}else e&&e.length&&e.hasClass("jstree-closed")&&this.dnd_open()},dnd_leave:function(a){this.data.dnd.after=!1;this.data.dnd.before=
!1;this.data.dnd.inside=!1;b.vakata.dnd.helper.children("ins").attr("class","jstree-invalid");c.hide();d&&d.hide();if(e&&e[0]===a.target.parentNode){if(this.data.dnd.to1)clearTimeout(this.data.dnd.to1),this.data.dnd.to1=!1;if(this.data.dnd.to2)clearTimeout(this.data.dnd.to2),this.data.dnd.to2=!1}},start_drag:function(e,k){a=this._get_node(e);this.data.ui&&this.is_selected(a)&&(a=this._get_node(null,!0));var h=a.length>1?this._get_string("multiple_selection"):this.get_text(a),l=this.get_container();
this._get_settings().core.html_titles||(h=h.replace(/</ig,"&lt;").replace(/>/ig,"&gt;"));b.vakata.dnd.drag_start(k,{jstree:!0,obj:a},"<ins class='jstree-icon'></ins>"+h);this.data.themes&&(c&&c.attr("class","jstree-"+this.data.themes.theme),d&&d.attr("class","jstree-"+this.data.themes.theme),b.vakata.dnd.helper.attr("class","jstree-dnd-helper jstree-"+this.data.themes.theme));this.data.dnd.cof=l.offset();this.data.dnd.cw=parseInt(l.width(),10);this.data.dnd.ch=parseInt(l.height(),10);this.data.dnd.active=
!0}}});b(function(){b.vakata.css.add_sheet({str:"#vakata-dragged ins { display:block; text-decoration:none; width:16px; height:16px; margin:0 0 0 0; padding:0; position:absolute; top:4px; left:4px;  -moz-border-radius:4px; border-radius:4px; -webkit-border-radius:4px; } #vakata-dragged .jstree-ok { background:green; } #vakata-dragged .jstree-invalid { background:red; } #jstree-marker { padding:0; margin:0; font-size:12px; overflow:hidden; height:12px; width:8px; position:absolute; top:-30px; z-index:10001; background-repeat:no-repeat; display:none; background-color:transparent; text-shadow:1px 1px 1px white; color:black; line-height:10px; } #jstree-marker-line { padding:0; margin:0; line-height:0%; font-size:1px; overflow:hidden; height:1px; width:100px; position:absolute; top:-30px; z-index:10000; background-repeat:no-repeat; display:none; background-color:#456c43;  cursor:pointer; border:1px solid #eeeeee; border-left:0; -moz-box-shadow: 0px 0px 2px #666; -webkit-box-shadow: 0px 0px 2px #666; box-shadow: 0px 0px 2px #666;  -moz-border-radius:1px; border-radius:1px; -webkit-border-radius:1px; }",
title:"jstree"});c=b("<div />").attr({id:"jstree-marker"}).hide().html("&raquo;").bind("mouseleave mouseenter",function(a){c.hide();d.hide();a.preventDefault();a.stopImmediatePropagation();return!1}).appendTo("body");d=b("<div />").attr({id:"jstree-marker-line"}).hide().bind("mouseup",function(a){if(e&&e.length)return e.children("a").trigger(a),a.preventDefault(),a.stopImmediatePropagation(),!1}).bind("mouseleave",function(a){var f=b(a.relatedTarget);if((f.is(".jstree")||f.closest(".jstree").length===
0)&&e&&e.length)return e.children("a").trigger(a),c.hide(),d.hide(),a.preventDefault(),a.stopImmediatePropagation(),!1}).appendTo("body");b(document).bind("drag_start.vakata",function(a,b){b.data.jstree&&(c.show(),d&&d.show())});b(document).bind("drag_stop.vakata",function(a,b){b.data.jstree&&(c.hide(),d&&d.hide())})})})(jQuery);(function(a){a.jstree.plugin("checkbox",{__init:function(){this.data.checkbox.noui=this._get_settings().checkbox.override_ui;if(this.data.ui&&this.data.checkbox.noui)this.select_node=
this.deselect_node=this.deselect_all=a.noop,this.get_selected=this.get_checked;this.get_container().bind("open_node.jstree create_node.jstree clean_node.jstree refresh.jstree",a.proxy(function(a,b){this._prepare_checkboxes(b.rslt.obj)},this)).bind("loaded.jstree",a.proxy(function(){this._prepare_checkboxes()},this)).delegate(this.data.ui&&this.data.checkbox.noui?"a":"ins.jstree-checkbox","click.jstree",a.proxy(function(a){a.preventDefault();this._get_node(a.target).hasClass("jstree-checked")?this.uncheck_node(a.target):
this.check_node(a.target);if(this.data.ui&&this.data.checkbox.noui)this.save_selected(),this.data.cookies&&this.save_cookie("select_node");else return a.stopImmediatePropagation(),!1},this))},defaults:{override_ui:!1,two_state:!1,real_checkboxes:!1,checked_parent_open:!0,real_checkboxes_names:function(a){return["check_"+(a[0].id||Math.ceil(Math.random()*1E4)),1]}},__destroy:function(){this.get_container().find("input.jstree-real-checkbox").removeClass("jstree-real-checkbox").end().find("ins.jstree-checkbox").remove()},
_fn:{_checkbox_notify:function(a,b){b.checked&&this.check_node(a,!1)},_prepare_checkboxes:function(f){f=!f||f==-1?this.get_container().find("> ul > li"):this._get_node(f);if(f!==!1){var e,c=this,d,h=this._get_settings().checkbox.two_state,k=this._get_settings().checkbox.real_checkboxes,l=this._get_settings().checkbox.real_checkboxes_names;f.each(function(){d=a(this);e=d.is("li")&&(d.hasClass("jstree-checked")||k&&d.children(":checked").length)?"jstree-checked":"jstree-unchecked";d.find("li").andSelf().each(function(){var f=
a(this),d;f.children("a"+(c.data.languages?"":":eq(0)")).not(":has(.jstree-checkbox)").prepend("<ins class='jstree-checkbox'>&#160;</ins>").parent().not(".jstree-checked, .jstree-unchecked").addClass(h?"jstree-unchecked":e);k&&(f.children(":checkbox").length?f.children(":checkbox").addClass("jstree-real-checkbox"):(d=l.call(c,f),f.prepend("<input type='checkbox' class='jstree-real-checkbox' id='"+d[0]+"' name='"+d[0]+"' value='"+d[1]+"' />")));h?(f.hasClass("jstree-checked")||f.children(":checked").length)&&
f.addClass("jstree-checked").children(":checkbox").prop("checked",!0):(e==="jstree-checked"||f.hasClass("jstree-checked")||f.children(":checked").length)&&f.find("li").andSelf().addClass("jstree-checked").children(":checkbox").prop("checked",!0)})});h||f.find(".jstree-checked").parent().parent().each(function(){c._repair_state(this)})}},change_state:function(f,e){var f=this._get_node(f),c=!1,d=this._get_settings().checkbox.real_checkboxes;if(!f||f===-1)return!1;e=e===!1||e===!0?e:f.hasClass("jstree-checked");
if(this._get_settings().checkbox.two_state)e?(f.removeClass("jstree-checked").addClass("jstree-unchecked"),d&&f.children(":checkbox").prop("checked",!1)):(f.removeClass("jstree-unchecked").addClass("jstree-checked"),d&&f.children(":checkbox").prop("checked",!0));else{if(e){c=f.find("li").andSelf();if(!c.filter(".jstree-checked, .jstree-undetermined").length)return!1;c.removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked");d&&c.children(":checkbox").prop("checked",!1)}else{c=
f.find("li").andSelf();if(!c.filter(".jstree-unchecked, .jstree-undetermined").length)return!1;c.removeClass("jstree-unchecked jstree-undetermined").addClass("jstree-checked");d&&c.children(":checkbox").prop("checked",!0);if(this.data.ui)this.data.ui.last_selected=f;this.data.checkbox.last_selected=f}f.parentsUntil(".jstree","li").each(function(){var f=a(this);if(e)if(f.children("ul").children("li.jstree-checked, li.jstree-undetermined").length)return f.parentsUntil(".jstree","li").andSelf().removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined"),
d&&f.parentsUntil(".jstree","li").andSelf().children(":checkbox").prop("checked",!1),!1;else f.removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked"),d&&f.children(":checkbox").prop("checked",!1);else if(f.children("ul").children("li.jstree-unchecked, li.jstree-undetermined").length)return f.parentsUntil(".jstree","li").andSelf().removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined"),d&&f.parentsUntil(".jstree","li").andSelf().children(":checkbox").prop("checked",
!1),!1;else f.removeClass("jstree-unchecked jstree-undetermined").addClass("jstree-checked"),d&&f.children(":checkbox").prop("checked",!0)})}if(this.data.ui&&this.data.checkbox.noui)this.data.ui.selected=this.get_checked();this.__callback(f);return!0},check_node:function(a){if(this.change_state(a,!1)){a=this._get_node(a);if(this._get_settings().checkbox.checked_parent_open){var b=this;a.parents(".jstree-closed").each(function(){b.open_node(this,!1,!0)})}this.__callback({obj:a})}},uncheck_node:function(a){this.change_state(a,
!0)&&this.__callback({obj:this._get_node(a)})},check_all:function(){var a=this;(this._get_settings().checkbox.two_state?this.get_container_ul().find("li"):this.get_container_ul().children("li")).each(function(){a.change_state(this,!1)});this.__callback()},uncheck_all:function(){var a=this;(this._get_settings().checkbox.two_state?this.get_container_ul().find("li"):this.get_container_ul().children("li")).each(function(){a.change_state(this,!0)});this.__callback()},is_checked:function(a){a=this._get_node(a);
return a.length?a.is(".jstree-checked"):!1},get_checked:function(a,b){a=!a||a===-1?this.get_container():this._get_node(a);return b||this._get_settings().checkbox.two_state?a.find(".jstree-checked"):a.find("> ul > .jstree-checked, .jstree-undetermined > ul > .jstree-checked")},get_unchecked:function(a,b){a=!a||a===-1?this.get_container():this._get_node(a);return b||this._get_settings().checkbox.two_state?a.find(".jstree-unchecked"):a.find("> ul > .jstree-unchecked, .jstree-undetermined > ul > .jstree-unchecked")},
show_checkboxes:function(){this.get_container().children("ul").removeClass("jstree-no-checkboxes")},hide_checkboxes:function(){this.get_container().children("ul").addClass("jstree-no-checkboxes")},_repair_state:function(a){a=this._get_node(a);if(a.length)if(this._get_settings().checkbox.two_state)a.find("li").andSelf().not(".jstree-checked").removeClass("jstree-undetermined").addClass("jstree-unchecked").children(":checkbox").prop("checked",!0);else{var b=this._get_settings().checkbox.real_checkboxes,
c=a.find("> ul > .jstree-checked").length,d=a.find("> ul > .jstree-undetermined").length,h=a.find("> ul > li").length;h===0?a.hasClass("jstree-undetermined")&&this.change_state(a,!1):c===0&&d===0?this.change_state(a,!0):c===h?this.change_state(a,!1):(a.parentsUntil(".jstree","li").andSelf().removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined"),b&&a.parentsUntil(".jstree","li").andSelf().children(":checkbox").prop("checked",!1))}},reselect:function(){if(this.data.ui&&this.data.checkbox.noui){var f=
this,e=this.data.ui.to_select,e=a.map(a.makeArray(e),function(a){return"#"+a.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:")});this.deselect_all();a.each(e,function(a,b){f.check_node(b)});this.__callback()}else this.__call_old()},save_loaded:function(){var a=this;this.data.core.to_load=[];this.get_container_ul().find("li.jstree-closed.jstree-undetermined").each(function(){this.id&&a.data.core.to_load.push("#"+this.id)})}}});
a(function(){a.vakata.css.add_sheet({str:".jstree .jstree-real-checkbox { display:none; } ",title:"jstree"})})})(jQuery);(function(a){a.vakata.xslt=function(e,f,c){var d="",l;if(document.recalc)return l=document.createElement("xml"),d=document.createElement("xml"),l.innerHTML=e,d.innerHTML=f,a("body").append(l).append(d),setTimeout(function(e,f,c){return function(){c.call(null,e.transformNode(f.XMLDocument));setTimeout(function(e,f){return function(){a(e).remove();a(f).remove()}}(e,f),200)}}(l,d,
c),100),!0;typeof window.DOMParser!=="undefined"&&typeof window.XMLHttpRequest!=="undefined"&&typeof window.XSLTProcessor==="undefined"&&(e=(new DOMParser).parseFromString(e,"text/xml"),f=(new DOMParser).parseFromString(f,"text/xml"));if(typeof window.DOMParser!=="undefined"&&typeof window.XMLHttpRequest!=="undefined"&&typeof window.XSLTProcessor!=="undefined"){l=new XSLTProcessor;d=a.isFunction(l.transformDocument)?typeof window.XMLSerializer!=="undefined":!0;if(!d)return!1;e=(new DOMParser).parseFromString(e,
"text/xml");f=(new DOMParser).parseFromString(f,"text/xml");a.isFunction(l.transformDocument)?(d=document.implementation.createDocument("","",null),l.transformDocument(e,f,d,null),c.call(null,(new XMLSerializer).serializeToString(d))):(l.importStylesheet(f),d=l.transformToFragment(e,document),c.call(null,a("<div />").append(d).html()));return!0}return!1};var f={nest:'<?xml version="1.0" encoding="utf-8" ?><xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" ><xsl:output method="html" encoding="utf-8" omit-xml-declaration="yes" standalone="no" indent="no" media-type="text/html" /><xsl:template match="/">\t<xsl:call-template name="nodes">\t\t<xsl:with-param name="node" select="/root" />\t</xsl:call-template></xsl:template><xsl:template name="nodes">\t<xsl:param name="node" />\t<ul>\t<xsl:for-each select="$node/item">\t\t<xsl:variable name="children" select="count(./item) &gt; 0" />\t\t<li>\t\t\t<xsl:attribute name="class">\t\t\t\t<xsl:if test="position() = last()">jstree-last </xsl:if>\t\t\t\t<xsl:choose>\t\t\t\t\t<xsl:when test="@state = \'open\'">jstree-open </xsl:when>\t\t\t\t\t<xsl:when test="$children or @hasChildren or @state = \'closed\'">jstree-closed </xsl:when>\t\t\t\t\t<xsl:otherwise>jstree-leaf </xsl:otherwise>\t\t\t\t</xsl:choose>\t\t\t\t<xsl:value-of select="@class" />\t\t\t</xsl:attribute>\t\t\t<xsl:for-each select="@*">\t\t\t\t<xsl:if test="name() != \'class\' and name() != \'state\' and name() != \'hasChildren\'">\t\t\t\t\t<xsl:attribute name="{name()}"><xsl:value-of select="." /></xsl:attribute>\t\t\t\t</xsl:if>\t\t\t</xsl:for-each>\t<ins class="jstree-icon"><xsl:text>&#xa0;</xsl:text></ins>\t\t\t<xsl:for-each select="content/name">\t\t\t\t<a>\t\t\t\t<xsl:attribute name="href">\t\t\t\t\t<xsl:choose>\t\t\t\t\t<xsl:when test="@href"><xsl:value-of select="@href" /></xsl:when>\t\t\t\t\t<xsl:otherwise>#</xsl:otherwise>\t\t\t\t\t</xsl:choose>\t\t\t\t</xsl:attribute>\t\t\t\t<xsl:attribute name="class"><xsl:value-of select="@lang" /> <xsl:value-of select="@class" /></xsl:attribute>\t\t\t\t<xsl:attribute name="style"><xsl:value-of select="@style" /></xsl:attribute>\t\t\t\t<xsl:for-each select="@*">\t\t\t\t\t<xsl:if test="name() != \'style\' and name() != \'class\' and name() != \'href\'">\t\t\t\t\t\t<xsl:attribute name="{name()}"><xsl:value-of select="." /></xsl:attribute>\t\t\t\t\t</xsl:if>\t\t\t\t</xsl:for-each>\t\t\t\t\t<ins>\t\t\t\t\t\t<xsl:attribute name="class">jstree-icon \t\t\t\t\t\t\t<xsl:if test="string-length(attribute::icon) > 0 and not(contains(@icon,\'/\'))"><xsl:value-of select="@icon" /></xsl:if>\t\t\t\t\t\t</xsl:attribute>\t\t\t\t\t\t<xsl:if test="string-length(attribute::icon) > 0 and contains(@icon,\'/\')"><xsl:attribute name="style">background:url(<xsl:value-of select="@icon" />) center center no-repeat;</xsl:attribute></xsl:if>\t\t\t\t\t\t<xsl:text>&#xa0;</xsl:text>\t\t\t\t\t</ins>\t\t\t\t\t<xsl:copy-of select="./child::node()" />\t\t\t\t</a>\t\t\t</xsl:for-each>\t\t\t<xsl:if test="$children or @hasChildren"><xsl:call-template name="nodes"><xsl:with-param name="node" select="current()" /></xsl:call-template></xsl:if>\t\t</li>\t</xsl:for-each>\t</ul></xsl:template></xsl:stylesheet>',
flat:'<?xml version="1.0" encoding="utf-8" ?><xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" ><xsl:output method="html" encoding="utf-8" omit-xml-declaration="yes" standalone="no" indent="no" media-type="text/xml" /><xsl:template match="/">\t<ul>\t<xsl:for-each select="//item[not(@parent_id) or @parent_id=0 or not(@parent_id = //item/@id)]">\t\t<xsl:call-template name="nodes">\t\t\t<xsl:with-param name="node" select="." />\t\t\t<xsl:with-param name="is_last" select="number(position() = last())" />\t\t</xsl:call-template>\t</xsl:for-each>\t</ul></xsl:template><xsl:template name="nodes">\t<xsl:param name="node" />\t<xsl:param name="is_last" />\t<xsl:variable name="children" select="count(//item[@parent_id=$node/attribute::id]) &gt; 0" />\t<li>\t<xsl:attribute name="class">\t\t<xsl:if test="$is_last = true()">jstree-last </xsl:if>\t\t<xsl:choose>\t\t\t<xsl:when test="@state = \'open\'">jstree-open </xsl:when>\t\t\t<xsl:when test="$children or @hasChildren or @state = \'closed\'">jstree-closed </xsl:when>\t\t\t<xsl:otherwise>jstree-leaf </xsl:otherwise>\t\t</xsl:choose>\t\t<xsl:value-of select="@class" />\t</xsl:attribute>\t<xsl:for-each select="@*">\t\t<xsl:if test="name() != \'parent_id\' and name() != \'hasChildren\' and name() != \'class\' and name() != \'state\'">\t\t<xsl:attribute name="{name()}"><xsl:value-of select="." /></xsl:attribute>\t\t</xsl:if>\t</xsl:for-each>\t<ins class="jstree-icon"><xsl:text>&#xa0;</xsl:text></ins>\t<xsl:for-each select="content/name">\t\t<a>\t\t<xsl:attribute name="href">\t\t\t<xsl:choose>\t\t\t<xsl:when test="@href"><xsl:value-of select="@href" /></xsl:when>\t\t\t<xsl:otherwise>#</xsl:otherwise>\t\t\t</xsl:choose>\t\t</xsl:attribute>\t\t<xsl:attribute name="class"><xsl:value-of select="@lang" /> <xsl:value-of select="@class" /></xsl:attribute>\t\t<xsl:attribute name="style"><xsl:value-of select="@style" /></xsl:attribute>\t\t<xsl:for-each select="@*">\t\t\t<xsl:if test="name() != \'style\' and name() != \'class\' and name() != \'href\'">\t\t\t\t<xsl:attribute name="{name()}"><xsl:value-of select="." /></xsl:attribute>\t\t\t</xsl:if>\t\t</xsl:for-each>\t\t\t<ins>\t\t\t\t<xsl:attribute name="class">jstree-icon \t\t\t\t\t<xsl:if test="string-length(attribute::icon) > 0 and not(contains(@icon,\'/\'))"><xsl:value-of select="@icon" /></xsl:if>\t\t\t\t</xsl:attribute>\t\t\t\t<xsl:if test="string-length(attribute::icon) > 0 and contains(@icon,\'/\')"><xsl:attribute name="style">background:url(<xsl:value-of select="@icon" />) center center no-repeat;</xsl:attribute></xsl:if>\t\t\t\t<xsl:text>&#xa0;</xsl:text>\t\t\t</ins>\t\t\t<xsl:copy-of select="./child::node()" />\t\t</a>\t</xsl:for-each>\t<xsl:if test="$children">\t\t<ul>\t\t<xsl:for-each select="//item[@parent_id=$node/attribute::id]">\t\t\t<xsl:call-template name="nodes">\t\t\t\t<xsl:with-param name="node" select="." />\t\t\t\t<xsl:with-param name="is_last" select="number(position() = last())" />\t\t\t</xsl:call-template>\t\t</xsl:for-each>\t\t</ul>\t</xsl:if>\t</li></xsl:template></xsl:stylesheet>'},
e=function(a){return a.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")};a.jstree.plugin("xml_data",{defaults:{data:!1,ajax:!1,xsl:"flat",clean_node:!1,correct_state:!0,get_skip_empty:!1,get_include_preamble:!0},_fn:{load_node:function(a,b,e){var f=this;this.load_node_xml(a,function(){f.__callback({obj:f._get_node(a)});b.call(this)},e)},_is_loaded:function(e){var f=this._get_settings().xml_data,e=this._get_node(e);return e==-1||
!e||!f.ajax&&!a.isFunction(f.data)||e.is(".jstree-open, .jstree-leaf")||e.children("ul").children("li").size()>0},load_node_xml:function(e,f,c){var d=this.get_settings().xml_data,l=function(){},j=function(){};if((e=this._get_node(e))&&e!==-1)if(e.data("jstree_is_loading"))return;else e.data("jstree_is_loading",!0);switch(!0){case !d.data&&!d.ajax:throw"Neither data nor ajax settings supplied.";case a.isFunction(d.data):d.data.call(this,e,a.proxy(function(c){this.parse_xml(c,a.proxy(function(c){c&&
(c=c.replace(/ ?xmlns="[^"]*"/ig,""),c.length>10?(c=a(c),e===-1||!e?this.get_container().children("ul").empty().append(c.children()):(e.children("a.jstree-loading").removeClass("jstree-loading"),e.append(c),e.removeData("jstree_is_loading")),d.clean_node&&this.clean_node(e),f&&f.call(this)):e&&e!==-1?(e.children("a.jstree-loading").removeClass("jstree-loading"),e.removeData("jstree_is_loading"),d.correct_state&&(this.correct_state(e),f&&f.call(this))):d.correct_state&&(this.get_container().children("ul").empty(),
f&&f.call(this)))},this))},this));break;case !!d.data&&!d.ajax||!!d.data&&!!d.ajax&&(!e||e===-1):(!e||e==-1)&&this.parse_xml(d.data,a.proxy(function(c){c?(c=c.replace(/ ?xmlns="[^"]*"/ig,""),c.length>10&&(c=a(c),this.get_container().children("ul").empty().append(c.children()),d.clean_node&&this.clean_node(e),f&&f.call(this))):d.correct_state&&(this.get_container().children("ul").empty(),f&&f.call(this))},this));break;case !d.data&&!!d.ajax||!!d.data&&!!d.ajax&&e&&e!==-1:l=function(a,b,f){var g=this.get_settings().xml_data.ajax.error;
g&&g.call(this,a,b,f);e!==-1&&e.length?(e.children("a.jstree-loading").removeClass("jstree-loading"),e.removeData("jstree_is_loading"),b==="success"&&d.correct_state&&this.correct_state(e)):b==="success"&&d.correct_state&&this.get_container().children("ul").empty();c&&c.call(this)};d.ajax.context=this;d.ajax.error=l;d.ajax.success=function(c,h,j){var c=j.responseText,o=this.get_settings().xml_data.ajax.success;o&&(c=o.call(this,c,h,j)||c);if(c===""||c&&c.toString&&c.toString().replace(/^[\s\n]+$/,
"")==="")return l.call(this,j,h,"");this.parse_xml(c,a.proxy(function(c){c&&(c=c.replace(/ ?xmlns="[^"]*"/ig,""),c.length>10?(c=a(c),e===-1||!e?this.get_container().children("ul").empty().append(c.children()):(e.children("a.jstree-loading").removeClass("jstree-loading"),e.append(c),e.removeData("jstree_is_loading")),d.clean_node&&this.clean_node(e),f&&f.call(this)):e&&e!==-1?(e.children("a.jstree-loading").removeClass("jstree-loading"),e.removeData("jstree_is_loading"),d.correct_state&&(this.correct_state(e),
f&&f.call(this))):d.correct_state&&(this.get_container().children("ul").empty(),f&&f.call(this)))},this))};if(!d.ajax.dataType)d.ajax.dataType="xml";if(a.isFunction(d.ajax.url))d.ajax.url=d.ajax.url.call(this,e);if(a.isFunction(d.ajax.data))d.ajax.data=d.ajax.data.call(this,e);a.ajax(d.ajax)}},parse_xml:function(e,c){var d=this._get_settings().xml_data;a.vakata.xslt(e,f[d.xsl],c)},get_xml:function(f,c,d,k,l){var j="",n=this._get_settings(),q=this,p,o,r,t,v;f||(f="flat");l||(l=0);c=this._get_node(c);
if(!c||c===-1)c=this.get_container().find("> ul > li");d=a.isArray(d)?d:["id","class"];!l&&this.data.types&&a.inArray(n.types.type_attr,d)===-1&&d.push(n.types.type_attr);k=a.isArray(k)?k:[];l||(n.xml_data.get_include_preamble&&(j+='<?xml version="1.0" encoding="UTF-8"?>'),j+="<root>");c.each(function(){j+="<item";r=a(this);a.each(d,function(a,b){var f=r.attr(b);if(!n.xml_data.get_skip_empty||typeof f!=="undefined")j+=" "+b+'="'+e((" "+(f||"")).replace(/ jstree[^ ]*/ig,"").replace(/\s+$/ig," ").replace(/^ /,
"").replace(/ $/,""))+'"'});r.hasClass("jstree-open")&&(j+=' state="open"');r.hasClass("jstree-closed")&&(j+=' state="closed"');f==="flat"&&(j+=' parent_id="'+e(l)+'"');j+=">";j+="<content>";t=r.children("a");t.each(function(){p=a(this);v=!1;j+="<name";a.inArray("languages",n.plugins)!==-1&&a.each(n.languages,function(a,b){if(p.hasClass(b))return j+=' lang="'+e(b)+'"',v=b,!1});k.length&&a.each(k,function(a,b){var f=p.attr(b);if(!n.xml_data.get_skip_empty||typeof f!=="undefined")j+=" "+b+'="'+e((" "+
f||"").replace(/ jstree[^ ]*/ig,"").replace(/\s+$/ig," ").replace(/^ /,"").replace(/ $/,""))+'"'});p.children("ins").get(0).className.replace(/jstree[^ ]*|$/ig,"").replace(/^\s+$/ig,"").length&&(j+=' icon="'+e(p.children("ins").get(0).className.replace(/jstree[^ ]*|$/ig,"").replace(/\s+$/ig," ").replace(/^ /,"").replace(/ $/,""))+'"');p.children("ins").get(0).style.backgroundImage.length&&(j+=' icon="'+e(p.children("ins").get(0).style.backgroundImage.replace("url(","").replace(")","").replace(/'/ig,
"").replace(/"/ig,""))+'"');j+=">";j+="<![CDATA["+q.get_text(p,v)+"]]\>";j+="</name>"});j+="</content>";o=r[0].id||!0;r=r.find("> ul > li");o=r.length?q.get_xml(f,r,d,k,o):"";f=="nest"&&(j+=o);j+="</item>";f=="flat"&&(j+=o)});l||(j+="</root>");return j}}})})(jQuery);(function(a){a.expr[":"].jstree_contains=function(a,b,c){return(a.textContent||a.innerText||"").toLowerCase().indexOf(c[3].toLowerCase())>=0};a.expr[":"].jstree_title_contains=function(a,b,c){return(a.getAttribute("title")||"").toLowerCase().indexOf(c[3].toLowerCase())>=
0};a.jstree.plugin("search",{__init:function(){this.data.search.str="";this.data.search.result=a();this._get_settings().search.show_only_matches&&this.get_container().bind("search.jstree",function(f,e){a(this).children("ul").find("li").hide().removeClass("jstree-last");e.rslt.nodes.parentsUntil(".jstree").andSelf().show().filter("ul").each(function(){a(this).children("li:visible").eq(-1).addClass("jstree-last")})}).bind("clear_search.jstree",function(){a(this).children("ul").find("li").css("display",
"").end().end().jstree("clean_node",-1)})},defaults:{ajax:!1,search_method:"jstree_contains",show_only_matches:!1},_fn:{search:function(f,e){if(a.trim(f)==="")this.clear_search();else{var c=this.get_settings().search,d=this,h=function(){},h=function(){};this.data.search.str=f;if(!e&&c.ajax!==!1&&this.get_container_ul().find("li.jstree-closed:not(:has(ul)):eq(0)").length>0){this.search.supress_callback=!0;c.ajax.context=this;c.ajax.error=function(){};c.ajax.success=function(a,b,e){var c=this.get_settings().search.ajax.success;
c&&(a=c.call(this,a,b,e)||a);this.data.search.to_open=a;this._search_open()};if(a.isFunction(c.ajax.url))c.ajax.url=c.ajax.url.call(this,f);if(a.isFunction(c.ajax.data))c.ajax.data=c.ajax.data.call(this,f);if(!c.ajax.data)c.ajax.data={search_string:f};if(!c.ajax.dataType||/^json/.exec(c.ajax.dataType))c.ajax.dataType="json";a.ajax(c.ajax)}else this.data.search.result.length&&this.clear_search(),this.data.search.result=this.get_container().find("a"+(this.data.languages?"."+this.get_lang():"")+":"+
c.search_method+"("+this.data.search.str+")"),this.data.search.result.addClass("jstree-search").parent().parents(".jstree-closed").each(function(){d.open_node(this,!1,!0)}),this.__callback({nodes:this.data.search.result,str:f})}},clear_search:function(){this.data.search.result.removeClass("jstree-search");this.__callback(this.data.search.result);this.data.search.result=a()},_search_open:function(){var c=this,e=!0,d=[],g=[];if(this.data.search.to_open.length&&(a.each(this.data.search.to_open,function(e,
c){if(c=="#")return!0;a(c).length&&a(c).is(".jstree-closed")?d.push(c):g.push(c)}),d.length))this.data.search.to_open=g,a.each(d,function(a,b){c.open_node(b,function(){c._search_open(!0)})}),e=!1;e&&this.search(this.data.search.str,!0)}}})})(jQuery);(function(a){a.vakata.context={hide_on_mouseleave:!1,cnt:a("<div id='vakata-contextmenu' />"),vis:!1,tgt:!1,par:!1,func:!1,data:!1,rtl:!1,show:function(c,e,d,g,h,k,l){a.vakata.context.rtl=!!l;if(c=a.vakata.context.parse(c)){a.vakata.context.vis=!0;a.vakata.context.tgt=
e;a.vakata.context.par=k||e||null;a.vakata.context.data=h||null;a.vakata.context.cnt.html(c).css({visibility:"hidden",display:"block",left:0,top:0});if(a.vakata.context.hide_on_mouseleave)a.vakata.context.cnt.one("mouseleave",function(){a.vakata.context.hide()});h=a.vakata.context.cnt.height();k=a.vakata.context.cnt.width();d+k>a(document).width()&&(d=a(document).width()-(k+5),a.vakata.context.cnt.find("li > ul").addClass("right"));g+h>a(document).height()&&(g-=h+e[0].offsetHeight,a.vakata.context.cnt.find("li > ul").addClass("bottom"));
a.vakata.context.cnt.css({left:d,top:g}).find("li:has(ul)").bind("mouseenter",function(){var e=a(document).width(),c=a(document).height(),f=a(this).children("ul").show();e!==a(document).width()&&f.toggleClass("right");c!==a(document).height()&&f.toggleClass("bottom")}).bind("mouseleave",function(){a(this).children("ul").hide()}).end().css({visibility:"visible"}).show();a(document).triggerHandler("context_show.vakata")}},hide:function(){a.vakata.context.vis=!1;a.vakata.context.cnt.attr("class","").css({visibility:"hidden"});
a(document).triggerHandler("context_hide.vakata")},parse:function(c,e){if(!c)return!1;var d="",g=!1,h=!0;if(!e)a.vakata.context.func={};d+="<ul>";a.each(c,function(e,c){if(!c)return!0;a.vakata.context.func[e]=c.action;!h&&c.separator_before&&(d+="<li class='vakata-separator vakata-separator-before'></li>");h=!1;d+="<li class='"+(c._class||"")+(c._disabled?" jstree-contextmenu-disabled ":"")+"'><ins ";c.icon&&c.icon.indexOf("/")===-1&&(d+=" class='"+c.icon+"' ");c.icon&&c.icon.indexOf("/")!==-1&&(d+=
" style='background:url("+c.icon+") center center no-repeat;' ");d+=">&#160;</ins><a href='#' rel='"+e+"'>";c.submenu&&(d+="<span style='float:"+(a.vakata.context.rtl?"left":"right")+";'>&raquo;</span>");d+=c.label+"</a>";c.submenu&&(g=a.vakata.context.parse(c.submenu,!0))&&(d+=g);d+="</li>";c.separator_after&&(d+="<li class='vakata-separator vakata-separator-after'></li>",h=!0)});d=d.replace(/<li class\='vakata-separator vakata-separator-after'\><\/li\>$/,"");d+="</ul>";a(document).triggerHandler("context_parse.vakata");
return d.length>10?d:!1},exec:function(c){return a.isFunction(a.vakata.context.func[c])?(a.vakata.context.func[c].call(a.vakata.context.data,a.vakata.context.par),!0):!1}};a(function(){a.vakata.css.add_sheet({str:"#vakata-contextmenu { display:block; visibility:hidden; left:0; top:-200px; position:absolute; margin:0; padding:0; min-width:180px; background:#ebebeb; border:1px solid silver; z-index:10000; *width:180px; } #vakata-contextmenu ul { min-width:180px; *width:180px; } #vakata-contextmenu ul, #vakata-contextmenu li { margin:0; padding:0; list-style-type:none; display:block; } #vakata-contextmenu li { line-height:20px; min-height:20px; position:relative; padding:0px; } #vakata-contextmenu li a { padding:1px 6px; line-height:17px; display:block; text-decoration:none; margin:1px 1px 0 1px; } #vakata-contextmenu li ins { float:left; width:16px; height:16px; text-decoration:none; margin-right:2px; } #vakata-contextmenu li a:hover, #vakata-contextmenu li.vakata-hover > a { background:gray; color:white; } #vakata-contextmenu li ul { display:none; position:absolute; top:-2px; left:100%; background:#ebebeb; border:1px solid gray; } #vakata-contextmenu .right { right:100%; left:auto; } #vakata-contextmenu .bottom { bottom:-1px; top:auto; } #vakata-contextmenu li.vakata-separator { min-height:0; height:1px; line-height:1px; font-size:1px; overflow:hidden; margin:0 2px; background:silver; /* border-top:1px solid #fefefe; */ padding:0; } ",
title:"vakata"});a.vakata.context.cnt.delegate("a","click",function(a){a.preventDefault()}).delegate("a","mouseup",function(){!a(this).parent().hasClass("jstree-contextmenu-disabled")&&a.vakata.context.exec(a(this).attr("rel"))?a.vakata.context.hide():a(this).blur()}).delegate("a","mouseover",function(){a.vakata.context.cnt.find(".vakata-hover").removeClass("vakata-hover")}).appendTo("body");a(document).bind("mousedown",function(c){a.vakata.context.vis&&!a.contains(a.vakata.context.cnt[0],c.target)&&
a.vakata.context.hide()});typeof a.hotkeys!=="undefined"&&a(document).bind("keydown","up",function(c){if(a.vakata.context.vis){var e=a.vakata.context.cnt.find("ul:visible").last().children(".vakata-hover").removeClass("vakata-hover").prevAll("li:not(.vakata-separator)").first();e.length||(e=a.vakata.context.cnt.find("ul:visible").last().children("li:not(.vakata-separator)").last());e.addClass("vakata-hover");c.stopImmediatePropagation();c.preventDefault()}}).bind("keydown","down",function(c){if(a.vakata.context.vis){var e=
a.vakata.context.cnt.find("ul:visible").last().children(".vakata-hover").removeClass("vakata-hover").nextAll("li:not(.vakata-separator)").first();e.length||(e=a.vakata.context.cnt.find("ul:visible").last().children("li:not(.vakata-separator)").first());e.addClass("vakata-hover");c.stopImmediatePropagation();c.preventDefault()}}).bind("keydown","right",function(c){a.vakata.context.vis&&(a.vakata.context.cnt.find(".vakata-hover").children("ul").show().children("li:not(.vakata-separator)").removeClass("vakata-hover").first().addClass("vakata-hover"),
c.stopImmediatePropagation(),c.preventDefault())}).bind("keydown","left",function(c){a.vakata.context.vis&&(a.vakata.context.cnt.find(".vakata-hover").children("ul").hide().children(".vakata-separator").removeClass("vakata-hover"),c.stopImmediatePropagation(),c.preventDefault())}).bind("keydown","esc",function(c){a.vakata.context.hide();c.preventDefault()}).bind("keydown","space",function(c){a.vakata.context.cnt.find(".vakata-hover").last().children("a").click();c.preventDefault()})});a.jstree.plugin("contextmenu",
{__init:function(){this.get_container().delegate("a","contextmenu.jstree",a.proxy(function(c){c.preventDefault();a(c.currentTarget).hasClass("jstree-loading")||this.show_contextmenu(c.currentTarget,c.pageX,c.pageY)},this)).delegate("a","click.jstree",a.proxy(function(){this.data.contextmenu&&a.vakata.context.hide()},this)).bind("destroy.jstree",a.proxy(function(){this.data.contextmenu&&a.vakata.context.hide()},this));a(document).bind("context_hide.vakata",a.proxy(function(){this.data.contextmenu=
!1},this))},defaults:{select_node:!1,show_at_node:!0,items:{create:{separator_before:!1,separator_after:!0,label:"Create",action:function(a){this.create(a)}},rename:{separator_before:!1,separator_after:!1,label:"Rename",action:function(a){this.rename(a)}},remove:{separator_before:!1,icon:!1,separator_after:!1,label:"Delete",action:function(a){this.is_selected(a)?this.remove():this.remove(a)}},ccp:{separator_before:!0,icon:!1,separator_after:!1,label:"Edit",action:!1,submenu:{cut:{separator_before:!1,
separator_after:!1,label:"Cut",action:function(a){this.cut(a)}},copy:{separator_before:!1,icon:!1,separator_after:!1,label:"Copy",action:function(a){this.copy(a)}},paste:{separator_before:!1,icon:!1,separator_after:!1,label:"Paste",action:function(a){this.paste(a)}}}}}},_fn:{show_contextmenu:function(c,e,d){var c=this._get_node(c),g=this.get_settings().contextmenu,h=c.children("a:visible:eq(0)"),k=!1,k=!1;g.select_node&&this.data.ui&&!this.is_selected(c)&&(this.deselect_all(),this.select_node(c,!0));
if(g.show_at_node||typeof e==="undefined"||typeof d==="undefined")k=h.offset(),e=k.left,d=k.top+this.data.core.li_height;k=c.data("jstree")&&c.data("jstree").contextmenu?c.data("jstree").contextmenu:g.items;a.isFunction(k)&&(k=k.call(this,c));this.data.contextmenu=!0;a.vakata.context.show(k,h,e,d,this,c,this._get_settings().core.rtl);this.data.themes&&a.vakata.context.cnt.attr("class","jstree-"+this.data.themes.theme+"-context")}}})})(jQuery);(function(b){b.jstree.plugin("types",{__init:function(){var c=
this._get_settings().types;this.data.types.attach_to=[];this.get_container().bind("init.jstree",b.proxy(function(){var a=c.type_attr,d="",g=this;b.each(c.types,function(c,f){b.each(f,function(a){/^(max_depth|max_children|icon|valid_children)$/.test(a)||g.data.types.attach_to.push(a)});if(!f.icon)return!0;if(f.icon.image||f.icon.position)d+=c=="default"?".jstree-"+g.get_index()+" a > .jstree-icon { ":".jstree-"+g.get_index()+" li["+a+'="'+c+'"] > a > .jstree-icon { ',f.icon.image&&(d+=" background-image:url("+
f.icon.image+"); "),d+=f.icon.position?" background-position:"+f.icon.position+"; ":" background-position:0 0; ",d+="} "});d!==""&&b.vakata.css.add_sheet({str:d,title:"jstree-types"})},this)).bind("before.jstree",b.proxy(function(a,c){var f,d;if((f=(f=this._get_settings().types.use_data?this._get_node(c.args[0]):!1)&&f!==-1&&f.length?f.data("jstree"):!1)&&f.types&&f.types[c.func]===!1)return a.stopImmediatePropagation(),!1;if(b.inArray(c.func,this.data.types.attach_to)!==-1&&c.args[0]&&(c.args[0].tagName||
c.args[0].jquery))if(f=this._get_settings().types.types,d=this._get_type(c.args[0]),(f[d]&&typeof f[d][c.func]!=="undefined"||f["default"]&&typeof f["default"][c.func]!=="undefined")&&this._check(c.func,c.args[0])===!1)return a.stopImmediatePropagation(),!1},this));a&&this.get_container().bind("load_node.jstree set_type.jstree",b.proxy(function(a,c){var f=c&&c.rslt&&c.rslt.obj&&c.rslt.obj!==-1?this._get_node(c.rslt.obj).parent():this.get_container_ul(),d=!1,k=this._get_settings().types;b.each(k.types,
function(a,b){if(b.icon&&(b.icon.image||b.icon.position))d=a==="default"?f.find("li > a > .jstree-icon"):f.find("li["+k.type_attr+"='"+a+"'] > a > .jstree-icon"),b.icon.image&&d.css("backgroundImage","url("+b.icon.image+")"),d.css("backgroundPosition",b.icon.position||"0 0")})},this))},defaults:{max_children:-1,max_depth:-1,valid_children:"all",use_data:!1,type_attr:"rel",types:{"default":{max_children:-1,max_depth:-1,valid_children:"all"}}},_fn:{_types_notify:function(a,b){b.type&&this._get_settings().types.use_data&&
this.set_type(b.type,a)},_get_type:function(a){a=this._get_node(a);return!a||!a.length?!1:a.attr(this._get_settings().types.type_attr)||"default"},set_type:function(a,b){var b=this._get_node(b),c=!b.length||!a?!1:b.attr(this._get_settings().types.type_attr,a);c&&this.__callback({obj:b,type:a});return c},_check:function(a,c,d){var c=this._get_node(c),g=!1,h=this._get_type(c),k=0,l=this,j=this._get_settings().types,n=!1;if(c===-1)if(j[a])g=j[a];else return;else{if(h===!1)return;(n=j.use_data?c.data("jstree"):
!1)&&n.types&&typeof n.types[a]!=="undefined"?g=n.types[a]:j.types[h]&&typeof j.types[h][a]!=="undefined"?g=j.types[h][a]:j.types["default"]&&typeof j.types["default"][a]!=="undefined"&&(g=j.types["default"][a])}b.isFunction(g)&&(g=g.call(this,c));a==="max_depth"&&c!==-1&&d!==!1&&j.max_depth!==-2&&g!==0&&c.children("a:eq(0)").parentsUntil(".jstree","li").each(function(b){if(j.max_depth!==-1&&j.max_depth-(b+1)<=0)return g=0,!1;k=b===0?g:l._check(a,this,!1);if(k!==-1&&k-(b+1)<=0)return g=0,!1;if(k>=
0&&(k-(b+1)<g||g<0))g=k-(b+1);if(j.max_depth>=0&&(j.max_depth-(b+1)<g||g<0))g=j.max_depth-(b+1)});return g},check_move:function(){if(!this.__call_old())return!1;var a=this._get_move(),c=a.rt._get_settings().types,d=a.rt._check("max_children",a.cr),g=a.rt._check("max_depth",a.cr),h=a.rt._check("valid_children",a.cr),k=0,l=1;if(h==="none")return!1;if(b.isArray(h)&&a.ot&&a.ot._get_type&&(a.o.each(function(){if(b.inArray(a.ot._get_type(this),h)===-1)return l=!1}),l===!1))return!1;if(c.max_children!==
-2&&d!==-1&&(k=a.cr===-1?this.get_container().find("> ul > li").not(a.o).length:a.cr.find("> ul > li").not(a.o).length,k+a.o.length>d))return!1;if(c.max_depth!==-2&&g!==-1){l=0;if(g===0)return!1;if(typeof a.o.d==="undefined"){for(c=a.o;c.length>0;)c=c.find("> ul > li"),l++;a.o.d=l}if(g-a.o.d<0)return!1}return!0},create_node:function(a,c,d,g,h,k){if(!k&&(h||this._is_loaded(a))){var l=typeof c=="string"&&c.match(/^before|after$/i)&&a!==-1?this._get_parent(a):this._get_node(a),j=this._get_settings().types,
n=this._check("max_children",l),q=this._check("max_depth",l),p=this._check("valid_children",l);typeof d==="string"&&(d={data:d});d||(d={});if(p==="none")return!1;if(b.isArray(p))if(!d.attr||!d.attr[j.type_attr]){if(!d.attr)d.attr={};d.attr[j.type_attr]=p[0]}else if(b.inArray(d.attr[j.type_attr],p)===-1)return!1;if(j.max_children!==-2&&n!==-1&&(l=l===-1?this.get_container().find("> ul > li").length:l.find("> ul > li").length,l+1>n))return!1;if(j.max_depth!==-2&&q!==-1&&q-1<0)return!1}return this.__call_old(!0,
a,c,d,g,h,k)}}})})(jQuery);(function(a){a.jstree.plugin("html_data",{__init:function(){this.data.html_data.original_container_html=this.get_container().find(" > ul > li").clone(!0);this.data.html_data.original_container_html.find("li").andSelf().contents().filter(function(){return this.nodeType==3}).remove()},defaults:{data:!1,ajax:!1,correct_state:!0},_fn:{load_node:function(a,b,c){var d=this;this.load_node_html(a,function(){d.__callback({obj:d._get_node(a)});b.call(this)},c)},_is_loaded:function(c){c=
this._get_node(c);return c==-1||!c||!this._get_settings().html_data.ajax&&!a.isFunction(this._get_settings().html_data.data)||c.is(".jstree-open, .jstree-leaf")||c.children("ul").children("li").size()>0},load_node_html:function(c,e,d){var g,h=this.get_settings().html_data,k=function(){};g=function(){};if((c=this._get_node(c))&&c!==-1)if(c.data("jstree_is_loading"))return;else c.data("jstree_is_loading",!0);switch(!0){case a.isFunction(h.data):h.data.call(this,c,a.proxy(function(d){d&&d!==""&&d.toString&&
d.toString().replace(/^[\s\n]+$/,"")!==""?(d=a(d),d.is("ul")||(d=a("<ul />").append(d)),c==-1||!c?this.get_container().children("ul").empty().append(d.children()).find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||this.firstChild.tagName!=="INS"}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon"):(c.children("a.jstree-loading").removeClass("jstree-loading"),c.append(d).children("ul").find("li, a").filter(function(){return!this.firstChild||
!this.firstChild.tagName||this.firstChild.tagName!=="INS"}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon"),c.removeData("jstree_is_loading")),this.clean_node(c),e&&e.call(this)):c&&c!==-1?(c.children("a.jstree-loading").removeClass("jstree-loading"),c.removeData("jstree_is_loading"),h.correct_state&&(this.correct_state(c),e&&e.call(this))):h.correct_state&&(this.get_container().children("ul").empty(),e&&e.call(this))},
this));break;case !h.data&&!h.ajax:if(!c||c==-1)this.get_container().children("ul").empty().append(this.data.html_data.original_container_html).find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||this.firstChild.tagName!=="INS"}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon"),this.clean_node();e&&e.call(this);break;case !!h.data&&!h.ajax||!!h.data&&!!h.ajax&&(!c||c===-1):if(!c||
c==-1)g=a(h.data),g.is("ul")||(g=a("<ul />").append(g)),this.get_container().children("ul").empty().append(g.children()).find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||this.firstChild.tagName!=="INS"}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon"),this.clean_node();e&&e.call(this);break;case !h.data&&!!h.ajax||!!h.data&&!!h.ajax&&c&&c!==-1:c=this._get_node(c);k=function(a,
b,e){var g=this.get_settings().html_data.ajax.error;g&&g.call(this,a,b,e);c!=-1&&c.length?(c.children("a.jstree-loading").removeClass("jstree-loading"),c.removeData("jstree_is_loading"),b==="success"&&h.correct_state&&this.correct_state(c)):b==="success"&&h.correct_state&&this.get_container().children("ul").empty();d&&d.call(this)};h.ajax.context=this;h.ajax.error=k;h.ajax.success=function(d,g,i){var q=this.get_settings().html_data.ajax.success;q&&(d=q.call(this,d,g,i)||d);if(d===""||d&&d.toString&&
d.toString().replace(/^[\s\n]+$/,"")==="")return k.call(this,i,g,"");d?(d=a(d),d.is("ul")||(d=a("<ul />").append(d)),c==-1||!c?this.get_container().children("ul").empty().append(d.children()).find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||this.firstChild.tagName!=="INS"}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon"):(c.children("a.jstree-loading").removeClass("jstree-loading"),
c.append(d).children("ul").find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||this.firstChild.tagName!=="INS"}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon"),c.removeData("jstree_is_loading")),this.clean_node(c),e&&e.call(this)):c&&c!==-1?(c.children("a.jstree-loading").removeClass("jstree-loading"),c.removeData("jstree_is_loading"),h.correct_state&&(this.correct_state(c),e&&
e.call(this))):h.correct_state&&(this.get_container().children("ul").empty(),e&&e.call(this))};if(!h.ajax.dataType)h.ajax.dataType="html";if(a.isFunction(h.ajax.url))h.ajax.url=h.ajax.url.call(this,c);if(a.isFunction(h.ajax.data))h.ajax.data=h.ajax.data.call(this,c);a.ajax(h.ajax)}}}});a.jstree.defaults.plugins.push("html_data")})(jQuery);(function(a){a.jstree.plugin("themeroller",{__init:function(){var c=this._get_settings().themeroller;this.get_container().addClass("ui-widget-content").addClass("jstree-themeroller").delegate("a",
"mouseenter.jstree",function(e){a(e.currentTarget).hasClass("jstree-loading")||a(this).addClass(c.item_h)}).delegate("a","mouseleave.jstree",function(){a(this).removeClass(c.item_h)}).bind("init.jstree",a.proxy(function(a,b){b.inst.get_container().find("> ul > li > .jstree-loading > ins").addClass("ui-icon-refresh");this._themeroller(b.inst.get_container().find("> ul > li"))},this)).bind("open_node.jstree create_node.jstree",a.proxy(function(a,b){this._themeroller(b.rslt.obj)},this)).bind("loaded.jstree refresh.jstree",
a.proxy(function(){this._themeroller()},this)).bind("close_node.jstree",a.proxy(function(a,b){this._themeroller(b.rslt.obj)},this)).bind("delete_node.jstree",a.proxy(function(a,b){this._themeroller(b.rslt.parent)},this)).bind("correct_state.jstree",a.proxy(function(a,b){b.rslt.obj.children("ins.jstree-icon").removeClass(c.opened+" "+c.closed+" ui-icon").end().find("> a > ins.ui-icon").filter(function(){return this.className.toString().replace(c.item_clsd,"").replace(c.item_open,"").replace(c.item_leaf,
"").indexOf("ui-icon-")===-1}).removeClass(c.item_open+" "+c.item_clsd).addClass(c.item_leaf||"jstree-no-icon")},this)).bind("select_node.jstree",a.proxy(function(a,b){b.rslt.obj.children("a").addClass(c.item_a)},this)).bind("deselect_node.jstree deselect_all.jstree",a.proxy(function(){this.get_container().find("a."+c.item_a).removeClass(c.item_a).end().find("a.jstree-clicked").addClass(c.item_a)},this)).bind("dehover_node.jstree",a.proxy(function(a,b){b.rslt.obj.children("a").removeClass(c.item_h)},
this)).bind("hover_node.jstree",a.proxy(function(a,b){this.get_container().find("a."+c.item_h).not(b.rslt.obj).removeClass(c.item_h);b.rslt.obj.children("a").addClass(c.item_h)},this)).bind("move_node.jstree",a.proxy(function(a,b){this._themeroller(b.rslt.o);this._themeroller(b.rslt.op)},this))},__destroy:function(){var c=this._get_settings().themeroller,e=["ui-icon"];a.each(c,function(a,b){b=b.split(" ");b.length&&(e=e.concat(b))});this.get_container().removeClass("ui-widget-content").find("."+e.join(", .")).removeClass(e.join(" "))},
_fn:{_themeroller:function(a){var b=this._get_settings().themeroller,a=!a||a==-1?this.get_container_ul():this._get_node(a).parent();a.find("li.jstree-closed").children("ins.jstree-icon").removeClass(b.opened).addClass("ui-icon "+b.closed).end().children("a").addClass(b.item).children("ins.jstree-icon").addClass("ui-icon").filter(function(){return this.className.toString().replace(b.item_clsd,"").replace(b.item_open,"").replace(b.item_leaf,"").indexOf("ui-icon-")===-1}).removeClass(b.item_leaf+" "+
b.item_open).addClass(b.item_clsd||"jstree-no-icon").end().end().end().end().find("li.jstree-open").children("ins.jstree-icon").removeClass(b.closed).addClass("ui-icon "+b.opened).end().children("a").addClass(b.item).children("ins.jstree-icon").addClass("ui-icon").filter(function(){return this.className.toString().replace(b.item_clsd,"").replace(b.item_open,"").replace(b.item_leaf,"").indexOf("ui-icon-")===-1}).removeClass(b.item_leaf+" "+b.item_clsd).addClass(b.item_open||"jstree-no-icon").end().end().end().end().find("li.jstree-leaf").children("ins.jstree-icon").removeClass(b.closed+
" ui-icon "+b.opened).end().children("a").addClass(b.item).children("ins.jstree-icon").addClass("ui-icon").filter(function(){return this.className.toString().replace(b.item_clsd,"").replace(b.item_open,"").replace(b.item_leaf,"").indexOf("ui-icon-")===-1}).removeClass(b.item_clsd+" "+b.item_open).addClass(b.item_leaf||"jstree-no-icon")}},defaults:{opened:"ui-icon-triangle-1-se",closed:"ui-icon-triangle-1-e",item:"ui-state-default",item_h:"ui-state-hover",item_a:"ui-state-active",item_open:"ui-icon-folder-open",
item_clsd:"ui-icon-folder-collapsed",item_leaf:"ui-icon-document"}});a(function(){a.vakata.css.add_sheet({str:".jstree-themeroller .ui-icon { overflow:visible; } .jstree-themeroller a { padding:0 2px; } .jstree-themeroller .jstree-no-icon { display:none; }",title:"jstree"})})})(jQuery);(function(a){a.jstree.plugin("unique",{__init:function(){this.get_container().bind("before.jstree",a.proxy(function(c,e){var d=[],g=!0,h;e.func=="move_node"&&e.args[4]===!0&&e.args[0].o&&e.args[0].o.length&&(e.args[0].o.children("a").each(function(){d.push(a(this).text().replace(/^\s+/g,
""))}),g=this._check_unique(d,e.args[0].np.find("> ul > li").not(e.args[0].o),"move_node"));if(e.func=="create_node"&&(e.args[4]||this._is_loaded(e.args[0]))){g=this._get_node(e.args[0]);if(e.args[1]&&(e.args[1]==="before"||e.args[1]==="after"))if(g=this._get_parent(e.args[0]),!g||g===-1)g=this.get_container();typeof e.args[2]==="string"?d.push(e.args[2]):!e.args[2]||!e.args[2].data?d.push(this._get_string("new_node")):d.push(e.args[2].data);g=this._check_unique(d,g.find("> ul > li"),"create_node")}if(e.func==
"rename_node"){d.push(e.args[1]);h=this._get_node(e.args[0]);g=this._get_parent(h);if(!g||g===-1)g=this.get_container();g=this._check_unique(d,g.find("> ul > li").not(h),"rename_node")}if(!g)return c.stopPropagation(),!1},this))},defaults:{error_callback:a.noop},_fn:{_check_unique:function(c,e,d){var g=[];e.children("a").each(function(){g.push(a(this).text().replace(/^\s+/g,""))});if(!g.length||!c.length)return!0;g=g.sort().join(",,").replace(/(,|^)([^,]+)(,,\2)+(,|$)/g,"$1$2$4").replace(/,,+/g,",").replace(/,$/,
"").split(",");return g.length+c.length!=g.concat(c).sort().join(",,").replace(/(,|^)([^,]+)(,,\2)+(,|$)/g,"$1$2$4").replace(/,,+/g,",").replace(/,$/,"").split(",").length?(this._get_settings().unique.error_callback.call(null,c,e,d),!1):!0},check_move:function(){if(!this.__call_old())return!1;var c=this._get_move(),e=[];return c.o&&c.o.length?(c.o.children("a").each(function(){e.push(a(this).text().replace(/^\s+/g,""))}),this._check_unique(e,c.np.find("> ul > li").not(c.o),"check_move")):!0}}})})(jQuery);
(function(b){b.jstree.plugin("wholerow",{__init:function(){if(!this.data.ui)throw"jsTree wholerow: jsTree UI plugin not included.";this.data.wholerow.html=!1;this.data.wholerow.to=!1;this.get_container().bind("init.jstree",b.proxy(function(){this._get_settings().core.animation=0},this)).bind("open_node.jstree create_node.jstree clean_node.jstree loaded.jstree",b.proxy(function(a,b){this._prepare_wholerow_span(b&&b.rslt&&b.rslt.obj?b.rslt.obj:-1)},this)).bind("search.jstree clear_search.jstree reopen.jstree after_open.jstree after_close.jstree create_node.jstree delete_node.jstree clean_node.jstree",
b.proxy(function(a,b){this.data.to&&clearTimeout(this.data.to);this.data.to=setTimeout(function(a,b){return function(){a._prepare_wholerow_ul(b)}}(this,b&&b.rslt&&b.rslt.obj?b.rslt.obj:-1),0)},this)).bind("deselect_all.jstree",b.proxy(function(){this.get_container().find(" > .jstree-wholerow .jstree-clicked").removeClass("jstree-clicked "+(this.data.themeroller?this._get_settings().themeroller.item_a:""))},this)).bind("select_node.jstree deselect_node.jstree ",b.proxy(function(a,c){c.rslt.obj.each(function(){c.inst.get_container().find(" > .jstree-wholerow li:visible:eq("+
parseInt((b(this).offset().top-c.inst.get_container().offset().top+c.inst.get_container()[0].scrollTop)/c.inst.data.core.li_height,10)+")").children("a").attr("class",c.rslt.obj.children("a").attr("class"))})},this)).bind("hover_node.jstree dehover_node.jstree",b.proxy(function(a,b){this.get_container().find(" > .jstree-wholerow .jstree-hovered").removeClass("jstree-hovered "+(this.data.themeroller?this._get_settings().themeroller.item_h:""));a.type==="hover_node"&&this.get_container().find(" > .jstree-wholerow li:visible:eq("+
parseInt((b.rslt.obj.offset().top-this.get_container().offset().top+this.get_container()[0].scrollTop)/this.data.core.li_height,10)+")").children("a").attr("class",b.rslt.obj.children(".jstree-hovered").attr("class"))},this)).delegate(".jstree-wholerow-span, ins.jstree-icon, li","click.jstree",function(a){var c=b(a.currentTarget);a.target.tagName==="A"||a.target.tagName==="INS"&&c.closest("li").is(".jstree-open, .jstree-closed")||(c.closest("li").children("a:visible:eq(0)").click(),a.stopImmediatePropagation())}).delegate("li",
"mouseover.jstree",b.proxy(function(a){a.stopImmediatePropagation();if(b(a.currentTarget).children(".jstree-hovered, .jstree-clicked").length)return!1;this.hover_node(a.currentTarget);return!1},this)).delegate("li","mouseleave.jstree",b.proxy(function(a){b(a.currentTarget).children("a").hasClass("jstree-hovered").length||this.dehover_node(a.currentTarget)},this));(d||a)&&b.vakata.css.add_sheet({str:".jstree-"+this.get_index()+" { position:relative; } ",title:"jstree"})},defaults:{},__destroy:function(){this.get_container().children(".jstree-wholerow").remove();
this.get_container().find(".jstree-wholerow-span").remove()},_fn:{_prepare_wholerow_span:function(a){a=!a||a==-1?this.get_container().find("> ul > li"):this._get_node(a);a!==!1&&a.each(function(){b(this).find("li").andSelf().each(function(){var a=b(this);if(a.children(".jstree-wholerow-span").length)return!0;a.prepend("<span class='jstree-wholerow-span' style='width:"+a.parentsUntil(".jstree","li").length*18+"px;'>&#160;</span>")})})},_prepare_wholerow_ul:function(){var a=this.get_container().children("ul").eq(0),
b=a.html();a.addClass("jstree-wholerow-real");if(this.data.wholerow.last_html!==b)this.data.wholerow.last_html=b,this.get_container().children(".jstree-wholerow").remove(),this.get_container().append(a.clone().removeClass("jstree-wholerow-real").wrapAll("<div class='jstree-wholerow' />").parent().width(a.parent()[0].scrollWidth).css("top",(a.height()+(d?5:0))*-1).find("li[id]").each(function(){this.removeAttribute("id")}).end())}}});b(function(){var f=".jstree .jstree-wholerow-real { position:relative; z-index:1; } .jstree .jstree-wholerow-real li { cursor:pointer; } .jstree .jstree-wholerow-real a { border-left-color:transparent !important; border-right-color:transparent !important; } .jstree .jstree-wholerow { position:relative; z-index:0; height:0; } .jstree .jstree-wholerow ul, .jstree .jstree-wholerow li { width:100%; } .jstree .jstree-wholerow, .jstree .jstree-wholerow ul, .jstree .jstree-wholerow li, .jstree .jstree-wholerow a { margin:0 !important; padding:0 !important; } .jstree .jstree-wholerow, .jstree .jstree-wholerow ul, .jstree .jstree-wholerow li { background:transparent !important; }.jstree .jstree-wholerow ins, .jstree .jstree-wholerow span, .jstree .jstree-wholerow input { display:none !important; }.jstree .jstree-wholerow a, .jstree .jstree-wholerow a:hover { text-indent:-9999px; !important; width:100%; padding:0 !important; border-right-width:0px !important; border-left-width:0px !important; } .jstree .jstree-wholerow-span { position:absolute; left:0; margin:0px; padding:0; height:18px; border-width:0; padding:0; z-index:0; }";
c&&(f+=".jstree .jstree-wholerow a { display:block; height:18px; margin:0; padding:0; border:0; } .jstree .jstree-wholerow-real a { border-color:transparent !important; } ");if(d||a)f+=".jstree .jstree-wholerow, .jstree .jstree-wholerow li, .jstree .jstree-wholerow ul, .jstree .jstree-wholerow a { margin:0; padding:0; line-height:18px; } .jstree .jstree-wholerow a { display:block; height:18px; line-height:18px; overflow:hidden; } ";b.vakata.css.add_sheet({str:f,title:"jstree"})})})(jQuery);(function(a){var c=
["getChildren","getChildrenCount","getAttr","getName","getProps"],e=function(c,e){var d=!0,c=c||{},e=[].concat(e);a.each(e,function(e,f){if(!a.isFunction(c[f]))return d=!1});return d};a.jstree.plugin("model",{__init:function(){if(!this.data.json_data)throw"jsTree model: jsTree json_data plugin not included.";this._get_settings().json_data.data=function(d,g){var h=d==-1?this._get_settings().model.object:d.data("jstree_model");if(!e(h,c))return g.call(null,!1);this._get_settings().model.async?h.getChildren(a.proxy(function(a){this.model_done(a,
g)},this)):this.model_done(h.getChildren(),g)}},defaults:{object:!1,id_prefix:!1,async:!1},_fn:{model_done:function(c,e){var d=[],f=this._get_settings(),l=this;a.isArray(c)||(c=[c]);a.each(c,function(c,e){var g=e.getProps()||{};g.attr=e.getAttr()||{};if(e.getChildrenCount())g.state="closed";g.data=e.getName();if(!a.isArray(g.data))g.data=[g.data];l.data.types&&a.isFunction(e.getType)&&(g.attr[f.types.type_attr]=e.getType());if(g.attr.id&&f.model.id_prefix)g.attr.id=f.model.id_prefix+g.attr.id;if(!g.metadata)g.metadata=
{};g.metadata.jstree_model=e;d.push(g)});e.call(null,d)}}})})(jQuery)}})();
(function(a,d){a.fn.lazyload=function(c){var b=function(b){b=a(b).offset();/; CPU.*OS (?:3_2|4_0)/i.test(navigator.userAgent)&&"getBoundingClientRect"in document.documentElement&&(b.top-=d.scrollY,b.left-=d.scrollX);return b},f=this,e={threshold:0,container:d,effect:"show",namespace:".lazyload"};c&&a.extend(e,c);var i=a(e.container),g=e.namespace,h="appear"+g,c="resize"+g,k="scroll"+g,l=function(c){c=a(c);if(!c.length)return!1;var f=e.threshold,g;if(i[0]===d)var k=i.height()+i.scrollTop(),h=i.scrollLeft(),
l=i.width()+i.scrollLeft(),t=i.scrollTop();else g=b(i),k=g.top+i.height(),h=g.left,l=g.left+i.width(),t=g.top;g=b(c);var v=g.top+c.height(),C=g.left,c=g.left+c.width();return g.top+f<=k&&C+f<=l&&v-f>=t&&c-f>h};f.each(function(){var b=this,c=a(this);if(l(c)&&!c.attr("original"))b.loaded=!0;else if(!(b.offsetWidth==0||b.offsetHeight==0||c.attr("href","src")=="")){c.data("original",c.attr("original")||c.attr("src"));if(!c.attr("src")||e.placeholder===c.attr("src")||!l(c))e.placeholder?c.attr("src",e.placeholder):
c.removeAttr("src"),b.loaded=!1;c.one(h,function(){this.loaded||a("<img />").load(function(){c.hide().attr("src",c.data("original"))[e.effect](e.effectSpeed).removeData("original");b.loaded=!0}).attr("src",c.data("original"))})}});i.bind(k+" "+c,function(){f.each(function(){l(this)&&!this.loaded&&$e.trigger(h)});f=a(a.grep(f,function(a){return!a.loaded}));f.length||i.unbind(g)}).trigger(k);return this}})(jQuery,window);
new function(a){var d=a.separator||"&",c=a.spaces===!1?!1:!0,b=a.prefix!==!1?a.hash===!0?"#":"?":"",f=a.numbers===!1?!1:!0;jQuery.query=new function(){var a=function(a,b){return a!=void 0&&a!==null&&(b?a.constructor==b:!0)},i=function(a){for(var b=/\[([^[]*)\]/g,c=/^([^[]+)(\[.*\])?$/.exec(a),e=c[1],d=[];a=b.exec(c[2]);)d.push(a[1]);return[e,d]},g=function(b,c,d){var f=c.shift();typeof b!="object"&&(b=null);if(f==="")if(b||(b=[]),a(b,Array))b.push(c.length==0?d:g(null,c.slice(0),d));else if(a(b,Object)){for(f=
0;b[f++]!=null;);b[--f]=c.length==0?d:g(b[f],c.slice(0),d)}else b=[],b.push(c.length==0?d:g(null,c.slice(0),d));else if(f&&f.match(/^\s*[0-9]+\s*$/)){var h=parseInt(f,10);b||(b=[]);b[h]=c.length==0?d:g(b[h],c.slice(0),d)}else if(f){h=f.replace(/^\s*|\s*$/g,"");b||(b={});if(a(b,Array)){for(var i={},f=0;f<b.length;++f)i[f]=b[f];b=i}b[h]=c.length==0?d:g(b[h],c.slice(0),d)}else return d;return b},h=function(a){var b=this;b.keys={};a.queryObject?jQuery.each(a.get(),function(a,c){b.SET(a,c)}):jQuery.each(arguments,
function(){var a;a=(""+this).replace(/^[?#]/,"");a=a.replace(/[;&]$/,"");c&&(a=a.replace(/[+]/g," "));jQuery.each(a.split(/[&;]/),function(){var a=decodeURIComponent(this.split("=")[0]||""),c=decodeURIComponent(this.split("=")[1]||"");a&&(f&&(/^[+-]?[0-9]+\.[0-9]*$/.test(c)?c=parseFloat(c):/^[+-]?[0-9]+$/.test(c)&&(c=parseInt(c,10))),b.SET(a,!c&&c!==0?!0:c))})});return b};h.prototype={queryObject:!0,has:function(b,c){var d=this.get(b);return a(d,c)},GET:function(b){if(!a(b))return this.keys;for(var c=
i(b),b=c[1],c=this.keys[c[0]];c!=null&&b.length!=0;)c=c[b.shift()];return typeof c=="number"?c:c||""},get:function(b){b=this.GET(b);if(a(b,Object))return jQuery.extend(!0,{},b);else if(a(b,Array))return b.slice(0);return b},SET:function(b,c){var d=!a(c)?null:c,f=i(b),h=f[0];this.keys[h]=g(this.keys[h],f[1].slice(0),d);return this},set:function(a,b){return this.copy().SET(a,b)},REMOVE:function(a){return this.SET(a,null).COMPACT()},remove:function(a){return this.copy().REMOVE(a)},EMPTY:function(){var a=
this;jQuery.each(a.keys,function(b){delete a.keys[b]});return a},load:function(a){var b=a.replace(/^.*?[#](.+?)(?:\?.+)?$/,"$1"),c=a.replace(/^.*?[?](.+?)(?:#.+)?$/,"$1");return new h(a.length==c.length?"":c,a.length==b.length?"":b)},empty:function(){return this.copy().EMPTY()},copy:function(){return new h(this)},COMPACT:function(){function b(c){var d=typeof c=="object"?a(c,Array)?[]:{}:c;typeof c=="object"&&jQuery.each(c,function(c,f){if(!a(f))return!0;var g=b(f);a(d,Array)?d.push(g):d[c]=g});return d}
this.keys=b(this.keys);return this},compact:function(){return this.copy().COMPACT()},toString:function(){var f=[],g=[],h=function(a){a+="";a=encodeURIComponent(a);c&&(a=a.replace(/%20/g,"+"));return a},i=function(b,c){var d=function(a){return!c||c==""?""+a:[c,"[",a,"]"].join("")};jQuery.each(b,function(b,c){if(typeof c=="object")i(c,d(b));else{var f=d(b);a(c)&&c!==!1&&(f=[h(f)],c!==!0&&(f.push("="),f.push(h(c))),g.push(f.join("")))}})};i(this.keys);g.length>0&&f.push(b);f.push(g.join(d));return f.join("")}};
return new h(location.search,location.hash)}}(jQuery.query||{});
(function(a){function d(a){return typeof a=="object"?a:{top:a,left:a}}var c=a.scrollTo=function(b,c,e){a(window).scrollTo(b,c,e)};c.defaults={axis:"xy",duration:parseFloat(a.fn.jquery)>=1.3?0:1};c.window=function(){return a(window)._scrollable()};a.fn._scrollable=function(){return this.map(function(){if(this.nodeName&&a.inArray(this.nodeName.toLowerCase(),["iframe","#document","html","body"])==-1)return this;var b=(this.contentWindow||this).document||this.ownerDocument||this;return a.browser.safari||
b.compatMode=="BackCompat"?b.body:b.documentElement})};a.fn.scrollTo=function(b,f,e){typeof f=="object"&&(e=f,f=0);typeof e=="function"&&(e={onAfter:e});b=="max"&&(b=9E9);e=a.extend({},c.defaults,e);f=f||e.speed||e.duration;e.queue=e.queue&&e.axis.length>1;e.queue&&(f/=2);e.offset=d(e.offset);e.over=d(e.over);return this._scrollable().each(function(){function i(a){h.animate(j,f,e.easing,a&&function(){a.call(this,b,e)})}var g=this,h=a(g),k=b,l,j={},n=h.is("html,body");switch(typeof k){case "number":case "string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(k)){k=
d(k);break}k=a(k,this);case "object":if(k.is||k.style)l=(k=a(k)).offset()}a.each(e.axis.split(""),function(a,b){var d=b=="x"?"Left":"Top",f=d.toLowerCase(),t="scroll"+d,v=g[t],C=c.max(g,b);l?(j[t]=l[f]+(n?0:v-h.offset()[f]),e.margin&&(j[t]-=parseInt(k.css("margin"+d))||0,j[t]-=parseInt(k.css("border"+d+"Width"))||0),j[t]+=e.offset[f]||0,e.over[f]&&(j[t]+=k[b=="x"?"width":"height"]()*e.over[f])):(d=k[f],j[t]=d.slice&&d.slice(-1)=="%"?parseFloat(d)/100*C:d);/^\d+$/.test(j[t])&&(j[t]=j[t]<=0?0:Math.min(j[t],
C));!a&&e.queue&&(v!=j[t]&&i(e.onAfterFirst),delete j[t])});i(e.onAfter)}).end()};c.max=function(b,c){var e=c=="x"?"Width":"Height",d="scroll"+e;if(!a(b).is("html,body"))return b[d]-a(b)[e.toLowerCase()]();var e="client"+e,g=b.ownerDocument.documentElement,h=b.ownerDocument.body;return Math.max(g[d],h[d])-Math.min(g[e],h[e])}})(jQuery);
(function(a){var d={getCaretData:function(a){var b={text:"",start:0,end:0};if(!a.value)return b;try{if(window.getSelection)b.start=a.selectionStart,b.end=a.selectionEnd,b.text=a.value.slice(b.start,b.end);else if(document.selection){a.focus();var d=document.selection.createRange(),e=document.body.createTextRange();b.text=d.text;e.moveToElementText(a);e.setEndPoint("StartToStart",d);b.start=a.value.length-e.text.length;b.end=b.start+d.text.length}}catch(i){}return b},getCaret:function(a){a=this.getCaretData(a);
return{start:a.start,end:a.end}},getText:function(a){return this.getCaretData(a).text},caretMode:function(a){a=a||"keep";a==!1&&(a="end");switch(a){case "keep":case "start":case "end":break;default:a="keep"}return a},replace:function(c,b,d){var e=this.getCaretData(c),i=c.value,g=a(c).scrollTop(),h={start:e.start,end:e.start+b.length};c.value=i.substr(0,e.start)+b+i.substr(e.end);a(c).scrollTop(g);this.setCaret(c,h,d)},insertBefore:function(c,b,d){var e=this.getCaretData(c),i=c.value,g=a(c).scrollTop(),
h={start:e.start+b.length,end:e.end+b.length};c.value=i.substr(0,e.start)+b+i.substr(e.start);a(c).scrollTop(g);this.setCaret(c,h,d)},insertAfter:function(c,b,d){var e=this.getCaretData(c),i=c.value,g=a(c).scrollTop(),h={start:e.start,end:e.end};c.value=i.substr(0,e.end)+b+i.substr(e.end);a(c).scrollTop(g);this.setCaret(c,h,d)},setCaret:function(a,b,d){d=this.caretMode(d);if(d=="start")b.end=b.start;else if(d=="end")b.start=b.end;a.focus();try{if(a.createTextRange){var e=a.createTextRange();if(window.navigator.userAgent.toLowerCase().indexOf("msie")>=
0)b.start=a.value.substr(0,b.start).replace(/\r/g,"").length,b.end=a.value.substr(0,b.end).replace(/\r/g,"").length;e.collapse(!0);e.moveStart("character",b.start);e.moveEnd("character",b.end-b.start);e.select()}else a.setSelectionRange&&a.setSelectionRange(b.start,b.end)}catch(i){}}};a.extend({getSelection:function(c){c=(c||"text").toLowerCase()=="text";try{if(window.getSelection)if(c)return window.getSelection().toString();else{var b=window.getSelection(),d;b.getRangeAt?d=b.getRangeAt(0):(d=document.createRange(),
d.setStart(b.anchorNode,b.anchorOffset),d.setEnd(b.focusNode,b.focusOffset));return a("<div></div>").append(d.cloneContents()).html()}else if(document.selection)return c?document.selection.createRange().text:document.selection.createRange().htmlText}catch(e){}return""}});a.fn.extend({getSelection:function(){var a=[];this.each(function(){a.push(d.getText(this))});return a.length<2?a[0]:a},replaceSelection:function(a,b){return this.each(function(){d.replace(this,a,b)})},insertBeforeSelection:function(a,
b){return this.each(function(){d.insertBefore(this,a,b)})},insertAfterSelection:function(a,b){return this.each(function(){d.insertAfter(this,a,b)})},getCaretPos:function(){var a=[];this.each(function(){a.push(d.getCaret(this))});return a.length<2?a[0]:a},setCaretPos:function(a){return this.each(function(){d.setCaret(this,a)})}})})(jQuery);
(function(a){a.fn.superfish=function(c){var b=a.fn.superfish,d=b.c,e=a(['<span class="',d.arrowClass,'"> &#187;</span>'].join("")),i=function(){var b=a(this),c=h(b);clearTimeout(c.sfTimer);b.showSuperfishUl().siblings().hideSuperfishUl()},g=function(){var c=a(this),d=h(c),e=b.op;clearTimeout(d.sfTimer);d.sfTimer=setTimeout(function(){e.retainPath=a.inArray(c[0],e.$path)>-1;c.hideSuperfishUl();e.$path.length&&c.parents(["li.",e.hoverClass].join("")).length<1&&i.call(e.$path)},e.delay)},h=function(a){a=
a.parents(["ul.",d.menuClass,":first"].join(""))[0];b.op=b.o[a.serial];return a};return this.each(function(){var h=this.serial=b.o.length,l=a.extend({},b.defaults,c);l.$path=a("li."+l.pathClass,this).slice(0,l.pathLevels).each(function(){a(this).addClass([l.hoverClass,d.bcClass].join(" ")).filter("li:has(ul)").removeClass(l.pathClass)});b.o[h]=b.op=l;a("li:has(ul)",this)[a.fn.hoverIntent&&!l.disableHI?"hoverIntent":"hover"](i,g).each(function(){l.autoArrows&&a(">a:first-child",this).addClass(d.anchorClass).append(e.clone())}).not("."+
d.bcClass).hideSuperfishUl();var j=a("a",this);j.each(function(a){var b=j.eq(a).parents("li");j.eq(a).focus(function(){i.call(b)}).blur(function(){g.call(b)})});l.onInit.call(this)}).each(function(){var c=[d.menuClass];b.op.dropShadows&&!(a.browser.msie&&a.browser.version<7)&&c.push(d.shadowClass);a(this).addClass(c.join(" "))})};var d=a.fn.superfish;d.o=[];d.op={};d.IE7fix=function(){var c=d.op;a.browser.msie&&a.browser.version>6&&c.dropShadows&&c.animation.opacity!=void 0&&this.toggleClass(d.c.shadowClass+
"-off")};d.c={bcClass:"sf-breadcrumb",menuClass:"sf-js-enabled",anchorClass:"sf-with-ul",arrowClass:"sf-sub-indicator",shadowClass:"sf-shadow"};d.defaults={hoverClass:"sfHover",pathClass:"overideThisToUse",pathLevels:1,delay:800,animation:{opacity:"show"},speed:"normal",autoArrows:!0,dropShadows:!0,disableHI:!1,onInit:function(){},onBeforeShow:function(){},onShow:function(){},onHide:function(){}};a.fn.extend({hideSuperfishUl:function(){var c=d.op,b=c.retainPath===!0?c.$path:"";c.retainPath=!1;b=a(["li.",
c.hoverClass].join(""),this).add(this).not(b).removeClass(c.hoverClass).find(">ul").hide().css("visibility","hidden");c.onHide.call(b);return this},showSuperfishUl:function(){var a=d.op,b=this.addClass(a.hoverClass).find(">ul:hidden").css("visibility","visible");d.IE7fix.call(b);a.onBeforeShow.call(b);b.animate(a.animation,a.speed,function(){d.IE7fix.call(b);a.onShow.call(b)});return this}})})(jQuery);
(function(a){var d="swfupload_loaded_handler,file_queued_handler,file_queue_error_handler,file_dialog_start_handler,file_dialog_complete_handler,upload_start_handler,upload_progress_handler,upload_error_handler,upload_success_handler,upload_complete_handler,queue_complete_handler".split(","),c=[];a.fn.swfupload=function(){var b=a.makeArray(arguments);return this.each(function(){var f;if(b.length==1&&typeof b[0]=="object"){if(f=a(this).data("__swfu"),!f){var e=b[0],i=a(this);f=[];a.merge(f,d);a.merge(f,
c);a.each(f,function(b,c){var d=c.replace(/_handler$/,"").replace(/_([a-z])/g,function(a,b){return b.toUpperCase()});e[c]=function(){var b=a.Event(d);i.trigger(b,a.makeArray(arguments));return!b.isDefaultPrevented()}});a(this).data("__swfu",new SWFUpload(e))}}else if(b.length>0&&typeof b[0]=="string"){var g=b.shift();(f=a(this).data("__swfu"))&&f[g]&&f[g].apply(f,b)}})};a.swfupload={additionalHandlers:function(){if(arguments.length===0)return c.slice();else a(arguments).each(function(b,d){a.merge(c,
a.makeArray(d))})},defaultHandlers:function(){return d.slice()},getInstance:function(b){return a(b).data("__swfu")}}})(jQuery);
(function(a){a.fn.tabby=function(d){var c=a.extend({},a.fn.tabby.defaults,d),b=a.fn.tabby.pressed;return this.each(function(){$this=a(this);var d=a.meta?a.extend({},c,$this.data()):c;$this.bind("keydown",function(c){var i=a.fn.tabby.catch_kc(c);if(16==i)b.shft=!0;if(17==i)b.ctrl=!0,setTimeout("$.fn.tabby.pressed.ctrl = false;",1E3);if(18==i)b.alt=!0,setTimeout("$.fn.tabby.pressed.alt = false;",1E3);if(9==i&&!b.ctrl&&!b.alt){b.last=i;setTimeout("$.fn.tabby.pressed.last = null;",0);var c=a(c.target).get(0),
g=b.shft,i=c.scrollTop;if(c.setSelectionRange){var h=c.selectionStart,k=c.selectionEnd;if(h==k)if(g)if("\t"==c.value.substring(h-d.tabString.length,h))c.value=c.value.substring(0,h-d.tabString.length)+c.value.substring(h),c.focus(),c.setSelectionRange(h-d.tabString.length,h-d.tabString.length);else{if("\t"==c.value.substring(h,h+d.tabString.length))c.value=c.value.substring(0,h)+c.value.substring(h+d.tabString.length),c.focus(),c.setSelectionRange(h,h)}else c.value=c.value.substring(0,h)+d.tabString+
c.value.substring(h),c.focus(),c.setSelectionRange(h+d.tabString.length,h+d.tabString.length);else{var l=c.value.split("\n"),j=[],n=0,q=0,p;for(p in l)q=n+l[p].length,j.push({start:n,end:q,selected:n<=h&&q>h||q>=k&&n<k||n>h&&q<k}),n=q+1;l=0;for(p in j)if(j[p].selected)if(n=j[p].start+l,g&&d.tabString==c.value.substring(n,n+d.tabString.length))c.value=c.value.substring(0,n)+c.value.substring(n+d.tabString.length),l-=d.tabString.length;else if(!g)c.value=c.value.substring(0,n)+d.tabString+c.value.substring(n),
l+=d.tabString.length;c.focus();c.setSelectionRange(h+(l>0?d.tabString.length:l<0?-d.tabString.length:0),k+l)}}else if(document.selection&&(p=document.selection.createRange(),c==p.parentElement()))if(""==p.text){if(g){g=p.getBookmark();p.moveStart("character",-d.tabString.length);if(d.tabString==p.text)p.text="";else if(p.moveToBookmark(g),p.moveEnd("character",d.tabString.length),d.tabString==p.text)p.text="";p.collapse(!0)}else p.text=d.tabString,p.collapse(!1);p.select()}else{k=p.text;h=k.length;
j=k.split("\r\n");k=document.body.createTextRange();k.moveToElementText(c);k.setEndPoint("EndToStart",p);n=k.text;l=n.split("\r\n");n=n.length;q=document.body.createTextRange();q.moveToElementText(c);q.setEndPoint("StartToEnd",p);var q=q.text,o=document.body.createTextRange();o.moveToElementText(c);o.setEndPoint("StartToEnd",k);var r=o.text,o=a(c).html();a("#r3").text(n+" + "+h+" + "+q.length+" = "+o.length);n+r.length<o.length?(l.push(""),n+=2,g&&d.tabString==j[0].substring(0,d.tabString.length)?
j[0]=j[0].substring(d.tabString.length):g||(j[0]=d.tabString+j[0])):g&&d.tabString==l[l.length-1].substring(0,d.tabString.length)?l[l.length-1]=l[l.length-1].substring(d.tabString.length):g||(l[l.length-1]=d.tabString+l[l.length-1]);for(r=1;r<j.length;r++)g&&d.tabString==j[r].substring(0,d.tabString.length)?j[r]=j[r].substring(d.tabString.length):g||(j[r]=d.tabString+j[r]);1==l.length&&0==n&&(g&&d.tabString==j[0].substring(0,d.tabString.length)?j[0]=j[0].substring(d.tabString.length):g||(j[0]=d.tabString+
j[0]));n+h+q.length<o.length&&j.push("");k.text=l.join("\r\n");p.text=j.join("\r\n");g=document.body.createTextRange();g.moveToElementText(c);0<n?g.setEndPoint("StartToEnd",k):g.setEndPoint("StartToStart",k);g.setEndPoint("EndToEnd",p);g.select()}c.scrollTop=i;return!1}}).bind("keyup",function(c){if(16==a.fn.tabby.catch_kc(c))b.shft=!1}).bind("blur",function(c){9==b.last&&a(c.target).one("focus",function(){b.last=null}).get(0).focus()})})};a.fn.tabby.catch_kc=function(a){return a.keyCode?a.keyCode:
a.charCode?a.charCode:a.which};a.fn.tabby.pressed={shft:!1,ctrl:!1,alt:!1,last:null};a.fn.tabby.defaults={tabString:String.fromCharCode(9)}})(jQuery);
(function(a){a.extend({tablesorter:new function(){function c(a,c){b(a+","+((new Date).getTime()-c.getTime())+"ms")}function b(a){typeof console!="undefined"&&typeof console.debug!="undefined"?console.log(a):alert(a)}function d(c,f){if(c.config.debug)var h="";var i=c.tBodies[0].rows;if(c.tBodies[0].rows[0])for(var k=[],i=i[0].cells,l=i.length,j=0;j<l;j++){var n=!1;a.metadata&&a(f[j]).metadata()&&a(f[j]).metadata().sorter?n=e(a(f[j]).metadata().sorter):c.config.headers[j]&&c.config.headers[j].sorter&&
(n=e(c.config.headers[j].sorter));if(!n)a:{for(var n=c,o=i[j],r=v.length,p=1;p<r;p++)if(v[p].is(a.trim(g(n.config,o)),n,o)){n=v[p];break a}n=v[0]}c.config.debug&&(h+="column:"+j+" parser:"+n.id+"\n");k.push(n)}c.config.debug&&b(h);return k}function e(a){for(var b=v.length,c=0;c<b;c++)if(v[c].id.toLowerCase()==a.toLowerCase())return v[c];return!1}function i(b){if(b.config.debug)var d=new Date;for(var e=b.tBodies[0]&&b.tBodies[0].rows.length||0,f=b.tBodies[0].rows[0]&&b.tBodies[0].rows[0].cells.length||
0,h=b.config.parsers,i={row:[],normalized:[]},k=0;k<e;++k){var j=a(b.tBodies[0].rows[k]),l=[];if(j.hasClass(b.config.cssChildRow))i.row[i.row.length-1]=i.row[i.row.length-1].add(j);else{i.row.push(j);for(var n=0;n<f;++n)l.push(h[n].format(g(b.config,j[0].cells[n]),b,j[0].cells[n]));l.push(i.normalized.length);i.normalized.push(l)}}b.config.debug&&c("Building cache for "+e+" rows:",d);return i}function g(b,c){if(!c)return"";var d="";return d=b.textExtraction=="simple"?c.childNodes[0]&&c.childNodes[0].hasChildNodes()?
c.childNodes[0].innerHTML:c.innerHTML:typeof b.textExtraction=="function"?b.textExtraction(c):a(c).text()}function h(b,d){if(b.config.debug)var e=new Date;for(var f=d.row,g=d.normalized,h=g.length,i=g[0].length-1,k=a(b.tBodies[0]),l=[],n=0;n<h;n++){var o=g[n][i];l.push(f[o]);if(!b.config.appender)for(var o=f[o],p=o.length,r=0;r<p;r++)k[0].appendChild(o[r])}b.config.appender&&b.config.appender(b,l);l=null;b.config.debug&&c("Rebuilt table:",e);j(b);setTimeout(function(){a(b).trigger("sortEnd")},0)}
function k(d){if(d.config.debug)var e=new Date;var f=d.config;$tableHeaders=a(f.selectorHeaders,d).each(function(b){this.column=b;this.count=this.order=typeof f.sortInitialOrder!="Number"?f.sortInitialOrder.toLowerCase()=="desc"?1:0:f.sortInitialOrder==1?1:0;var c;c=a.metadata&&a(this).metadata().sorter===!1?!0:!1;c||(c=d.config.headers[b]&&d.config.headers[b].sorter===!1?!0:!1);if(c)this.sortDisabled=!0;this.sortDisabled||(f.useUI?(a(this).prepend("<span></span>").children("span").addClass(f.cssUI.icon),
a(this).hover(function(){a(this).addClass(f.cssUI.hover)},function(){a(this).removeClass(f.cssUI.hover)})):f.onRenderHeader&&f.onRenderHeader.apply(this));f.headerList[b]=this});d.config.debug&&(c("Built headers:",e),b($tableHeaders));return $tableHeaders}function l(b,c){var d=b.config;return d.useUI?(a(b).parent("div:first").addClass(d.cssUI.widget),c.addClass(d.cssUI.header),[d.cssUI.iconDesc,d.cssUI.iconAsc,d.cssUI.iconBoth]):(c.addClass(d.cssHeader),[d.cssDesc,d.cssAsc])}function j(a){for(var b=
a.config.widgets,c=b.length,d=0;d<c;d++)n(b[d]).format(a)}function n(a){for(var b=C.length,c=0;c<b;c++)if(C[c].id.toLowerCase()==a.toLowerCase())return C[c]}function q(a,b){for(var c=b.length,d=0;d<c;d++)if(b[d][0]==a)return!0;return!1}function p(b,c,d,e){b=b.config;b.useUI?c.children("span").removeClass(e[0]).removeClass(e[1]).addClass(e[2]):c.removeClass(e[0]).removeClass(e[1]);var f=[];c.each(function(){this.sortDisabled||(f[this.column]=a(this))});for(var c=d.length,g=0;g<c;g++)b.useUI?f[d[g][0]].children("span").removeClass(e[2]).addClass(e[d[g][1]]):
f[d[g][0]].addClass(e[d[g][1]])}function o(b){if(b.config.widthFixed){var c=a("<colgroup>");a("tr:first td",b.tBodies[0]).each(function(){c.append(a("<col>").css("width",a(this).width()))});a(b).prepend(c)}}function r(a,b,d){if(a.config.debug)var e=new Date;for(var f="var sortWrapper = function(a,b) {",g=b.length,h=0;h<g;h++){var i=b[h][0],k=b[h][1],i=a.config.parsers[i].type=="text"?k==0?t("text","asc",i):t("text","desc",i):k==0?t("numeric","asc",i):t("numeric","desc",i),j="e"+h;f+="var "+j+" = "+
i;f+="if("+j+") { return "+j+"; } ";f+="else { "}h=d.normalized[0].length-1;f+="return a["+h+"]-b["+h+"];";for(h=0;h<g;h++)f+="}; ";f+="return 0; ";f+="}; ";a.config.debug&&c("Evaling expression:"+f,new Date);eval(f);d.normalized.sort(sortWrapper);a.config.debug&&c("Sorting on "+b.toString()+" and dir "+k+" time:",e);return d}function t(a,b,c){var d="a["+c+"]",c="b["+c+"]";if(a=="text"&&b=="asc")return"("+d+" == "+c+" ? 0 : ("+d+" === null ? Number.POSITIVE_INFINITY : ("+c+" === null ? Number.NEGATIVE_INFINITY : ("+
d+" < "+c+") ? -1 : 1 )));";else if(a=="text"&&b=="desc")return"("+d+" == "+c+" ? 0 : ("+d+" === null ? Number.POSITIVE_INFINITY : ("+c+" === null ? Number.NEGATIVE_INFINITY : ("+c+" < "+d+") ? -1 : 1 )));";else if(a=="numeric"&&b=="asc")return"("+d+" === null && "+c+" === null) ? 0 :("+d+" === null ? Number.POSITIVE_INFINITY : ("+c+" === null ? Number.NEGATIVE_INFINITY : "+d+" - "+c+"));";else if(a=="numeric"&&b=="desc")return"("+d+" === null && "+c+" === null) ? 0 :("+d+" === null ? Number.POSITIVE_INFINITY : ("+
c+" === null ? Number.NEGATIVE_INFINITY : "+c+" - "+d+"));"}var v=[],C=[];this.defaults={cssHeader:"header",cssAsc:"headerSortUp",cssDesc:"headerSortDown",cssChildRow:"expand-child",cssUI:{widget:"ui-widget ui-widget-content ui-corner-all",header:"ui-widget-header ui-corner-all",hover:"ui-state-hover",icon:"ui-icon",iconBoth:"ui-icon-arrowthick-2-n-s",iconDesc:"ui-icon-arrowthick-1-n",iconAsc:"ui-icon-arrowthick-1-s"},sortInitialOrder:"asc",sortMultiSortKey:"shiftKey",sortForce:null,sortAppend:null,
textExtraction:"simple",parsers:{},widgets:[],widgetZebra:{css:["even","odd"]},headers:{},widthFixed:!1,cancelSelection:!0,sortList:[],headerList:[],locale:"us",format:{us:{decimal:".",date:"/"},en:{decimal:".",date:"/"},eu:{decimal:",",date:"."},de:{decimal:",",date:"."}},onRenderHeader:null,selectorHeaders:"thead th",useUI:!1,debug:!1};this.benchmark=c;this.construct=function(b){return this.each(function(){if(this.tHead&&this.tBodies){var c,e,t,s;this.config={};s=a.extend(this.config,a.tablesorter.defaults,
b);c=a(this);a.data(this,"tablesorter",s);e=k(this);this.config.parsers=d(this,e);t=i(this);var v=l(this,e);o(this);e.click(function(b){var d=c[0].tBodies[0]&&c[0].tBodies[0].rows.length||0;if(!this.sortDisabled&&d>0){c.trigger("sortStart");a(this);d=this.column;this.order=this.count++%2;if(b[s.sortMultiSortKey])if(q(d,s.sortList))for(b=0;b<s.sortList.length;b++){var f=s.sortList[b],g=s.headerList[f[0]];if(f[0]==d)g.count=f[1],g.count++,f[1]=g.count%2}else s.sortList.push([d,this.order]);else{s.sortList=
[];if(s.sortForce!=null){f=s.sortForce;for(b=0;b<f.length;b++)f[b][0]!=d&&s.sortList.push(f[b])}s.sortList.push([d,this.order])}setTimeout(function(){p(c[0],e,s.sortList,v);h(c[0],r(c[0],s.sortList,t))},1);return!1}}).mousedown(function(){if(s.cancelSelection)return this.onselectstart=function(){return!1},!1});c.bind("update",function(){var a=this;setTimeout(function(){a.config.parsers=d(a,e);t=i(a)},1)}).bind("updateCell",function(a,b){var c=this.config,d=[b.parentNode.rowIndex-1,b.cellIndex];t.normalized[d[0]][d[1]]=
c.parsers[d[1]].format(g(c,b),b)}).bind("sorton",function(b,c){a(this).trigger("sortStart");s.sortList=c;for(var d=s.sortList,f=this.config,g=d.length,i=0;i<g;i++){var k=d[i],j=f.headerList[k[0]];j.count=k[1];j.count++}p(this,e,d,v);h(this,r(this,d,t))}).bind("appendCache",function(){h(this,t)}).bind("applyWidgetId",function(a,b){n(b).format(this)}).bind("applyWidgets",function(){j(this)});if(a.metadata&&a(this).metadata()&&a(this).metadata().sortlist)s.sortList=a(this).metadata().sortlist;s.sortList.length>
0?c.trigger("sorton",[s.sortList]):j(this)}})};this.addParser=function(a){for(var b=v.length,c=!0,d=0;d<b;d++)v[d].id.toLowerCase()==a.id.toLowerCase()&&(c=!1);c&&v.push(a)};this.addWidget=function(a){C.push(a)};this.formatDate=function(a,b){b.locale!="us"&&(a=a.replace(RegExp("[\\-\\"+b.format[b.locale].date+"]","g"),b.format.us.date));return a};this.formatDecimal=function(a,b){b.locale!="us"&&(a=a.replace(b.format[b.locale].decimal,b.format.us.decimal));return a};this.formatFloat=function(a){a=
parseFloat(a);return isNaN(a)?0:a};this.formatInt=function(a){a=parseInt(a);return isNaN(a)?0:a};this.isDigit=function(b,c){var d="\\"+c.format[c.locale].decimal;return RegExp("/(^[+]?0("+d+"0+)?$)|(^([-+]?[0-9]*)$)|(^([-+]?((0?[0-9]*)"+d+"(0*[0-9]*)))$)|(^[-+]?[0-9]*"+d+"0+$)/").test(a.trim(b))};this.clearTableBody=function(b){a.browser.msie?function(){for(;this.firstChild;)this.removeChild(this.firstChild)}.apply(b.tBodies[0]):b.tBodies[0].innerHTML=""}}});a.fn.extend({tablesorter:a.tablesorter.construct});
var d=a.tablesorter;d.addParser({id:"text",is:function(){return!0},format:function(c){return a.trim(c.toLowerCase())},type:"text"});d.addParser({id:"digit",is:function(c,b){return a.tablesorter.isDigit(c,b.config)},format:function(c,b){c=a.tablesorter.formatDecimal(c,b.config);return a.tablesorter.formatFloat(c)},type:"numeric"});d.addParser({id:"currency",is:function(a){return/^[\uff82\uff63$\u7ac4\uff6c?.,]/.test(a)},format:function(c,b){c=a.tablesorter.formatDecimal(c,b.config);return a.tablesorter.formatFloat(c.replace(RegExp(/[\uff82\uff63$\u7ac4\uff6c]/g),
""))},type:"numeric"});d.addParser({id:"ipAddress",is:function(a){return/^\d{2,3}[\.]\d{1,3}[\.]\d{1,3}[\.]\d{1,3}$/.test(a)},format:function(c){for(var c=c.split("."),b="",d=c.length,e=0;e<d;e++){var i=c[e];b+=i.length==2?"0"+i:i}return a.tablesorter.formatFloat(b)},type:"numeric"});d.addParser({id:"url",is:function(a){return/^(https?|ftp|file):\/\/$/.test(a)},format:function(a){return jQuery.trim(a.replace(RegExp(/(https?|ftp|file):\/\//),""))},type:"text"});d.addParser({id:"isoDate",is:function(a){return/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(a)},
format:function(c){return a.tablesorter.formatFloat(c!=""?(new Date(c.replace(RegExp(/-/g),"/"))).getTime():"0")},type:"numeric"});d.addParser({id:"percent",is:function(c){return/\%$/.test(a.trim(c))},format:function(c,b){c=a.tablesorter.formatDecimal(c,b.config);return a.tablesorter.formatFloat(c.replace(RegExp(/%/g),""))},type:"numeric"});d.addParser({id:"usLongDate",is:function(a){return a.match(RegExp(/^[A-Za-z]{3,10}\.? [0-9]{1,2}, ([0-9]{4}|'?[0-9]{2}) (([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(AM|PM)))$/))},
format:function(c){return a.tablesorter.formatFloat((new Date(c)).getTime())},type:"numeric"});d.addParser({id:"mediumDate",is:function(a,b){var d=b.config,d="\\"+d.format[d.locale].date;return RegExp("\\d{1,2}[\\-"+d+"]\\d{1,2}[\\-"+d+"]\\d{4}").test(a)},format:function(c,b){var d=b.config,c=a.tablesorter.formatDate(c,d);if(d.locale=="us")c=c.replace(/(\d{1,2})[\/](\d{1,2})[\/](\d{4})/,"$3/$1/$2");else if(d.locale=="en"||d.locale=="de"||d.locale=="eu")c=c.replace(/(\d{1,2})[\/](\d{1,2})[\/](\d{4})/,
"$3/$2/$1");return a.tablesorter.formatFloat(c!=""?(new Date(c)).getTime():0)},type:"numeric"});d.addParser({id:"shortDate",is:function(a,b){var d=b.config,d="\\"+d.format[d.locale].date;return RegExp("\\d{1,2}[\\-"+d+"]\\d{1,2}[\\-"+d+"]\\d{2}").test(a)},format:function(c,b){var d=b.config,c=a.tablesorter.formatDate(c,d);if(d.locale=="us")c=c.replace(/(\d{1,2})[\/](\d{1,2})[\/](\d{2})/,"$1/$2/$3");else if(d.locale=="en"||d.locale=="de"||d.locale=="eu")c=c.replace(/(\d{1,2})[\/](\d{1,2})[\/](\d{2})/,
"$2/$1/$3");return a.tablesorter.formatFloat(c!=""?(new Date(c)).getTime():0)},type:"numeric"});d.addParser({id:"time",is:function(a){return/^(([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(am|pm)))$/.test(a)},format:function(c){return a.tablesorter.formatFloat((new Date("2000/01/01 "+c)).getTime())},type:"numeric"});d.addParser({id:"metadata",is:function(){return!1},format:function(c,b,d){c=b.config;c=!c.parserMetadataName?"sortValue":c.parserMetadataName;return a(d).metadata()[c]},type:"numeric"});
d.addWidget({id:"zebra",format:function(c){if(c.config.debug)var b=new Date;var d,e=-1,i;a("tr:visible",c.tBodies[0]).each(function(){d=a(this);d.hasClass(c.config.cssChildRow)||e++;i=e%2==0;d.removeClass(c.config.widgetZebra.css[i?0:1]).addClass(c.config.widgetZebra.css[i?1:0])});c.config.debug&&a.tablesorter.benchmark("Applying Zebra widget",b)}})})(jQuery);
(function(a){a.extend({tablesorterPager:new function(){var d=function(b){var c=b.config,b=a(b);if(!c.pagerPositionSet&&c.positionFixed)b.offset&&c.container.css({top:b.offset().top+b.height()+"px",position:"absolute"}),c.pagerPositionSet=!0},c=function(b,c){var g,h,k,l,j=b.config,n=c.length;g=j.page*j.size;var q=g+j.size;a(b).trigger("pagerChange",j);if(q>c.length)q=c.length;l=a(b.tBodies[0]);for(a.tablesorter.clearTableBody(b);g<q;g++){k=c[g];n=k.length;for(h=0;h<n;h++)l[0].appendChild(k[h])}d(b,
l);a(b).trigger("applyWidgets");j.page>=j.totalPages&&f(b);a(j.cssPageDisplay,j.container).val(j.page+1+j.seperator+j.totalPages);a(b).trigger("pagerComplete",j)},b=function(a){var b=a.config;if(b.page<0||b.page>b.totalPages-1)b.page=0;c(a,b.rowsCopy)},f=function(a){var c=a.config;c.page=c.totalPages-1;b(a)};this.appender=function(a,b){var d=a.config;d.rowsCopy=b;d.totalRows=b.length;d.totalPages=Math.ceil(d.totalRows/d.size);c(a,b)};this.defaults={size:10,offset:0,page:0,totalRows:0,totalPages:0,
container:null,cssNext:".next",cssPrev:".prev",cssFirst:".first",cssLast:".last",cssPageDisplay:".pagedisplay",cssPageSize:".pagesize",seperator:"/",positionFixed:!0,appender:this.appender};this.construct=function(c){return this.each(function(){var i=a.extend(this.config,a.tablesorterPager.defaults,c),g=this,h=i.container;a(this).trigger("appendCache");i.size=parseInt(a(".pagesize",h).val(),10);a(i.cssFirst,h).click(function(){g.config.page=0;b(g);return!1});a(i.cssNext,h).click(function(){var a=
g.config;a.page++;if(a.page>=a.totalPages-1)a.page=a.totalPages-1;b(g);return!1});a(i.cssPrev,h).click(function(){var a=g.config;a.page--;if(a.page<=0)a.page=0;b(g);return!1});a(i.cssLast,h).click(function(){f(g);return!1});a(i.cssPageSize,h).change(function(){var c=parseInt(a(this).val(),10),e=g.config;e.size=c;e.totalPages=Math.ceil(e.totalRows/e.size);e.pagerPositionSet=!1;b(g);d(g);return!1})})}}});a.fn.extend({tablesorterPager:a.tablesorterPager.construct})})(jQuery);
(function(a){function d(d){f=a(d.data.el);f.blur();i=d.clientY+document.documentElement.scrollTop;e=f.height()-i;f.animate({opacity:"0.25"},{duration:"fast"});a(document).mousemove(c).mouseup(b);return!1}function c(a){var c=a.clientY+document.documentElement.scrollTop,d=e+c;i>=c&&(d-=5);i=c;d=Math.max(g,d);f.height(d+"px");d<g&&b(a);return!1}function b(){a(document).unbind("mousemove",c).unbind("mouseup",b);f.css("opacity","");f.focus();e=f=null;i=0}var f,e,i=0,g=32;a.fn.TextAreaResizer=function(){return this.each(function(){f=
a(this).addClass("processed");e=null;a(this).wrap('<div class="resizable-textarea"><span></span></div>').parent().append(a('<div class="grippie"></div>').bind("mousedown",{el:this},d));var b=a("div.grippie",a(this).parent())[0];b.style.marginRight=b.offsetWidth-a(this)[0].offsetWidth+"px"})}})(jQuery);
(function(a){var d,c,b,f;function e(b){return a.data(b,"tooltip")}function i(b){e(this).delay?q=setTimeout(h,e(this).delay):h();o=!!e(this).track;a(document.body).bind("mousemove",k);k(b)}function g(){if(!a.tooltip.blocked&&!(this==j||!this.tooltipText&&!e(this).bodyHandler)){j=this;n=this.tooltipText;if(e(this).bodyHandler){c.hide();var g=e(this).bodyHandler.call(this);g.nodeType||g.jquery?b.empty().append(g):b.html(g);b.show()}else if(e(this).showBody){g=n.split(e(this).showBody);c.html(g.shift()).show();
b.empty();for(var h=0,k;k=g[h];h++)h>0&&b.append("<br/>"),b.append(k);b.hideWhenEmpty()}else c.html(n).show(),b.hide();e(this).showURL&&a(this).url()?f.html(a(this).url().replace("http://","")).show():f.hide();d.addClass(e(this).extraClass);e(this).fixPNG&&d.fixPNG();i.apply(this,arguments)}}function h(){q=null;(!p||!a.fn.bgiframe)&&e(j).fade?d.is(":animated")?d.stop().show().fadeTo(e(j).fade,j.tOpacity):d.is(":visible")?d.fadeTo(e(j).fade,j.tOpacity):d.fadeIn(e(j).fade):d.show();k()}function k(b){if(!a.tooltip.blocked&&
!(b&&b.target.tagName=="OPTION"))if(!o&&d.is(":visible")&&a(document.body).unbind("mousemove",k),j==null)a(document.body).unbind("mousemove",k);else{d.removeClass("viewport-right").removeClass("viewport-bottom");var c=d[0].offsetLeft,f=d[0].offsetTop;b&&(c=b.pageX+e(j).left,f=b.pageY+e(j).top,b="auto",e(j).positionLeft&&(b=a(window).width()-c,c="auto"),d.css({left:c,right:b,top:f}));var b=a(window).scrollLeft(),g=a(window).scrollTop(),h=a(window).width(),i=a(window).height(),l=d[0];b+h<l.offsetLeft+
l.offsetWidth&&(c-=l.offsetWidth+20+e(j).left,d.css({left:c+"px"}).addClass("viewport-right"));g+i<l.offsetTop+l.offsetHeight&&(f-=l.offsetHeight+20+e(j).top,d.css({top:f+"px"}).addClass("viewport-bottom"))}}function l(){function b(){d.removeClass(c.extraClass).hide().css("opacity","")}if(!a.tooltip.blocked){q&&clearTimeout(q);j=null;var c=e(this);(!p||!a.fn.bgiframe)&&c.fade?d.is(":animated")?d.stop().fadeTo(c.fade,0,b):d.stop().fadeOut(c.fade,b):b();e(this).fixPNG&&d.unfixPNG()}}d=void 0;c=void 0;
b=void 0;f=void 0;var j,n,q,p=a.browser.msie&&/MSIE\s(5\.5|6\.)/.test(navigator.userAgent),o=!1;a.tooltip={blocked:!1,defaults:{delay:200,fade:!1,showURL:!0,extraClass:"",top:15,left:15,id:"tooltip"},block:function(){a.tooltip.blocked=!a.tooltip.blocked}};a.fn.extend({tooltip:function(e){e=a.extend({},a.tooltip.defaults,e);d||(d=a('<div id="'+e.id+'"><h3></h3><div class="body"></div><div class="url"></div></div>').appendTo(document.body).hide(),a.fn.bgiframe&&d.bgiframe(),c=a("h3",d),b=a("div.body",
d),f=a("div.url",d));return this.each(function(){a.data(this,"tooltip",e);this.tOpacity=d.css("opacity");this.tooltipText=this.title;a(this).removeAttr("title");this.alt=""}).mouseover(g).mouseout(l).click(l)},fixPNG:p?function(){return this.each(function(){var b=a(this).css("backgroundImage");if(b.match(/^url\(["']?(.*\.png)["']?\)$/i))b=RegExp.$1,a(this).css({backgroundImage:"none",filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop, src='"+b+"')"}).each(function(){var b=
a(this).css("position");b!="absolute"&&b!="relative"&&a(this).css("position","relative")})})}:function(){return this},unfixPNG:p?function(){return this.each(function(){a(this).css({filter:"",backgroundImage:""})})}:function(){return this},hideWhenEmpty:function(){return this.each(function(){a(this)[a(this).html()?"show":"hide"]()})},url:function(){return this.attr("href")||this.attr("src")}})})(jQuery);
var _document=document,_window=window,_ua=navigator.userAgent,ie=function(){for(var a=3,d=_document.createElement("div");d.innerHTML="<\!--[if gt IE "+ ++a+"]><i></i><![endif]--\>",d.getElementsByTagName("i")[0];);return a>4?a:void 0}();_window.log=function(){log.history=log.history||[];log.history.push(arguments);if(this.console){arguments.callee=arguments.callee.caller;var a=[].slice.call(arguments);typeof console.log==="object"?log.apply.call(console.log,console,a):console.log.apply(console,a)}};
(function(a){function d(){}for(var c="assert,clear,count,debug,dir,dirxml,error,exception,firebug,group,groupCollapsed,groupEnd,info,log,memoryProfile,memoryProfileEnd,profile,profileEnd,table,time,timeEnd,timeStamp,trace,warn".split(","),b;b=c.pop();)a[b]=a[b]||d})(function(){try{return _window.console}catch(a){return _window.console={}}}());if(self.location!==top.location)top.location=self.location;
var pkwkInit=pkwkBeforeInit=pkwkUnload=pkwkBeforeUnload=[],pukiwiki={meta:{"@prefix":"<http://purl.org/net/ns/doas#>","@about":"<skin.js>",a:":JavaScript",title:"Pukiwiki skin script for jQuery",created:"2008-11-25",release:{revision:"2.2.24",created:"2011-09-12"},author:{name:"Logue",homepage:"<http://logue.be/>"},license:"<http://www.gnu.org/licenses/gpl-2.0.html>"},skin:{},isPage:typeof PAGE!=="undefined"&&!$.query.get("cmd")&&!PAGE.match(/^:|FormatRules|RecentChanges|RecentDeleted|InterWikiName|AutoAliasName|MenuBar|SideBar|Navigation|Glossary/i)?
!0:!1,href:$("link[rel=canonical]")[0].href,init:function(){var a=$("meta[name=generator]")[0].content;a.match(/[PukiPlus|Advance]/)?(DEBUG&&console.info("PukiWiki Advance Debug mode. \nUsing jQuery: ",$.fn.jquery," / jQuery UI: ",$.ui.version),this.image_dir=IMAGE_URI+"ajax/"):a.match(/plus/)?(DEBUG&&console.info("PukiWiki Plus! Debug mode. \nUsing jQuery: ",$.fn.jquery," / jQuery UI: ",$.ui.version),this.image_dir=SKIN_DIR+"theme/"+THEME_NAME+"/"):(DEBUG&&console.info("PukiWiki Standard Debug mode. \nUsing jQuery: ",
$.fn.jquery," / jQuery UI: ",$.ui.version),this.image_dir=SKIN_DIR+this.name+"/image/");a=(_document.location.protocol==="https:"?"https:":"http:")+"//";this.body=this.skin.body?this.skin.body:"#body";$(":input, button").attr("disabled","disabled");$("button, input[type=submit], input[type=reset], input[type=button]").each(function(){var a=$(this),b=a.data();a.button({text:b.text?b.text:!0,label:b.label?b.label:this.value,icons:{primary:b.iconsPrimary,secondary:b.iconsSecondary}})});if(ie<6){try{_document.execCommand("BackgroundImageCache",
!1,!0)}catch(d){}$.ajax({type:"GET",global:!1,url:JS_URI+"iepngfix/iepngfix_tilebg.js",dataType:"script"});$("img[src$=png], .pkwk-icon, .pkwk-symbol, .pkwk-icon_linktext").css({behavior:"url("+JS_URI+"iepngfix/iepngfix.htc)"})}ie<=7&&Modernizr.load({load:JS_URI+"json2.js"});ie<=8&&Modernizr.load({load:JS_URI+"excanvas.compiled.js"});$(this.body+(ie<6?"img[src!$=.png]":"img")).lazyload({placeholder:this.image_dir+"grey.gif",effect:"fadeIn"});this.enableHTML5();$.i18n(LANG);this.sh();this.blockUI();
this.suckerfish(".sf-menu");this.linkattrs();this.preptoc(this.body);this.setAnchor();$("textarea[name='msg']").length!==0&&$.query.get("cmd")!=="guiedit"&&this.set_editform();$("input[name=msg]").length!==0&&($(".comment_form").append('<div class="assistant ui-corner-all ui-widget-header ui-helper-clearfix"></div>'),this.assistant());$("textarea[name='msg']").length!==0&&$.query.get("cmd")!=="guiedit"&&($("textarea[name='msg']").addClass("resizable"),$("textarea.resizable:not(.processed)").TextAreaResizer());
$("textarea").tabby();this.tablesorter.counter=0;this.tablesorter();$(".attach_form").length!==0&&this.set_uploader();$("#banner_box img").fadeTo(200,0.3);$("#banner_box img").hover(function(){$(this).fadeTo(200,1)},function(){$(this).fadeTo(200,0.3)});this.glossaly();this.bad_behavior();location.hash&&this.anchor_scroll(location.hash,!0);$(".ui-state-default").hover(function(){$(this).addClass("ui-state-hover")},function(){$(this).removeClass("ui-state-hover")}).mousedown(function(){$(this).addClass("ui-state-active")}).mouseout(function(){$(this).removeClass("ui-state-active")});
$(":input, button").removeAttr("disabled");$(".ui-button").button("option","disabled",!1);this.isPage&&(typeof FACEBOOK_APPID!=="undefined"&&($("body").append('<div id="fb-root"></div>'),$.getScript(a+"connect.facebook.net/"+LANG+"/all.js",function(){FB.init({appId:FACEBOOK_APPID,status:!0,cookie:!0,xfbml:!0});FB.Event.subscribe("auth.login",function(){_window.location.reload()})})),$(".g-plusone").length!==0&&$.getScript("https://apis.google.com/js/plusone.js"),$(".twitter-share-button").length!==
0&&$.getScript("http://platform.twitter.com/widgets.js"));$(".link_symbol").each(function(){var a=$(this);a.click(function(){_window.open(a.data().uri);return!1})})},unload:function(a){a?a+=" ":a="";$(a+"#msg").val()!==$(a+"#original").val()&&confirm($.i18n("pukiwiki","unload"))&&(this.appendChild(_document.createElement("input")).setAttribute("name","write"),$('<input name="write" />').appendTo(this),$(a+"form").submit(),alert($.i18n("pukiwiki","submit")));return!1},enableHTML5:function(a){a?a+=
" ":a="";Modernizr.input.placeholder||$(a+"[placeholder]").each(function(){var a=$(this),c=a.attr("placeholder"),b=a.css("color");a.focus(function(){a.val()===c&&a.val("").css("color",b)}).blur(function(){a.val()===""?a.val(c).css("color","Gray"):a.val()===c&&a.css("color","Gray")}).blur().parents("form").submit(function(){a.val()===c&&a.val("")})});$(a+"a[rel*=noreferer]").click(function(){var a=$(this).attr("href");if(ie){var c;c=$(this).attr("target")==="_blank"?_window.open("","","location=yes, menubar=yes, toolbar=yes, status=yes, resizable=yes, scrollbars=yes,").document:
_document;c.open();c.write('<meta http-equiv="refresh" content="0;url='+a+'" />');c.close();return!1}else a.match(/data:text\/html;charset=utf-8/)!==!0&&(a=['<html><head><script type="text/javascript"><\!--','document.write(\'<meta http-equiv="refresh" content="0;url='+a+"\" />');","// --\><\/script></head><body></body></html>"],$(this).attr("href","data:text/html;charset=utf-8,"+encodeURIComponent(a.join("\n"))))})},register:{init:function(a){pkwkInit.push(a)},before_init:function(a){pkwkBeforeInit.push(a)},
unload:function(a){pkwkUnload.push(a)},before_unload:function(a){pkwkBeforeUnload.push(a)}},suckerfish:function(a){var d={autoArrows:!1,dropShadows:!1};if(typeof pukiwiki.skin.suckerfish==="object")d=this.skin.suckerfish;$(a).superfish(d)},setAnchor:function(a){var d=this;a?a+=" ":a="";$(a+" .tabs").tabs();var c={opacity:"0.8",slideshowStart:'<span class="ui-icon ui-icon-play" style="margin:4px;"></span>',slideshowStop:'<span class="ui-icon ui-icon-stop" style="margin:4px;"></span>',previous:'<span class="ui-icon ui-icon-circle-arrow-e" style="margin:4px;"></span>',
next:'<span class="ui-icon ui-icon-circle-arrow-w" style="margin:4px;"></span>',close:'<span class="ui-icon ui-icon-circle-close" style="margin:4px;" title="'+$.i18n("dialog","close")+'"></span>',onOpen:function(){$(a+"#cboxOverlay").addClass("ui-widget-overlay");$(a+"#colorbox").addClass("ui-widget-content ui-corner-all");$(a+"#cboxPrevious").button();$(a+"#cboxNext").button();$(a+"#cboxClose").button()}};$(a+"a[href]").each(function(){var b=$(this),f=$(this).attr("href");if(f.match(/\.(jpg|jpeg|gif|png|txt)$/i))b.colorbox(c);
else if(f.match(/\.(mp3|ogg|mp4)$/i))d.music_player(this);else if(f.match(/cmd|plugin/i)){for(var e={},i=f.slice(f.indexOf("?")+1).split("&"),g=0;g<i.length;g++){var h=i[g].split("=");try{e[h[0]]=decodeURIComponent(h[1]).replace(/\+/g," ").replace(/%2F/g,"/")}catch(k){}}if(e.plugin)e.cmd=e.plugin,e.plugin=void 0;if(e.cmd)if(typeof e.file!=="undefined"&&e.pcmd=="open"||typeof e.openfile!=="undefined")e.file?(i=e.file,b.attr("href",SCRIPT+"?cmd="+e.cmd+"&pcmd="+e.pcmd+"&refer="+e.refer+"&age="+e.age+
"&file="+i)):(i=e.openfile,b.attr("href",SCRIPT+"?cmd="+e.cmd+"&refer="+e.refer+"&openfile="+i)),i.match(/\.(jpg|jpeg|gif|png|txt)$/i)?b.colorbox(c):i.match(/\.(mp3|ogg|mp4)$/i)&&d.music_player(this);else if(e.cmd=="qrcode")b.attr("href",f+"&type=.gif"),b.colorbox(c);else if(e.cmd.match(/attach|search|backup|source|newpage|template|freeze|rename|logview|tb|diff|referer|linklist|skeylist/i)&&e.pcmd!=="list"||e.help==="true")e.help=="true"&&(e={cmd:"read",page:"FormatRule"}),b.click(function(){d.ajax_dialog(e,
a,function(){if(e.cmd=="attach"&&e.pcmd.match(/upload|info/i)||e.cmd.match(/attachref|read|backup/i)&&e.age!=="")d.bad_behavior(a+"div.window"),d.set_uploader(a+"div.window"),d.setAnchor(a+"div.window")});return!1})}f.match("#")&&$(this).click(function(){d.anchor_scroll(f,!0)})})},brushes:[],sh:function(a){var d=this;a?a+=" ":a="";a=$(a+"pre.sh");if(a.length!==0){var c=[],b=[];a.each(function(){var a=$(this);c.push(a);a=a.data().brush;$.inArray(a,d.brushes)===-1&&b.push(a)});console.log(b);a={autoLoad:!0,
baseUrl:JS_URI+"syntaxhighlighter/",brushes:b,ready:function(){for(var a=0;a<=c.length-1;a++){var b=c[a].data();c[a].beautifyCode(b.brush)}},config:{useScriptTags:!1,debug:DEBUG,strings:{expandSource:$.i18n("sh","expandSource"),viewSource:$.i18n("sh","viewSource"),copyToClipboard:$.i18n("sh","copyToClipboard"),copyToClipboardConfirmation:$.i18n("sh","copyToClipboardConfirmation"),print:$.i18n("sh","print"),noBrush:$.i18n("sh","noBrush"),brushNotHtmlScript:$.i18n("sh","brushNotHtmlScript")}}};$.beautyOfCode.init(a)}},
ajax_dialog:function(a,d,c,b){var f=this,e={modal:!0,resizable:!0,show:"fade",hide:"fade",width:"520px",dialogClass:"ajax_dialog",bgiframe:ie>=6?!0:!1,open:function(){$(d+":input").attr("disabled","disabled");f.tablesorter(d+".window");f.glossaly(d+".window");f.sh(d+".window");typeof c==="function"&&c();$(d+"button, "+d+"input[type=submit], "+d+"input[type=reset], "+d+"input[type=button]").button();$(d+"form").disableOnSubmit();var a=this;$(d+".ui-widget-overlay").click(function(){$(a).dialog("close")});
$(d+":input").removeAttr("disabled");$(d+".ui-button").button("option","disabled",!1);return!1},close:function(){$(this).remove()}};if(a.pcmd==="upload")e.width="90%";if(a.cmd.match(/logview|source|diff|edit|backup|read|referer/i)||a.help==="true")e.width="90%",e.height=$(_window).height()*0.8|0;$.ajax({dataType:"json",url:SCRIPT,data:a,type:"GET",cache:!0,timeout:3E4,success:function(a){var c=$('<div class="window"></div>');typeof b==="function"&&(a=b(a));e.title=a.title;a.body=a.body.replace(/<script[^>]*>[^<]+/ig,
"");c.html(a.body).dialog(e)},error:function(a,b){var c=$('<div class="window"></div>'),d=['<div class="ui-state-error ui-corner-all" style="padding: 0 .7em;">','<p id="ajax_error"><span class="ui-icon ui-icon-alert" style="float: left; margin-right: .3em;"></span>'+b+"</p>","</div>"].join("\n");e.title=$.i18n("dialog","error");c.html(d).dialog(e);try{$("p#ajax_error").after(["<ul>","<li>readyState:"+a.readyState+"</li>","<li>status:"+a.status+"</li>","<li>statusText:"+a.statusText+"</li>","</ul>"].join("\n"))}catch(f){}}})},
blockUI:function(){$('<div id="loadingScreen" title="Loading..."></div>').appendTo("body");this.loadingScreen=$("#loadingScreen");this.loadingScreen.dialog({autoOpen:!1,closeOnEscape:!1,draggable:!1,width:150,height:150,modal:!0,show:"scale",hide:"explode",resizable:!1,dialogClass:"blockUI",open:function(){$("body").css("cursor","wait")},close:function(){$("body").css("cursor","auto")}});var a=this;$(_document).ajaxSend(function(){a.loadingScreen.dialog("option","title",$.i18n("dialog","loading"));
a.loadingScreen.dialog("open")}).ajaxStart(function(){a.loadingScreen.dialog("option","title",$.i18n("dialog","start"))}).ajaxSuccess(function(){a.loadingScreen.dialog("option","title",$.i18n("dialog","success"))}).ajaxComplete(function(){a.loadingScreen.dialog("option","title",$.i18n("dialog","complete"))}).ajaxError(function(){a.loadingScreen.dialog("option","title",$.i18n("dialog","error"))}).ajaxStop(function(){a.loadingScreen.dialog("option","title",$.i18n("dialog","ready"));a.loadingScreen.dialog("close")})},
iframeWin:function(a){if(!a.width)a.width=800;if(!a.height)a.height=800;$('<iframe id="externalSite" class="externalSite"  frameborder="0" src="'+a.url+'" />').dialog({title:a.title,width:a.width,height:a.height,autoOpen:!0,modal:!0,resizable:!0,autoResize:!0}).width(a.width-20).height(a.height-20)},anchor_scroll:function(a,d){if(a.split("#")[1]==="")$.scrollTo("#header");else if(a!==""){var c=a.split("#")[1];c.match(/tab/)||$.scrollTo("#"+c,{duration:800,axis:"y",queue:!0,onAfter:function(){d===
!0&&$(c).effect("highlight",{},2E3)}})}},music_player:function(a){$(a).each(function(){var a=$(this).attr("href"),c={modal:!0,resizable:!1,show:"fade",hide:"fade",title:"Music Player",dialogClass:"music_player",width:"680px",bgiframe:$.browser.msie&&$.browser.version>6?!0:!1,open:function(){function b(){$("#jplayer_play").fadeOut(function(){$("#jplayer_pause").fadeIn()})}function c(){$("#jplayer_pause").fadeOut(function(){$("#jplayer_play").fadeIn()})}var i=0,g=this;$("#jplayer").jPlayer({swfPath:SKIN_DIR,
nativeSupport:!0,customCssIds:!0,ready:function(){this.element.jPlayer("setFile",a);c();$(g).dialog("option","title",$("#jplayer").jPlayer("getData","diag").src);this.element.jPlayer("play")}}).jPlayer("onProgressChange",function(a,b,c,d,e){a|=0;c|=0;i=a;$("#jplayer_loaderBar").progressbar("option","value",a);$("#jplayer_sliderPlayback").slider("option","value",c);$("#jplayer_PlayTime").text($.jPlayer.convertTime(d));$("#jplayer_TotalTime").text($.jPlayer.convertTime(e))}).jPlayer("onSoundComplete",
function(){this.element.jPlayer("play");b()});$("#jplayer_play").click(function(){$("#jplayer").jPlayer("play");b();return!1});$("#jplayer_pause").click(function(){$("#jplayer").jPlayer("pause");c();return!1});$("#jplayer_stop").click(function(){$("#jplayer").jPlayer("stop");c();return!1});$("#jplayer_volume-min").click(function(){$("#jplayer").jPlayer("volume",0);$("#jplayer_sliderVolume").slider("option","value",0);return!1});$("#jplayer_volume-max").click(function(){$("#jplayer").jPlayer("volume",
100);$("#jplayer_sliderVolume").slider("option","value",100);return!1});$("#jplayer_sliderPlayback").slider({max:100,range:"min",animate:!0,slide:function(a,b){$("#jplayer").jPlayer("playHead",b.value*(100/i))}});var h;h=$.cookie("volume")?$.cookie("volume"):50;$("#jplayer_sliderVolume").slider({value:h,max:100,range:"min",animate:!0,slide:function(a,b){$("#jplayer").jPlayer("volume",b.value);$.cookie("volume",b.value,{expires:30,path:"/"})}});$("#jplayer_loaderBar").progressbar();$("ul#jplayer_icons li").hover(function(){$(this).addClass("ui-state-hover")},
function(){$(this).removeClass("ui-state-hover")})},close:function(){$(this).remove()}},b=['<div id="jplayer"></div>\n<div id="jplayer_container">\n<ul id="jplayer_icons" class="ui-widget pkwk_widget">','<li id="jplayer_play" class="ui-button ui-state-default ui-corner-all" title="'+$.i18n("player","play")+'"><span class="ui-icon ui-icon-play"></span></li>','<li id="jplayer_pause" class="ui-button ui-state-default ui-corner-all" title="'+$.i18n("player","pause")+'"><span class="ui-icon ui-icon-pause"></span></li>',
'<li id="jplayer_stop" class="ui-button ui-state-default ui-corner-all" title="'+$.i18n("player","stop")+'"><span class="ui-icon ui-icon-stop"></span></li>','<li id="jplayer_volume-min" class="ui-button ui-state-default ui-corner-all" title="'+$.i18n("player","volume_min")+'"><span class="ui-icon ui-icon-volume-off"></span></li>','<li id="jplayer_volume-max" class="ui-button ui-state-default ui-corner-all" title="'+$.i18n("player","volume_max")+'"><span class="ui-icon ui-icon-volume-on"></span></li>',
"</ul>",'<div id="jplayer_sliderVolume" title="'+$.i18n("player","volume")+'"></div>','<div id="jplayer_bars_holder" title="'+$.i18n("player","seek")+'">','<div id="jplayer_sliderPlayback"></div>\n<div id="jplayer_loaderBar"></div>\n</div>\n</div>\n<p><span class="ui-icon ui-icon-clock" style="display:block;float:left;">Cast:</span><span id="jplayer_PlayTime">00:00</span>/<span id="jplayer_TotalTime">??:??</span></p>'].join("\n");$(this).click(function(){$('<div id="music_player"></div>').html(b).dialog(c);
return!1})})},tablesorter:function(a){var d=this;a?a+=" ":a="";$(a+".style_table").addClass("tablesorter");var c={sorter:{useUI:!0,cssUI:{widget:"",header:"ui-widget-header",hover:"ui-state-hover",icon:"ui-icon ui-icon-triangle-2-n-s",iconBoth:"ui-icon-triangle-2-n-s",iconDesc:"ui-icon-triangle-1-n",iconAsc:"ui-icon-triangle-1-s"}},pager:{minimum_lines:10,size:[10,25,50,75,100],location_before:!0,positionFixed:!1}};if(typeof this.skin.tablesorter==="object")c=this.skin.tablesorter;$(a+".tablesorter").each(function(){var a=
this,f=$(this).clone(),e=$(this).data();if($("tr",this).length>c.pager.minimum_lines&&$("thead",this).length!==0){var i="table_pager_"+d.tablesorter.counter,g=['<div class="table_pager_widget ui-helper-clearfix" id="'+i+'">','<ul class="ui-widget pkwk_widget">','<li class="first ui-button ui-state-default ui-corner-all" title="'+$.i18n("dialog","first")+'"><span class="ui-icon ui-icon-arrowthickstop-1-w"></span></li>','<li class="prev ui-button ui-state-default ui-corner-all" title="'+$.i18n("dialog",
"prev")+'"><span class="ui-icon ui-icon-arrowthick-1-w"></span></li>','<li><input class="pagedisplay" type="text" disabled="disabled" /></li>','<li class="next ui-button ui-state-default ui-corner-all" title="'+$.i18n("dialog","next")+'"><span class="ui-icon ui-icon-arrowthick-1-e"></span></li>','<li class="last ui-button ui-state-default ui-corner-all" title="'+$.i18n("dialog","last")+'"><span class="ui-icon ui-icon-arrowthickstop-1-e"></span></li>','<li><select class="pagesize"></select></li>',
'<li class="reload ui-button ui-state-default ui-corner-all" title="'+$.i18n("dialog","reload")+'"><span class="ui-icon ui-icon-refresh"></span></li>',"</ul>\n</div>"].join("\n");c.sorter.headers=e.headers;c.sorter.sortList=e.sortList;c.sorter.parsers=e.parsers;$(this).tablesorter(c.sorter);c.pager.location_before===!0?$(this).before(g):$(this).after(g);for(e=0;e<c.pager.size.length;)$("#"+i+" .pagesize").append($("<option>").attr({value:c.pager.size[e]}).text(c.pager.size[e])),e++;$("#"+i+" .reload").click(function(){f.clone().insertAfter(a);
$(a).remove();$("#"+i).remove();$(a).tablesorter(c.sorter);c.pager.location_before===!0?$(a).before(g):$(a).after(g);$(a).tablesorterPager(c.pager);for(var e=0;e<c.pager.size.length;)$("#"+i+" .pagesize").append($("<option>").attr({value:c.pager.size[e]}).text(c.pager.size[e])),e++;d.glossaly(a)});$(this).tablesorterPager({container:$("#"+i),positionFixed:!1,onthrough:function(a){d.glossaly(a)}});$("#"+i+".pkwk_widget .ui-state-default").hover(function(){$(this).addClass("ui-state-hover")},function(){$(this).removeClass("ui-state-hover")}).mousedown(function(){$(this).addClass("ui-state-active")}).mouseout(function(){$(this).removeClass("ui-state-active")});
$("#"+i).show("clip");d.tablesorter.counter++}else $(this).tablesorter(c.sorter)})},glossaly:function(a){var d=this;a?a+=" ":a="";$(a+"*[title]").tooltip({bodyHandler:function(){return $(this).context.tooltipText},track:!0,delay:0,showURL:!1}).hover(function(){$("body").css("cursor","help")},function(){$("body").css("cursor","auto")});this.plus===!0&&($(a+".tooltip").hover(function(){$("body").css("cursor","wait");d.getGlossary(this,{cmd:"tooltip",q:$(this).text(),cache:!0})},function(){$("body").css("cursor",
"auto")}),$.query.get("cmd")==="search"&&$(a+".linktip").hover(function(){$("body").css("cursor","wait");d.getGlossary(this,{cmd:"preview",page:$(this).text(),word:$.query.get("word"),cache:!0})},function(){$("body").css("cursor","auto")}));$.support.leadingWhitespace!==!0&&$(a+".tooltip").css({behavior:"url("+JS_URI+"ie-css3.htc)"})},getGlossary:function(a,d){var c;$.ajax({url:SCRIPT,type:"GET",cache:!0,timeout:2E3,dataType:"html",global:!1,data:d,async:!1,beforeSend:function(){$("body").css("cursor",
"wait")},success:function(a){c=a},complete:function(){$("body").css("cursor","help");$(a).tooltip({bodyHandler:function(){return c.replace(/<script[^>]*>[^<]+/ig,"")},track:!0,delay:0,showURL:!1})}})},set_editform:function(a){a?a+=" ":a="";if(Modernizr.localstorage){var d=$(a+".edit_form textarea[name=msg]").val(),c=_window.localStorage.getItem(PAGE);if(c=JSON.parse(c))d=MODIFIED>c.modified&&c.msg!==d?$.i18n("pukiwiki","info_restore1"):$.i18n("pukiwiki","info_restore2"),confirm(d)&&$(a+".edit_form textarea[name=msg]").val(c.msg)}this.ajax_apx=
!1;this.ajax_tim=this.ajax_count=0;var b=this;$(a+".edit_form input[name=write]").after('<input type="button" name="add_ajax" value="'+$(".edit_form input[name=preview]").attr("value")+'" accesskey="p" />');$(a+".edit_form input[name=preview]").remove();$(a+".edit_form").prepend('<div class="assistant ui-corner-top ui-widget-header ui-helper-clearfix"></div>');$(a+".edit_form input[name=add_ajax]").button({icons:{primary:"ui-icon-gear"}}).click(function(){$("textarea").attr("disabled","disabled");
var c=$(".edit_form textarea[name='msg']").height();b.ajax_apx?(b.ajax_apx=!1,$(a+".edit_form #realview_outer").animate({height:"toggle"},function(){$(a+".edit_form textarea[name='msg']").animate({height:c*2});$(a+".edit_form #realview").remove();$(a+".edit_form #realview_outer").remove();$(a+".edit_form #previous").remove();$(a+".edit_form textarea").removeAttr("disabled");$(a+".edit_form #indicator").hide().fadeOut()})):(b.ajax_apx||($(a+".edit_form textarea[name='msg']").before('<div id="realview_outer">\n<div id="realview"></div>\n</div>').after('<textarea id="previous" style="display:none;"></textarea>'),
$(a+".edit_form #indicator").show().fadeIn(),$(a+".edit_form #indicator").html('<img src="'+b.image_dir+'spinner.gif" alt="'+$.i18n("dialog","loading")+'" />'),$(a+".edit_form #previous").val($("textarea#msg").val()),$(a+".edit_form #realview_outer").css("height",c/2),$(a+".edit_form #indicator").html("")),b.ajax_apx=!0,$(a+".edit_form textarea[name='msg']").animate({height:$(this).height()+$(".edit_form #realview_outer").height()},function(){$(a+".edit_form #realview_outer").animate({height:"toggle"});
$(a+".edit_form textarea").removeAttr("disabled")}),b.realtime_preview());return!1});$(a+".edit_form textarea[name=msg]").blur(function(){b.realtime_preview()});$(a+".edit_form textarea[name=msg]").mouseup(function(){$(this).val()!==$("textarea#previous").val()&&b.realtime_preview()});$(a+".edit_form textarea[name=msg]").keypress(function(){if(Modernizr.localstorage){var a=new Date;_window.localStorage.setItem(PAGE,JSON.stringify({msg:$(this).val(),modified:a.getTime()}))}});$(a+"form").submit(function(){Modernizr.localstorage&&
localStorage.removeItem(PAGE);$("#_edit_form_notimestamp:checked")!==!0&&$("#fb_publish:checked")===!0&&$.ajax({url:"https://graph.facebook.com/bbeckford/feed",type:"post",data:{method:"stream.publish",message:PAGE+"\n"+$("link[rel=canonical]")[0].href},cache:!1,dataType:"json",success:function(a){console.log(a.body)},error:function(){$(a+"input, button, select, textarea").removeAttr("disabled");alert($.i18n("pukiwiki","error"))}})});this.assistant(!1)},show_diff:function(a,d){return msg===org?!1:
diff(a.replace(/^\n+|\n+$/g,"").split("\n"),d.replace(/^\n+|\n+$/g,"").split("\n"))},diff:function(a,d,c){var b=a.length,f=d.length;if(!c&&b>f)return diff(d,a,!0);var e,i,g=b+1,h=f-b,k=[],l=[],j=function(e){var h,i,j,r;h=k[e-1+g];i=k[e+1+g];h>=i?(i=h+1,h=i-e,j=l[e-1+g],r={edit:c?"-":"+",arr:d,line:i-1}):(h=i-e,j=l[e+1+g],r={edit:c?"+":"-",arr:a,line:h-1});r.line>=0&&(l[e+g]=j.concat(r));r=b-h>f-i?b-h:f-i;for(j=0;j<r&&a[h+j]===d[i+j];++j)l[e+g].push({edit:"=",arr:a,line:h+j});k[e+g]=i+j;return!0};
for(i=0;i<b+f+3;++i)k[i]=-1,l[i]=[];for(i=0;k[h+g]!==f;i++){for(e=-i;e<h;++e)j(e);for(e=h+i;e>=h;--e)j(e)}return l[h+g]},realtime_preview:function(a){a?a+=" ":a="";var d=_document.getElementById("msg"),c=_document.getElementById("msg").value,b=this;if(this.ajax_apx&&($(a+"#indicator").html('<img src="'+b.image_dir+'spinner.gif" alt="'+$.i18n("dialog","loading")+'" />'),$(a+"textarea#previous").val(c),$(a+"textarea").attr("disabled","disabled"),++this.ajax_count===1)){if(_document.selection){var f=
_document.selection.createRange();sellen=f.text.length;var d=d.createTextRange(),e=d.text.length;try{d.moveToPoint(f.offsetLeft,f.offsetTop),d.moveEnd("textedit")}catch(i){}endlen=d.text.length;sttlen=e-endlen}else if(d.setSelectionRange)sttlen=d.selectionStart,endlen=d.value.length-d.selectionEnd,sellen=d.selectionEnd-sttlen;finlen=c.lastIndexOf("\n",sttlen);c=c.substring(0,finlen)+"\n\n&editmark;\n\n"+c.substring(finlen);$.ajax({url:SCRIPT,type:"post",global:!1,data:{cmd:"edit",realview:1,page:PAGE,
msg:c,type:"json"},cache:!1,dataType:"json",success:function(c){var d=_document.getElementById("realview_outer"),e=_document.getElementById("editmark");if(e)d.scrollTop=e.offsetTop-8;b.ajax_count===1?b.ajax_count=0:(b.ajax_count=0,b.realtime_preview());$(a+"#indicator").html('<span class="ui-icon ui-icon-clock" style="float:left;"></span>'+c.taketime);c=c.data.replace(/<script[^>]*>[^<]+/ig,'<span class="scripttag" title="Script tag">[SCRIPT]</span>');$(a+"#realview").html(c);$(a+"textarea").removeAttr("disabled")},
error:function(a,b){$("#realview").html(['<div class="ui-state-error ui-corner-all" style="padding: 0 .7em;">','<p><span class="ui-icon ui-icon-alert" style="float: left; margin-right: .3em;"></span>'+$.i18n("pukiwiki","error")+b+"</p>","<ul>","<li>readyState:"+a.readyState+"</li>","<li>status:"+a.status+"</li>","<li>statusText:"+a.statusText+"</li>","</ul>\n</div>"].join("\n"))}})}},assistant:function(){var a,d,c="sun,cloud,rain,snow,thunder,typhoon,mist,sprinkle,aries,taurus,gemini,cancer,leo,virgo,libra,scorpius,sagittarius,capricornus,aquarius,pisces,sports,baseball,golf,tennis,soccer,ski,basketball,motorsports,pocketbell,train,subway,bullettrain,car,rvcar,bus,ship,airplane,house,building,postoffice,hospital,bank,atm,hotel,cvs,gasstation,parking,signaler,toilet,restaurant,cafe,bar,beer,fastfood,boutique,hairsalon,karaoke,movie,upwardright,carouselpony,music,art,drama,event,ticket,smoking,nosmoking,camera,bag,book,ribbon,present,birthday,telephone,mobilephone,memo,tv,game,cd,heart,spade,diamond,club,eye,ear,rock,scissors,paper,downwardright,upwardleft,foot,shoe,eyeglass,wheelchair,newmoon,moon1,moon2,moon3,fullmoon,dog,cat,yacht,xmas,downwardleft,phoneto,mailto,faxto,info01,info02,mail,by-d,d-point,yen,free,id,key,enter,clear,search,new,flag,freedial,sharp,mobaq,one,two,three,four,five,six,seven,eight,nine,zero,ok,heart01,heart02,heart03,heart04,happy01,angry,despair,sad,wobbly,up,note,spa,cute,kissmark,shine,flair,annoy,punch,bomb,notes,down,sleepy,sign01,sign02,sign03,impact,sweat01,sweat02,dash,sign04,sign05,slate,pouch,pen,shadow,chair,night,soon,on,end,clock,appli01,appli02,t-shirt,moneybag,rouge,denim,snowboard,bell,door,dollar,pc,loveletter,wrench,pencil,crown,ring,sandclock,bicycle,japanesetea,watch,think,confident,coldsweats01,coldsweats02,pout,gawk,lovely,good,bleah,wink,happy02,bearing,catface,crying,weep,ng,clip,copyright,tm,run,secret,recycle,r-mark,danger,ban,empty,pass,full,leftright,updown,school,wave,fuji,clover,cherry,tulip,banana,apple,bud,maple,cherryblossom,riceball,cake,bottle,noodle,bread,snail,chick,penguin,fish,delicious,smile,horse,pig,wine,shock".split(","),
b="#000000,#003300,#006600,#009900,#00CC00,#00FF00,#330000,#333300,#336600,#339900,#33CC00,#33FF00,#660000,#663300,#666600,#669900,#66CC00,#66FF00,#000033,#003333,#006633,#009933,#00CC33,#00FF33,#330033,#333333,#336633,#339933,#33CC33,#33FF33,#660033,#663333,#666633,#669933,#66CC33,#66FF33,#000066,#003366,#006666,#009966,#00CC66,#00FF66,#330066,#333366,#336666,#339966,#33CC66,#33FF66,#660066,#663366,#666666,#669966,#66CC66,#66FF66,#000099,#003399,#006699,#009999,#00CC99,#00FF99,#330099,#333399,#336699,#339999,#33CC99,#33FF99,#660099,#663399,#666699,#669999,#66CC99,#66FF99,#0000CC,#0033CC,#0066CC,#0099CC,#00CCCC,#00FFCC,#3300CC,#3333CC,#3366CC,#3399CC,#33CCCC,#33FFCC,#6600CC,#6633CC,#6666CC,#6699CC,#66CCCC,#66FFCC,#0000FF,#0033FF,#0066FF,#0099FF,#00CCFF,#00FFFF,#3300FF,#3333FF,#3366FF,#3399FF,#33CCFF,#33FFFF,#6600FF,#6633FF,#6666FF,#6699FF,#66CCFF,#66FFFF,#990000,#993300,#996600,#999900,#99CC00,#99FF00,#CC0000,#CC3300,#CC6600,#CC9900,#CCCC00,#CCFF00,#FF0000,#FF3300,#FF6600,#FF9900,#FFCC00,#FFFF00,#990033,#993333,#996633,#999933,#99CC33,#99FF33,#CC0033,#CC3333,#CC6633,#CC9933,#CCCC33,#CCFF33,#FF0033,#FF3333,#FF6633,#FF9933,#FFCC33,#FFFF33,#990066,#993366,#996666,#999966,#99CC66,#99FF66,#CC0066,#CC3366,#CC6666,#CC9966,#CCCC66,#CCFF66,#FF0066,#FF3366,#FF6666,#FF9966,#FFCC66,#FFFF66,#990099,#993399,#996699,#999999,#99CC99,#99FF99,#CC0099,#CC3399,#CC6699,#CC9999,#CCCC99,#CCFF99,#FF0099,#FF3399,#FF6699,#FF9999,#FFCC99,#FFFF99,#9900CC,#9933CC,#9966CC,#9999CC,#99CCCC,#99FFCC,#CC00CC,#CC33CC,#CC66CC,#CC99CC,#CCCCCC,#CCFFCC,#FF00CC,#FF33CC,#FF66CC,#FF99CC,#FFCCCC,#FFFFCC,#9900FF,#9933FF,#9966FF,#9999FF,#99CCFF,#99FFFF,#CC00FF,#CC33FF,#CC66FF,#CC99FF,#CCCCFF,#CCFFFF,#FF00FF,#FF33FF,#FF66FF,#FF99FF,#FFCCFF,#FFFFFF,#111111,#222222,#333333,#444444,#555555,#666666,#777777,#888888,#999999,#A5A5A5,#AAAAAA,#BBBBBB,#C3C3C3,#CCCCCC,#D2D2D2,#DDDDDD,#EEEEEE,#FFFFFF".split(",");
$(".assistant").html(['<ul class="ui-widget pkwk_widget">','<li class="replace ui-button ui-state-default ui-corner-left" title="'+$.i18n("editor","bold")+'" name="b" role="button"><strong>b</strong></li>','<li class="replace ui-button ui-state-default" title="'+$.i18n("editor","italic")+'" name="i" style="font-weight:normal;" role="button"><em>i</em></li>','<li class="replace ui-button ui-state-default" title="'+$.i18n("editor","strike")+'" name="s" style="font-weight:normal;" role="button"><strike>s</strike></li>',
'<li class="replace ui-button ui-state-default" title="'+$.i18n("editor","underline")+'" name="u" style="font-weight:normal;" role="button"><span class="underline">u</span></li>','<li class="replace ui-button ui-state-default" title="'+$.i18n("editor","code")+'" name="code" style="font-weight:normal;" role="button"><span class="ui-icon ui-icon-script"></span></li>','<li class="replace ui-button ui-state-default ui-corner-right" title="'+$.i18n("editor","quote")+'" name="q" style="font-weight:normal;" role="button"><span class="ui-icon ui-icon-comment"></span></li>',
'<li class="replace ui-button ui-state-default ui-corner-left" title="'+$.i18n("editor","link")+'" name="url"><span class="ui-icon ui-icon-link" role="button"></span></li>','<li class="replace ui-button ui-state-default" title="'+$.i18n("editor","size")+'" name="size" role="button">size</li>','<li class="insert ui-button ui-state-default ui-corner-right" title="'+$.i18n("editor","color")+'" name="color" role="button">color</li>','<li class="insert ui-button ui-state-default ui-corner-left" title="'+
$.i18n("editor","emoji")+'" name="emoji" role="button">\u263a</li>','<li class="insert ui-button ui-state-default ui-corner-right" title="'+$.i18n("editor","breakline")+'" name="br" role="button">\u23ce</li>','<li class="replace ui-button ui-state-default ui-corner-all" title="'+$.i18n("editor","ncr")+'" name="ncr" role="button">&amp;#</li>','<li class="insert ui-button ui-state-default ui-corner-all" title="'+$.i18n("editor","hint")+'" name="help" role="button"><span class="ui-icon ui-icon ui-icon-lightbulb"></span></li>',
typeof Modernizr.localstorage!=="undefined"?'<li class="insert ui-state-default ui-corner-all" title="'+$.i18n("editor","flush")+'" name="flush" role="button"><span class="ui-icon ui-icon-trash"></span></li>':null,'<li class="ui-widget-content ui-corner-all" style="float:right; width:auto;display:none;font-weight:normal;" id="indicator"></li>\n</ul>'].join("\n"));var f='<ul class="ui-widget pkwk_widget ui-helper-clearfix">';for(a=0,d=c.length;a<d;a++){var e=c[a];f+='<li class="ui-button ui-state-default ui-corner-all" title="'+
e+'" name="'+e+'"><span class="emoji emoji-'+e+'"></span></li>'}f+="</ul>";$(_document.body).append('<div id="emoji"></div>');$("#emoji").dialog({title:$.i18n("editor","emoji"),autoOpen:!1,bgiframe:!0,minWidth:410,height:410,minHeight:410,show:"scale",hide:"scale"}).html(f);c='<ul class="ui-widget pkwk_widget ui-helper-clearfix" id="colors">';f=0;for(a=0,d=b.length;a<d;a++)e=b[a],c+='<li class="ui-button ui-state-default" title="'+e+'" name="'+e+'"><span class="emoji" style="background-color:'+e+
';"></span></li>',f++;c+="</ul>";$(_document.body).append('<div id="color_palette"></div>');$("#color_palette").dialog({title:$.i18n("editor","color"),autoOpen:!1,bgiframe:!0,width:470,height:400,show:"scale",hide:"scale"}).html(c);$(_document.body).append('<div id="hint"></div>');$("#hint").dialog({title:$.i18n("editor","hint"),autoOpen:!1,bgiframe:!0,width:470,show:"scale",hide:"scale",buttons:[{text:$.i18n("dialog","ok"),click:function(){$(this).dialog("close")}}]}).html($.i18n("pukiwiki","hint_text1"));
if(!this.elem)this.elem=$("*[name=msg]")[0];var i=this;$("*[name=msg]").focus(function(){i.elem=this;i.selection=$(this).getSelection().text});$(".insert").click(function(){var a="",b=$(i.elem),c=b.getSelection().text;switch($(this).attr("name")){case "help":$("#hint").dialog("open");break;case "br":a="&br;\n";break;case "emoji":$("#emoji").dialog("open");break;case "color":$("#color_palette").dialog("open");break;case "flush":Modernizr.localstorage&&confirm($.i18n("pukiwiki","flush_restore"))===
!0&&localStorage.removeItem(PAGE);break;default:a="&("+$(this).attr("name")+");"}a!==""&&(c===""?b.insertAtCaretPos(a):b.replaceSelection(a),b.focus());return!1});$(".replace").click(function(){var a=$(i.elem).getSelection().text;$(this).attr("name");console.log(a);return!1});$("#emoji ul li").click(function(){var a=$(i.elem),b=a.getSelection().text,c="&("+$(this).attr("name")+");";b===""?a.insertAtCaretPos(c):a.replaceSelection(c);i.elem.focus()});$("#color_palette ul li").click(function(){var a=
$(i.elem),b=a.getSelection().text,c=$(this).attr("name");b===""||!a?alert($.i18n("pukiwiki","select")):(b.match(/^&color\([^\)]*\)\{.*\};$/)?a.replaceSelection(b.replace(/^(&color\([^\)]*)(\)\{.*\};)$/,"$1,"+c+"$2")):a.replaceSelection("&color("+c+"){"+b+"};"),$("#color_palette").dialog("close"),a.focus())})},set_uploader:function(a){a?a+=" ":a="";$(a+"input[name=pass]").length!==0&&$.i18n("uploader","password");$(a+" .attach_info li").before(["<li>"+$.i18n("uploader","selected")+'<var id="attach_selected">0</var></li>',
"<li>"+$.i18n("uploader","queued")+'<var id="attach_queued">0</var></li>'].join("\n"));var d={max_file_size:$(a+"input[name=max_file_size]").val(),pcmd:$(a+"input[name=pcmd]").val(),plugin:$(a+"input[name=plugin]").val(),refer:$(a+"input[name=refer]").val(),ajax:"json"};if(d.plugin==="attachref")d.attachref_no=$(a+"input[name=attachref_no]").val(),d.attachref_opt=$(a+"input[name=attachref_opt]").val(),d.digest=$(a+"input[name=digest]").val();var c=typeof this.skin.swfupload!=="object"?{flash_url:SKIN_DIR+
"swfupload.swf",upload_url:SCRIPT,file_post_name:"attach_file",post_params:d,file_size_limit:d.max_file_size,file_types:"*.*",file_types_description:$.i18n("uploader","file_type_desc"),file_upload_limit:10,file_queue_limit:10,debug:DEBUG,button_image_url:this.image_dir+"swfupload/wdp_buttons_upload_114x29.png",button_width:114,button_height:29,button_placeholder_id:"swfupload_button",button_window_mode:SWFUpload.WINDOW_MODE.TRANSPARENT,moving_average_history_size:40}:this.skin.swfupload;if(d.plugin===
"attachref")c.file_upload_limit=1,c.file_queue_limit=1;d.pass=$("input[name=pass]").length!==0?$("input[name=pass]").val():"";d.encode_hint=$("input[name=encode_hint]").length!==0?$(a+"input[name=encode_hint]").val():"";$(a+".attach_form").html(['<div id="swfupload-control">\n<input type="button" id="swfupload_button" />\n<p id="swfupload-queuestatus"></p>\n<ol id="swfupload-log" class="ui-widget"></ol>','<span id="execute">'+$.i18n("uploader","execute")+"</span>","</div>"].join("\n"));$(a+"#execute").button({label:'<span style="float: left; margin-right: 0.3em;" class="ui-icon ui-icon-gear"></span>Go',
disabled:!0}).click(function(){$("#swfupload-control").swfupload("startUpload");return!1}).css({display:"none"});$(a+"#swfupload-control").swfupload(c).bind("fileQueued",function(b,c){var d=['<li id="'+c.id+'" class="ui-widget-content ui-corner-all">',"<span>"+$.i18n("uploader","file")+"<code>"+c.name+"</code> (<var>"+Math.round(c.size/1024)+" KB</var>)</span>",'<span class="cancell_btn" style="display:block; float:right"></span>\n<span class="progressvalue"></span>\n<div style="display:block; clear:both;" class="progressbar"></div>',
'<p class="status"><span style="float: left; margin-right: 0.3em;" class="ui-icon ui-icon-info"></span>'+$.i18n("uploader","pending")+"</p>","</li>"].join("\n");$(a+"#swfupload-log").append(d);$(a+"li#"+c.id+" .cancell_btn").button({icons:{primary:"ui-icon-close"},text:!1}).click(function(){$.swfupload.getInstance("#swfupload-control").cancelUpload(c.id);$("#swfupload-log li#"+c.id).slideUp("fast");return!1});$(a+"#swfupload-log li#"+c.id+" .progressbar").progressbar();$(a+"#execute").button({disabled:!1}).css({display:""})}).bind("fileQueueError",
function(){var b=['<li id="error" class="ui-widget-content ui-state-error ui-corner-all"><em>'+$.i18n("dialog","error")+"</em>",'<p>\n<span style="float: left; margin-right: 0.3em;" class="ui-icon ui-icon-alert"></span>',$.i18n("uploader","many_files"),"</p>",'<button class="close">'+$.i18n("dialog","close")+"</button>","</li>"].join("\n");$(a+"#swfupload-log").append(b);$(a+"li#error button").button({icons:{primary:"ui-icon-close"},text:!1}).click(function(){$("#swfupload-log li#error").slideUp("fast");
return!1})}).bind("fileDialogComplete",function(a,c,d){$("#atttach_selected").text(c);$("#atttach_queued").text(d)}).bind("uploadStart",function(a,c){$("#swfupload-log li#"+c.id).find("p.status").text($.i18n("uploader","uploading"));$("#swfupload-log li#"+c.id).find("span.progressvalue").text("0%");$("#swfupload-log li#"+c.id).find("span.cancel").hide()}).bind("uploadProgress",function(a,c,d){a=Math.round(d/c.size*100);$("#swfupload-log li#"+c.id+" .progressbar").progressbar({value:a});$("#swfupload-log li#"+
c.id).find("span.progressvalue").text(a+"%")}).bind("uploadSuccess",function(b,c,e){if(d.plugin!=="attachref"){b=eval("("+e+")");e=$(a+"#swfupload-log li#"+c.id);$(a+"#swfupload-log li#"+c.id+" .progressbar").progressbar({value:100});e.find(".progressvalue").text("100%");var i=['<a href="'+SCRIPT+"?plugin=attach&pcmd=open&refer="+PAGE+"&file="+c.name+'" id="view_'+c.id+'">','<span style="float: right; margin-right: 0.3em;" class="ui-icon ui-icon-newwin"></span>',$.i18n("uploader","view")+" &raquo;",
"</a>"].join("");e.addClass("success").find("p.status").html(b.title+" | "+i);$(a+"#swfupload-log li#"+c.id+" a#view_"+c.id).click(function(){var a=$(this).attr("href");_window.open(a);return!1})}else location.reload()}).bind("uploadComplete",function(){$(this).swfupload("startUpload")})},CFCheck:function(){(typeof CFInstall==="object"||$("meta[http-equiv=X-UA-Compatible]")[0].content.match(/chrome/)!==-1)&&CFInstall.check({mode:"overlay",onmissing:function(){self.iframeWin({title:"Google Chrome Frame",
width:820,height:600,url:"http://www.google.com/chromeframe"})}})},linkattrs:function(){var a,d,c=$("link[rel]");for(a=0,d=c.length;a<d;a++){var b=c[a];switch(b.rel){case "canonical":this.canonical=b.href;break;case "next":this.next=b.href;this.next_title=b.title?b.title:$.i18n("dialog","next");break;case "prev":case "previous":this.prev=b.href;this.prev_title=b.title?b.title:$.i18n("dialog","previous");break;case "up":this.up=b.href;this.up_title=b.title;break;case "index":this.index=b.href;this.index_title=
b.title;break;case "alternate":if(b.hreflang==="en")this.hasEversion=!0;break;case "transformation":hasmeta=this.grddltrans=b.href;break;case "home":hashome=!0;this.home=b.href;this.home_title=b.title;break;case "search":hassearch=!0;this.search=b.href;this.search_title=b.title;break;case "meta":b.type||(hasmeta="meta");break;case "help":this.help=b.href,this.help_title=b.title}}},preptoc:function(a){var d=this;this.genTocDiv(this.prepHdngs(a));$(_document).keypress(function(a){var b=a.which,f=String.fromCharCode(b);
if(a.target.nodeName.match(/(input|textarea)/i)!==-1)return b===27?!1:!0;console.log(b,f);switch(f){case "?":location.href.indexOf("Help")===-1&&confirm("Go to help/search page ?")?location.href=pukiwiki.help:alert("This key should bring you our help, i.e. this page :-)");break;case "<":if(d.prev)location.href=d.prev;break;case ">":if(d.next)location.href=d.next;break;case "H":if(d.home)location.href=d.home;break;case "I":if(d.index)location.href=d.index;break;case "S":d.search&&d.ajax_dialog({cmd:"search",
page:PAGE,ajax:"json"});break;case "R":if(d.canonical)location.href=d.canonical;break;case "A":PAGE&&d.ajax_dialog({cmd:"attach",pcmd:"upload",page:PAGE,ajax:"json"},"",function(){d.set_uploader("div.window")});break;case "E":if(PAGE)location.href=SCRIPT+"?cmd=edit&page="+PAGE;break;case "F":PAGE&&d.ajax_dialog({cmd:"freeze",page:PAGE,ajax:"json"});break;case "C":PAGE&&d.ajax_dialog({cmd:"source",page:PAGE,ajax:"json"});break;case "B":PAGE&&d.ajax_dialog({cmd:"backup",page:PAGE,ajax:"json"});break;
case "D":PAGE&&d.ajax_dialog({cmd:"diff",page:PAGE,ajax:"json"});break;case "N":PAGE&&d.ajax_dialog({cmd:"newpage",page:PAGE,ajax:"json"});break;default:d.toc&&(d.toc.style.display!=="none"?(b===27||b===47)&&d._hideToc():b===47&&$(d.toc).css("top",$(_window).scrollTop()+"px").css("left",$(_window).scrollLeft()+"px").fadeIn("fast"))}console.log(b);return!1})},prepHdngs:function(a){a?a+=" ":a="";var d="",c=$(a+"h2"),b=$(a+".contents ul").removeAttr("class").removeAttr("style");if(b.length!==0)d="<ol>"+
b.html()+"</ol>",c.each(function(){$(this).html($(this).html()+'<span class="pkwk-icon icon-toc" title="Table of Contents of this page" style="display:none; cursor:pointer;"></span>')}),$(a+"h3").each(function(){$(this).html($(this).html()+'<span class="pkwk-icon icon-toc" title="Table of Contents of this page" style="display:none; cursor:pointer;"></span>')});else if(c.length!==0){var f=[];c.each(function(a){var b=$(this),c=b.attr("id");c||b.attr("id","_genid_"+a);b.html(b.html()+'<span class="pkwk-icon icon-toc" title="Table of Contents of this page" style="display:none; cursor:pointer;"></span>');
f[a]='<li><a href="#'+c+'">'+b.text()+"</a></li>"});d="<ol>"+f.join("\n")+"</ol>"}else $.query.get("cmd").match(/list|backup/)!==-1&&(d='<div style="text-align:center;">'+$("#top").html()+"</div>",$(a+"#top").html($(a+"#top").html()+'<span class="pkwk-icon icon-toc" title="Table of Contents of this page" style="display:none; cursor:pointer;"></span>'));return d},genTocDiv:function(a){var d=this;this.toc=_document.createElement("div");this.toc.id="poptoc";$(this.toc).addClass("ui-widget ui-corner-all noprint").css("top",
0).css("left",0).css("position","absolute").css("z-index",100).css("display","none").html(['<h1><a href="#">'+$("h1#title").text()+'</a><abbr title="Table of Contents">[TOC]</abbr></h1>',a.replace(/href/g,'tabindex="1" href'),this.getNaviLink()].join("")).click(function(){d._hideToc()});$("body").append(this.toc);a=_document.createElement("div");a.id="toc_bg";$(a).addClass("ui-widget-shadow").css("top",0).css("left",0).css("width","100%").css("height","100%").css("position","fixed").css("z-index",
99).css("display","none").click(function(){d._hideToc()});$("body").append(a);this.calcObj(this.toc,300);$(".icon-toc").click(function(a){d._dispToc(a,this,!1)}).css("display","inline-block");$("#poptoc *").click(function(){d._hideToc()})},calcObj:function(a,d){var c=self.pageXOffset,b=self.pageYOffset;a.style.visibility="hidden";a.style.display="block";a.width=a.offsetWidth;if(a.width>d&&(a.width=d,!$.browser.safari))a.style.width=d+"px";a.height=a.offsetHeight;a.style.display="none";a.style.visibility=
"visible";b&&scroll(c,b)},getNaviLink:function(){var a=function(a,c,b){return c?'<a href="'+c+'" title="'+b+'">'+a+"</a>":'<span style="color:gray; cursor: not-allowed;">'+a+"</span>"};return(a=["&lt;&lt;",a("Prev page",this.prev,this.prev_title)," | ",a("Next page",this.next,this.next_title),"&gt;&gt;<br />[ ",a("Home",this.home,this.home_title)," | ",a("Index",this.index,this.index_title)," | ",a("Search",this.search,this.search_title)," | ",a("Help",this.help,this.help_title)," ]"].join(""))?"<p class='nav'>"+
a+"</p>":""},setCurPos:function(a,d){var c=a.parentNode;return d===1?a.getAttribute("id"):c.getAttribute("id")?c.getAttribute("id"):c.firstChild.getAttribute?c.firstChild.getAttribute("id"):""},nodeText:function(a){if(typeof a!=="object")return a;var d,c,b=a.childNodes;for(a=0,c=b.length;a<c;a++)b.item(a).nodeType===3?d+=b.item(a).data:b.item(a).nodeType===1&&(d+=this.nodeText(b.item(a)));d=d.replace(/^\s*/,"");return d.replace(/\s*$/,"")},popToc:function(a){a||(a=event);$(".icon-toc").click(function(){pukiwiki._dispToc(a,
this,0)});$("#poptoc","#poptoc a","#toc_bg").click(function(){pukiwiki._hideToc()})},_dispToc:function(a,d,c){$(_window).scrollLeft();$(_window).scrollTop();var b=a.pageX,a=a.pageY,f=$(_window).width(),e=$(_window).height(),i=this.toc.width;e<this.toc.height&&$(this.toc).css("height",e+"px").css("overflow","auto");$(this.toc).css("top",a+"px").css("left",(b<f-i?b:b-i)+"px");c?($(this.toc).fadeIn("fast"),this.setCurPos(d,type)):$(this.toc).show("slow");$("#toc_bg").fadeIn("fast")},_hideToc:function(){$("#toc_bg").fadeOut("fast");
$(this.toc).fadeOut("fast")},bad_behavior:function(a){a?a+=" ":a="";typeof BH_NAME!=="undefined"&&typeof BH_VALUE!=="undefined"&&$(a+"form").append('<input type="hidden" name="'+BH_NAME+'" value="'+BH_VALUE+'" />')}};$.fn.serializeObject=function(){var a={},d=this.serializeArray();$.each(d,function(){a[this.name]?(a[this.name].push||(a[this.name]=[a[this.name]]),a[this.name].push(this.value||"")):a[this.name]=this.value||""});return a};
$.fn.disableOnSubmit=function(a){var d=a===null?"input[type=submit],input[type=button],input[type=reset],button":a;$(this).find(d).removeAttr("disabled");$(this).submit(function(){$(this).find(d).attr("disabled","disabled")});return this};var $buoop={vs:{i:8,f:4,o:11,s:5,n:9},reminder:1,onshow:function(){},l:LANG,newwindow:!1};
if(DEBUG)$buoop.text="When the version of a browser is old, the text which presses for renewal of a browser here is displayed.";else if((_document.compatMode||"")!=="CSS1Compat")$buoop.text="Please set native rendering mode.";
$(_document).ready(function(){if(DEBUG)var a=new Date;Modernizr.load({load:"http://browser-update.org/update.js"});for(var d;d=pkwkBeforeInit.shift();)d!=null&&d();pukiwiki.init();for(tzCalculation_LocalTimeZone(location.host,!1);d=pkwkInit.shift();)d!=null&&d();DEBUG&&console.info("Finish. (Process Time :",new Date-a,"ms)")});$(window).unload(function(){for(var a;a=pkwkBeforeUnload.shift();)a!=null&&a();for(pukiwiki.unload();a=pkwkUnload.shift();)a!=null&&a()});
if(typeof GOOGLE_ANALYTICS!=="undefined")window._gaq=[["_setAccount",GOOGLE_ANALYTICS],["_trackPageview"],["_trackPageLoadTime"]],Modernizr.load({load:("https:"==location.protocol?"//ssl":"//www")+".google-analytics.com/ga.js"});var SWFUpload;SWFUpload==void 0&&(SWFUpload=function(a){this.initSWFUpload(a)});
SWFUpload.prototype.initSWFUpload=function(a){try{this.customSettings={},this.settings=a,this.eventQueue=[],this.movieName="SWFUpload_"+SWFUpload.movieCount++,this.movieElement=null,SWFUpload.instances[this.movieName]=this,this.initSettings(),this.loadFlash(),this.displayDebugInfo()}catch(d){throw delete SWFUpload.instances[this.movieName],d;}};SWFUpload.instances={};SWFUpload.movieCount=0;SWFUpload.version="2.2.0 2009-03-25";
SWFUpload.QUEUE_ERROR={QUEUE_LIMIT_EXCEEDED:-100,FILE_EXCEEDS_SIZE_LIMIT:-110,ZERO_BYTE_FILE:-120,INVALID_FILETYPE:-130};SWFUpload.UPLOAD_ERROR={HTTP_ERROR:-200,MISSING_UPLOAD_URL:-210,IO_ERROR:-220,SECURITY_ERROR:-230,UPLOAD_LIMIT_EXCEEDED:-240,UPLOAD_FAILED:-250,SPECIFIED_FILE_ID_NOT_FOUND:-260,FILE_VALIDATION_FAILED:-270,FILE_CANCELLED:-280,UPLOAD_STOPPED:-290};SWFUpload.FILE_STATUS={QUEUED:-1,IN_PROGRESS:-2,ERROR:-3,COMPLETE:-4,CANCELLED:-5};
SWFUpload.BUTTON_ACTION={SELECT_FILE:-100,SELECT_FILES:-110,START_UPLOAD:-120};SWFUpload.CURSOR={ARROW:-1,HAND:-2};SWFUpload.WINDOW_MODE={WINDOW:"window",TRANSPARENT:"transparent",OPAQUE:"opaque"};SWFUpload.completeURL=function(a){if(typeof a!=="string"||a.match(/^https?:\/\//i)||a.match(/^\//))return a;var d=window.location.pathname.lastIndexOf("/");path=d<=0?"/":window.location.pathname.substr(0,d)+"/";return path+a};
SWFUpload.prototype.initSettings=function(){this.ensureDefault=function(a,d){this.settings[a]=this.settings[a]==void 0?d:this.settings[a]};this.ensureDefault("upload_url","");this.ensureDefault("preserve_relative_urls",!1);this.ensureDefault("file_post_name","Filedata");this.ensureDefault("post_params",{});this.ensureDefault("use_query_string",!1);this.ensureDefault("requeue_on_error",!1);this.ensureDefault("http_success",[]);this.ensureDefault("assume_success_timeout",0);this.ensureDefault("file_types",
"*.*");this.ensureDefault("file_types_description","All Files");this.ensureDefault("file_size_limit",0);this.ensureDefault("file_upload_limit",0);this.ensureDefault("file_queue_limit",0);this.ensureDefault("flash_url","swfupload.swf");this.ensureDefault("prevent_swf_caching",!0);this.ensureDefault("button_image_url","");this.ensureDefault("button_width",1);this.ensureDefault("button_height",1);this.ensureDefault("button_text","");this.ensureDefault("button_text_style","color: #000000; font-size: 16pt;");
this.ensureDefault("button_text_top_padding",0);this.ensureDefault("button_text_left_padding",0);this.ensureDefault("button_action",SWFUpload.BUTTON_ACTION.SELECT_FILES);this.ensureDefault("button_disabled",!1);this.ensureDefault("button_placeholder_id","");this.ensureDefault("button_placeholder",null);this.ensureDefault("button_cursor",SWFUpload.CURSOR.ARROW);this.ensureDefault("button_window_mode",SWFUpload.WINDOW_MODE.WINDOW);this.ensureDefault("debug",!1);this.settings.debug_enabled=this.settings.debug;
this.settings.return_upload_start_handler=this.returnUploadStart;this.ensureDefault("swfupload_loaded_handler",null);this.ensureDefault("file_dialog_start_handler",null);this.ensureDefault("file_queued_handler",null);this.ensureDefault("file_queue_error_handler",null);this.ensureDefault("file_dialog_complete_handler",null);this.ensureDefault("upload_start_handler",null);this.ensureDefault("upload_progress_handler",null);this.ensureDefault("upload_error_handler",null);this.ensureDefault("upload_success_handler",
null);this.ensureDefault("upload_complete_handler",null);this.ensureDefault("debug_handler",this.debugMessage);this.ensureDefault("custom_settings",{});this.customSettings=this.settings.custom_settings;if(this.settings.prevent_swf_caching)this.settings.flash_url=this.settings.flash_url+(this.settings.flash_url.indexOf("?")<0?"?":"&")+"preventswfcaching="+(new Date).getTime();if(!this.settings.preserve_relative_urls)this.settings.upload_url=SWFUpload.completeURL(this.settings.upload_url),this.settings.button_image_url=
SWFUpload.completeURL(this.settings.button_image_url);delete this.ensureDefault};
SWFUpload.prototype.loadFlash=function(){var a,d;if(document.getElementById(this.movieName)!==null)throw"ID "+this.movieName+" is already in use. The Flash Object could not be added";a=document.getElementById(this.settings.button_placeholder_id)||this.settings.button_placeholder;if(a==void 0)throw"Could not find the placeholder element: "+this.settings.button_placeholder_id;d=document.createElement("div");d.innerHTML=this.getFlashHTML();a.parentNode.replaceChild(d.firstChild,a);window[this.movieName]==
void 0&&(window[this.movieName]=this.getMovieElement())};
SWFUpload.prototype.getFlashHTML=function(){return['<object id="',this.movieName,'" type="application/x-shockwave-flash" data="',this.settings.flash_url,'" width="',this.settings.button_width,'" height="',this.settings.button_height,'" class="swfupload"><param name="wmode" value="',this.settings.button_window_mode,'" /><param name="movie" value="',this.settings.flash_url,'" /><param name="quality" value="high" /><param name="menu" value="false" /><param name="allowScriptAccess" value="always" />','<param name="flashvars" value="'+
this.getFlashVars()+'" />',"</object>"].join("")};
SWFUpload.prototype.getFlashVars=function(){var a=this.buildParamString(),d=this.settings.http_success.join(",");return["movieName=",encodeURIComponent(this.movieName),"&amp;uploadURL=",encodeURIComponent(this.settings.upload_url),"&amp;useQueryString=",encodeURIComponent(this.settings.use_query_string),"&amp;requeueOnError=",encodeURIComponent(this.settings.requeue_on_error),"&amp;httpSuccess=",encodeURIComponent(d),"&amp;assumeSuccessTimeout=",encodeURIComponent(this.settings.assume_success_timeout),"&amp;params=",
encodeURIComponent(a),"&amp;filePostName=",encodeURIComponent(this.settings.file_post_name),"&amp;fileTypes=",encodeURIComponent(this.settings.file_types),"&amp;fileTypesDescription=",encodeURIComponent(this.settings.file_types_description),"&amp;fileSizeLimit=",encodeURIComponent(this.settings.file_size_limit),"&amp;fileUploadLimit=",encodeURIComponent(this.settings.file_upload_limit),"&amp;fileQueueLimit=",encodeURIComponent(this.settings.file_queue_limit),"&amp;debugEnabled=",encodeURIComponent(this.settings.debug_enabled),
"&amp;buttonImageURL=",encodeURIComponent(this.settings.button_image_url),"&amp;buttonWidth=",encodeURIComponent(this.settings.button_width),"&amp;buttonHeight=",encodeURIComponent(this.settings.button_height),"&amp;buttonText=",encodeURIComponent(this.settings.button_text),"&amp;buttonTextTopPadding=",encodeURIComponent(this.settings.button_text_top_padding),"&amp;buttonTextLeftPadding=",encodeURIComponent(this.settings.button_text_left_padding),"&amp;buttonTextStyle=",encodeURIComponent(this.settings.button_text_style),
"&amp;buttonAction=",encodeURIComponent(this.settings.button_action),"&amp;buttonDisabled=",encodeURIComponent(this.settings.button_disabled),"&amp;buttonCursor=",encodeURIComponent(this.settings.button_cursor)].join("")};SWFUpload.prototype.getMovieElement=function(){if(this.movieElement==void 0)this.movieElement=document.getElementById(this.movieName);if(this.movieElement===null)throw"Could not find Flash element";return this.movieElement};
SWFUpload.prototype.buildParamString=function(){var a=this.settings.post_params,d=[];if(typeof a==="object")for(var c in a)a.hasOwnProperty(c)&&d.push(encodeURIComponent(c.toString())+"="+encodeURIComponent(a[c].toString()));return d.join("&amp;")};
SWFUpload.prototype.destroy=function(){try{this.cancelUpload(null,!1);var a=null;if((a=this.getMovieElement())&&typeof a.CallFunction==="unknown"){for(var d in a)try{typeof a[d]==="function"&&(a[d]=null)}catch(c){}try{a.parentNode.removeChild(a)}catch(b){}}window[this.movieName]=null;SWFUpload.instances[this.movieName]=null;delete SWFUpload.instances[this.movieName];this.movieName=this.eventQueue=this.customSettings=this.settings=this.movieElement=null;return!0}catch(f){return!1}};
SWFUpload.prototype.displayDebugInfo=function(){this.debug(["---SWFUpload Instance Info---\nVersion: ",SWFUpload.version,"\nMovie Name: ",this.movieName,"\nSettings:\n\tupload_url:               ",this.settings.upload_url,"\n\tflash_url:                ",this.settings.flash_url,"\n\tuse_query_string:         ",this.settings.use_query_string.toString(),"\n\trequeue_on_error:         ",this.settings.requeue_on_error.toString(),"\n\thttp_success:             ",this.settings.http_success.join(", "),"\n\tassume_success_timeout:   ",
this.settings.assume_success_timeout,"\n\tfile_post_name:           ",this.settings.file_post_name,"\n\tpost_params:              ",this.settings.post_params.toString(),"\n\tfile_types:               ",this.settings.file_types,"\n\tfile_types_description:   ",this.settings.file_types_description,"\n\tfile_size_limit:          ",this.settings.file_size_limit,"\n\tfile_upload_limit:        ",this.settings.file_upload_limit,"\n\tfile_queue_limit:         ",this.settings.file_queue_limit,"\n\tdebug:                    ",
this.settings.debug.toString(),"\n\tprevent_swf_caching:      ",this.settings.prevent_swf_caching.toString(),"\n\tbutton_placeholder_id:    ",this.settings.button_placeholder_id.toString(),"\n\tbutton_placeholder:       ",this.settings.button_placeholder?"Set":"Not Set","\n\tbutton_image_url:         ",this.settings.button_image_url.toString(),"\n\tbutton_width:             ",this.settings.button_width.toString(),"\n\tbutton_height:            ",this.settings.button_height.toString(),"\n\tbutton_text:              ",
this.settings.button_text.toString(),"\n\tbutton_text_style:        ",this.settings.button_text_style.toString(),"\n\tbutton_text_top_padding:  ",this.settings.button_text_top_padding.toString(),"\n\tbutton_text_left_padding: ",this.settings.button_text_left_padding.toString(),"\n\tbutton_action:            ",this.settings.button_action.toString(),"\n\tbutton_disabled:          ",this.settings.button_disabled.toString(),"\n\tcustom_settings:          ",this.settings.custom_settings.toString(),"\nEvent Handlers:\n\tswfupload_loaded_handler assigned:  ",
(typeof this.settings.swfupload_loaded_handler==="function").toString(),"\n\tfile_dialog_start_handler assigned: ",(typeof this.settings.file_dialog_start_handler==="function").toString(),"\n\tfile_queued_handler assigned:       ",(typeof this.settings.file_queued_handler==="function").toString(),"\n\tfile_queue_error_handler assigned:  ",(typeof this.settings.file_queue_error_handler==="function").toString(),"\n\tupload_start_handler assigned:      ",(typeof this.settings.upload_start_handler===
"function").toString(),"\n\tupload_progress_handler assigned:   ",(typeof this.settings.upload_progress_handler==="function").toString(),"\n\tupload_error_handler assigned:      ",(typeof this.settings.upload_error_handler==="function").toString(),"\n\tupload_success_handler assigned:    ",(typeof this.settings.upload_success_handler==="function").toString(),"\n\tupload_complete_handler assigned:   ",(typeof this.settings.upload_complete_handler==="function").toString(),"\n\tdebug_handler assigned:             ",
(typeof this.settings.debug_handler==="function").toString(),"\n"].join(""))};SWFUpload.prototype.addSetting=function(a,d,c){return d==void 0?this.settings[a]=c:this.settings[a]=d};SWFUpload.prototype.getSetting=function(a){return this.settings[a]!=void 0?this.settings[a]:""};
SWFUpload.prototype.callFlash=function(a,d){var d=d||[],c=this.getMovieElement(),b,f;try{f=c.CallFunction('<invoke name="'+a+'" returntype="javascript">'+__flash__argumentsToXML(d,0)+"</invoke>"),b=eval(f)}catch(e){throw"Call to "+a+" failed";}b!=void 0&&typeof b.post==="object"&&(b=this.unescapeFilePostParams(b));return b};SWFUpload.prototype.selectFile=function(){this.callFlash("SelectFile")};SWFUpload.prototype.selectFiles=function(){this.callFlash("SelectFiles")};
SWFUpload.prototype.startUpload=function(a){this.callFlash("StartUpload",[a])};SWFUpload.prototype.cancelUpload=function(a,d){d!==!1&&(d=!0);this.callFlash("CancelUpload",[a,d])};SWFUpload.prototype.stopUpload=function(){this.callFlash("StopUpload")};SWFUpload.prototype.getStats=function(){return this.callFlash("GetStats")};SWFUpload.prototype.setStats=function(a){this.callFlash("SetStats",[a])};
SWFUpload.prototype.getFile=function(a){return typeof a==="number"?this.callFlash("GetFileByIndex",[a]):this.callFlash("GetFile",[a])};SWFUpload.prototype.addFileParam=function(a,d,c){return this.callFlash("AddFileParam",[a,d,c])};SWFUpload.prototype.removeFileParam=function(a,d){this.callFlash("RemoveFileParam",[a,d])};SWFUpload.prototype.setUploadURL=function(a){this.settings.upload_url=a.toString();this.callFlash("SetUploadURL",[a])};
SWFUpload.prototype.setPostParams=function(a){this.settings.post_params=a;this.callFlash("SetPostParams",[a])};SWFUpload.prototype.addPostParam=function(a,d){this.settings.post_params[a]=d;this.callFlash("SetPostParams",[this.settings.post_params])};SWFUpload.prototype.removePostParam=function(a){delete this.settings.post_params[a];this.callFlash("SetPostParams",[this.settings.post_params])};
SWFUpload.prototype.setFileTypes=function(a,d){this.settings.file_types=a;this.settings.file_types_description=d;this.callFlash("SetFileTypes",[a,d])};SWFUpload.prototype.setFileSizeLimit=function(a){this.settings.file_size_limit=a;this.callFlash("SetFileSizeLimit",[a])};SWFUpload.prototype.setFileUploadLimit=function(a){this.settings.file_upload_limit=a;this.callFlash("SetFileUploadLimit",[a])};
SWFUpload.prototype.setFileQueueLimit=function(a){this.settings.file_queue_limit=a;this.callFlash("SetFileQueueLimit",[a])};SWFUpload.prototype.setFilePostName=function(a){this.settings.file_post_name=a;this.callFlash("SetFilePostName",[a])};SWFUpload.prototype.setUseQueryString=function(a){this.settings.use_query_string=a;this.callFlash("SetUseQueryString",[a])};SWFUpload.prototype.setRequeueOnError=function(a){this.settings.requeue_on_error=a;this.callFlash("SetRequeueOnError",[a])};
SWFUpload.prototype.setHTTPSuccess=function(a){typeof a==="string"&&(a=a.replace(" ","").split(","));this.settings.http_success=a;this.callFlash("SetHTTPSuccess",[a])};SWFUpload.prototype.setAssumeSuccessTimeout=function(a){this.settings.assume_success_timeout=a;this.callFlash("SetAssumeSuccessTimeout",[a])};SWFUpload.prototype.setDebugEnabled=function(a){this.settings.debug_enabled=a;this.callFlash("SetDebugEnabled",[a])};
SWFUpload.prototype.setButtonImageURL=function(a){a==void 0&&(a="");this.settings.button_image_url=a;this.callFlash("SetButtonImageURL",[a])};SWFUpload.prototype.setButtonDimensions=function(a,d){this.settings.button_width=a;this.settings.button_height=d;var c=this.getMovieElement();if(c!=void 0)c.style.width=a+"px",c.style.height=d+"px";this.callFlash("SetButtonDimensions",[a,d])};SWFUpload.prototype.setButtonText=function(a){this.settings.button_text=a;this.callFlash("SetButtonText",[a])};
SWFUpload.prototype.setButtonTextPadding=function(a,d){this.settings.button_text_top_padding=d;this.settings.button_text_left_padding=a;this.callFlash("SetButtonTextPadding",[a,d])};SWFUpload.prototype.setButtonTextStyle=function(a){this.settings.button_text_style=a;this.callFlash("SetButtonTextStyle",[a])};SWFUpload.prototype.setButtonDisabled=function(a){this.settings.button_disabled=a;this.callFlash("SetButtonDisabled",[a])};
SWFUpload.prototype.setButtonAction=function(a){this.settings.button_action=a;this.callFlash("SetButtonAction",[a])};SWFUpload.prototype.setButtonCursor=function(a){this.settings.button_cursor=a;this.callFlash("SetButtonCursor",[a])};
SWFUpload.prototype.queueEvent=function(a,d){d==void 0?d=[]:d instanceof Array||(d=[d]);var c=this;if(typeof this.settings[a]==="function")this.eventQueue.push(function(){this.settings[a].apply(this,d)}),setTimeout(function(){c.executeNextEvent()},0);else if(this.settings[a]!==null)throw"Event handler "+a+" is unknown or is not a function";};SWFUpload.prototype.executeNextEvent=function(){var a=this.eventQueue?this.eventQueue.shift():null;typeof a==="function"&&a.apply(this)};
SWFUpload.prototype.unescapeFilePostParams=function(a){var d=/[$]([0-9a-f]{4})/i,c={},b;if(a!=void 0){for(var f in a.post)if(a.post.hasOwnProperty(f)){b=f;for(var e;(e=d.exec(b))!==null;)b=b.replace(e[0],String.fromCharCode(parseInt("0x"+e[1],16)));c[b]=a.post[f]}a.post=c}return a};SWFUpload.prototype.testExternalInterface=function(){try{return this.callFlash("TestExternalInterface")}catch(a){return!1}};
SWFUpload.prototype.flashReady=function(){var a=this.getMovieElement();a?(this.cleanUp(a),this.queueEvent("swfupload_loaded_handler")):this.debug("Flash called back ready but the flash movie can't be found.")};
SWFUpload.prototype.cleanUp=function(a){try{if(this.movieElement&&typeof a.CallFunction==="unknown"){this.debug("Removing Flash functions hooks (this should only run in IE and should prevent memory leaks)");for(var d in a)try{typeof a[d]==="function"&&(a[d]=null)}catch(c){}}}catch(b){}window.__flash__removeCallback=function(a,b){try{a&&(a[b]=null)}catch(c){}}};SWFUpload.prototype.fileDialogStart=function(){this.queueEvent("file_dialog_start_handler")};
SWFUpload.prototype.fileQueued=function(a){a=this.unescapeFilePostParams(a);this.queueEvent("file_queued_handler",a)};SWFUpload.prototype.fileQueueError=function(a,d,c){a=this.unescapeFilePostParams(a);this.queueEvent("file_queue_error_handler",[a,d,c])};SWFUpload.prototype.fileDialogComplete=function(a,d,c){this.queueEvent("file_dialog_complete_handler",[a,d,c])};SWFUpload.prototype.uploadStart=function(a){a=this.unescapeFilePostParams(a);this.queueEvent("return_upload_start_handler",a)};
SWFUpload.prototype.returnUploadStart=function(a){var d;if(typeof this.settings.upload_start_handler==="function")a=this.unescapeFilePostParams(a),d=this.settings.upload_start_handler.call(this,a);else if(this.settings.upload_start_handler!=void 0)throw"upload_start_handler must be a function";d===void 0&&(d=!0);this.callFlash("ReturnUploadStart",[!!d])};SWFUpload.prototype.uploadProgress=function(a,d,c){a=this.unescapeFilePostParams(a);this.queueEvent("upload_progress_handler",[a,d,c])};
SWFUpload.prototype.uploadError=function(a,d,c){a=this.unescapeFilePostParams(a);this.queueEvent("upload_error_handler",[a,d,c])};SWFUpload.prototype.uploadSuccess=function(a,d,c){a=this.unescapeFilePostParams(a);this.queueEvent("upload_success_handler",[a,d,c])};SWFUpload.prototype.uploadComplete=function(a){a=this.unescapeFilePostParams(a);this.queueEvent("upload_complete_handler",a)};SWFUpload.prototype.debug=function(a){this.queueEvent("debug_handler",a)};
SWFUpload.prototype.debugMessage=function(a){if(this.settings.debug){var d=[];if(typeof a==="object"&&typeof a.name==="string"&&typeof a.message==="string"){for(var c in a)a.hasOwnProperty(c)&&d.push(c+": "+a[c]);a=d.join("\n")||"";d=a.split("\n");a="EXCEPTION: "+d.join("\nEXCEPTION: ")}SWFUpload.Console.writeLine(a)}};SWFUpload.Console={};
SWFUpload.Console.writeLine=function(a){var d,c;try{d=document.getElementById("SWFUpload_Console");if(!d)c=document.createElement("form"),document.getElementsByTagName("body")[0].appendChild(c),d=document.createElement("textarea"),d.id="SWFUpload_Console",d.style.fontFamily="monospace",d.setAttribute("wrap","off"),d.wrap="off",d.style.overflow="auto",d.style.width="700px",d.style.height="350px",d.style.margin="5px",c.appendChild(d);d.value+=a+"\n";d.scrollTop=d.scrollHeight-d.clientHeight}catch(b){alert("Exception: "+
b.name+" Message: "+b.message)}};
function tzCalculation_LocalTimeZone(a,d){var c,b,f;c=new Date;b=Date.UTC(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate(),c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds());f=(Date.UTC(c.getFullYear(),c.getMonth(),c.getDate(),c.getHours(),c.getMinutes(),c.getSeconds())-b)/1E3/60;c=0>f?"-":"+";b=f%60;b!=0&&(f-=b,0>b&&(b=Math.abs(b)));0>f&&(f=Math.abs(f));f/=60;10>f&&(c+="0");c+=f;10>b&&(c+="0");c+=b;d&&document.writeln(c);document.cookie="timezone="+c+"; domain="+a;return c};
