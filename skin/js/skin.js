var caretPositionAmp=[];
function init(){if(navigator.appName=="Microsoft Internet Explorer"){obj=document.getElementsByTagName("TEXTAREA");for(var a,b=0,b=0;b<obj.length;b++)a=obj[b],caretPositionAmp[b]=a.value.length,a.onmouseup=function(){a=document.activeElement;for(var b=0;b<obj.length;b++)if(obj[b]==a)break;a.focus();var d=document.selection.createRange(),e=a.createTextRange(),f=e.duplicate();e.moveToBookmark(d.getBookmark());f.setEndPoint("EndToStart",e);caretPositionAmp[b]=f.text.length},a.onkeyup=function(){a=document.activeElement;
for(var b=0;b<obj.length;b++)if(obj[b]==a)break;a.focus();var d=document.selection.createRange(),e=a.createTextRange(),f=e.duplicate();e.moveToBookmark(d.getBookmark());f.setEndPoint("EndToStart",e);caretPositionAmp[b]=f.text.length}}}window.onload=init;
jQuery.fn.extend({getSelection:function(){var a=this.jquery?this[0]:this,b,c,d,e=0;a.onmousedown=function(){document.selection&&typeof a.selectionStart!="number"?document.selection.empty():window.getSelection().removeAllRanges()};if(document.selection){var f=document.selection.createRange(),g=0,h=0,i=0;b=document.getElementsByTagName("TEXTAREA");for(c=0;c<b.length;c++)if(b[c]==a)break;if(a.value.match(/\n/g)!=null)e=a.value.match(/\n/g).length;if(f.text){d=f.text;if(typeof a.selectionStart=="number"){if(b=
a.selectionStart,c=a.selectionEnd,b==c)return{start:b,end:c,text:f.text,length:c-b}}else{b=a.createTextRange();d=b.duplicate();firstRe=b.text;b.moveToBookmark(f.getBookmark());secondRe=b.text;d.setEndPoint("EndToStart",b);if(firstRe==secondRe&&firstRe!=f.text||d.text.length>firstRe.length)return{start:caretPositionAmp[c],end:caretPositionAmp[c],text:"",length:0};b=d.text.length;c=d.text.length+f.text.length}if(e>0)for(d=0;d<=e;d++){var k=a.value.indexOf("\n",h);k!=-1&&k<b?(h=k+1,g++,i=g):k!=-1&&k>=
b&&k<=c?k==b+1?(g--,i--,h=k+1):(h=k+1,i++):d=e}f.text.indexOf("\n",0)==1&&(i+=2);b-=g;c-=i;return{start:b,end:c,text:f.text,length:c-b}}a.focus();typeof a.selectionStart=="number"?b=a.selectionStart:(f=document.selection.createRange(),b=a.createTextRange(),d=b.duplicate(),b.moveToBookmark(f.getBookmark()),d.setEndPoint("EndToStart",b),b=d.text.length);if(e>0)for(d=0;d<=e;d++)k=a.value.indexOf("\n",h),k!=-1&&k<b?(h=k+1,g++):d=e;b-=g;b==0&&typeof a.selectionStart!="number"&&(b=caretPositionAmp[c],c=
caretPositionAmp[c]);return{start:b,end:b,text:f.text,length:0}}else return typeof a.selectionStart=="number"?(b=a.selectionStart,c=a.selectionEnd,d=a.value.substring(a.selectionStart,a.selectionEnd),{start:b,end:c,text:d,length:c-b}):{start:void 0,end:void 0,text:void 0,length:void 0}},replaceSelection:function(a){var b=this.jquery?this[0]:this,c,d;d=0;var e,f,g=0,h=0,i=b.scrollTop==void 0?0:b.scrollTop;c=document.getElementsByTagName("TEXTAREA");for(var k=0;k<c.length;k++)if(c[k]==b)break;if(document.selection&&
typeof b.selectionStart!="number"){i=document.selection.createRange();if(typeof b.selectionStart!="number"){var l;f=b.createTextRange();e=f.duplicate();c=f.text;f.moveToBookmark(i.getBookmark());l=f.text;try{e.setEndPoint("EndToStart",f)}catch(j){return this}if(c==l&&c!=i.text||e.text.length>c.length)return this}if(i.text){part=i.text;if(b.value.match(/\n/g)!=null)g=b.value.match(/\n/g).length;c=e.text.length;if(g>0)for(l=0;l<=g;l++){var n=b.value.indexOf("\n",d);n!=-1&&n<c?(d=n+1,h++):l=g}i.text=
a;caretPositionAmp[k]=e.text.length+a.length;f.move("character",caretPositionAmp[k]);document.selection.empty();b.blur()}}else if(typeof b.selectionStart=="number"&&b.selectionStart!=b.selectionEnd)c=b.selectionStart,d=b.selectionEnd,b.value=b.value.substr(0,c)+a+b.value.substr(d),d=c+a.length,b.setSelectionRange(d,d),b.scrollTop=i;return this},setSelection:function(a,b){var a=parseInt(a),b=parseInt(b),c=this.jquery?this[0]:this;c.focus();typeof c.selectionStart!="number"&&(re=c.createTextRange(),
re.text.length<b&&(b=re.text.length+1));if(b<a)return this;if(document.selection){var d=0,e=0,f=0,g=0;if(typeof c.selectionStart!="number")re.collapse(!0),re.moveEnd("character",b),re.moveStart("character",a),re.select();else{if(typeof c.selectionStart=="number"){if(c.value.match(/\n/g)!=null)d=c.value.match(/\n/g).length;if(d>0)for(var h=0;h<=d;h++){var i=c.value.indexOf("\n",f);i!=-1&&i<a?(f=i+1,e++,g=e):i!=-1&&i>=a&&i<=b?i==a+1?(e--,g--,f=i+1):(f=i+1,g++):h=d}a+=e;b+=g;c.selectionStart=a;c.selectionEnd=
b}c.focus()}return this}else if(c.selectionStart||c.selectionStart==0)return c.focus(),window.getSelection().removeAllRanges(),c.selectionStart=a,c.selectionEnd=b,c.focus(),this},insertAtCaretPos:function(a){var b=this.jquery?this[0]:this,c,d,e,f,g,h,i;c=d=0;var k=b.scrollTop==void 0?0:b.scrollTop;i=document.getElementsByTagName("TEXTAREA");for(var l=0;l<i.length;l++)if(i[l]==b)break;b.focus();if(document.selection&&typeof b.selectionStart!="number"){if(b.value.match(/\n/g)!=null)c=b.value.match(/\n/g).length;
i=parseInt(caretPositionAmp[l]);if(c>0)for(var j=0;j<=c;j++){var n=b.value.indexOf("\n",e);n!=-1&&n<=i&&(e=n+1,i-=1,d++)}}caretPositionAmp[l]=parseInt(caretPositionAmp[l]);b.onkeyup=function(){if(document.selection&&typeof b.selectionStart!="number")b.focus(),f=document.selection.createRange(),g=b.createTextRange(),h=g.duplicate(),g.moveToBookmark(f.getBookmark()),h.setEndPoint("EndToStart",g),caretPositionAmp[l]=h.text.length};b.onmouseup=function(){if(document.selection&&typeof b.selectionStart!=
"number")b.focus(),f=document.selection.createRange(),g=b.createTextRange(),h=g.duplicate(),g.moveToBookmark(f.getBookmark()),h.setEndPoint("EndToStart",g),caretPositionAmp[l]=h.text.length};if(document.selection&&typeof b.selectionStart!="number"){f=document.selection.createRange();if(f.text.length!=0)return this;g=b.createTextRange();textLength=g.text.length;h=g.duplicate();g.moveToBookmark(f.getBookmark());h.setEndPoint("EndToStart",g);c=h.text.length;caretPositionAmp[l]>0&&c==0?(d=caretPositionAmp[l]-
d,g.move("character",d),g.select(),f=document.selection.createRange(),caretPositionAmp[l]+=a.length):!(caretPositionAmp[l]>=0)&&textLength==0?(f=document.selection.createRange(),caretPositionAmp[l]=a.length+textLength):!(caretPositionAmp[l]>=0)&&c==0?(g.move("character",textLength),g.select(),f=document.selection.createRange(),caretPositionAmp[l]=a.length+textLength):!(caretPositionAmp[l]>=0)&&c>0?(g.move("character",0),document.selection.empty(),g.select(),f=document.selection.createRange(),caretPositionAmp[l]=
c+a.length):caretPositionAmp[l]>=0&&caretPositionAmp[l]==textLength?(textLength!=0?(g.move("character",textLength),g.select()):g.move("character",0),f=document.selection.createRange(),caretPositionAmp[l]=a.length+textLength):(caretPositionAmp[l]>=0&&c!=0&&caretPositionAmp[l]>=c?(d=caretPositionAmp[l]-c,g.move("character",d)):caretPositionAmp[l]>=0&&c!=0&&caretPositionAmp[l]<c&&g.move("character",0),document.selection.empty(),g.select(),f=document.selection.createRange(),caretPositionAmp[l]+=a.length);
f.text=a;b.focus()}else if(typeof b.selectionStart=="number"&&b.selectionStart==b.selectionEnd)e=b.selectionStart+a.length,c=b.selectionStart,d=b.selectionEnd,b.value=b.value.substr(0,c)+a+b.value.substr(d),b.setSelectionRange(e,e),b.scrollTop=k;return this},setCaretPos:function(a){var b=this.jquery?this[0]:this,c,d=0,e=0,f;f=document.getElementsByTagName("TEXTAREA");for(var g=0;g<f.length;g++)if(f[g]==b)break;b.focus();if(parseInt(a)==0)return this;if(parseInt(a)>0){if(a=parseInt(a)-1,document.selection&&
typeof b.selectionStart=="number"&&b.selectionStart==b.selectionEnd){if(b.value.match(/\n/g)!=null)d=b.value.match(/\n/g).length;if(d>0)for(var h=0;h<=d;h++)f=b.value.indexOf("\n",c),f!=-1&&f<=a&&(c=f+1,a=parseInt(a)+1)}}else if(parseInt(a)<0)if(a=parseInt(a)+1,document.selection&&typeof b.selectionStart!="number"){a=b.value.length+parseInt(a);if(b.value.match(/\n/g)!=null)d=b.value.match(/\n/g).length;if(d>0){for(h=0;h<=d;h++)f=b.value.indexOf("\n",c),f!=-1&&f<=a&&(c=f+1,a=parseInt(a)-1,e+=1);a=
a+e-d}}else if(document.selection&&typeof b.selectionStart=="number"){a=b.value.length+parseInt(a);if(b.value.match(/\n/g)!=null)d=b.value.match(/\n/g).length;if(d>0){a=parseInt(a)-d;for(h=0;h<=d;h++)f=b.value.indexOf("\n",c),f!=-1&&f<=a&&(c=f+1,a=parseInt(a)+1,e+=1)}}else a=b.value.length+parseInt(a);else return this;if(document.selection&&typeof b.selectionStart!="number"){c=document.selection.createRange();if(c.text!=0)return this;b=b.createTextRange();b.collapse(!0);b.moveEnd("character",a);b.moveStart("character",
a);b.select();caretPositionAmp[g]=a}else typeof b.selectionStart=="number"&&b.selectionStart==b.selectionEnd&&b.setSelectionRange(a,a);return this},countCharacters:function(){var a=this.jquery?this[0]:this;return a.value.match(/\r/g)!=null?a.value.length-a.value.match(/\r/g).length:a.value.length},setMaxLength:function(a,b){this.each(function(){var c=this.jquery?this[0]:this,d=c.type,e,f;parseInt(a)<0&&(a=1E8);if(d=="text")c.maxLength=a;if(d=="textarea"||d=="text")c.onkeypress=function(d){var h=c.value.match(/\r/g);
f=a;h!=null&&(f=parseInt(f)+h.length);d=d||event;h=d.keyCode;e=document.selection?document.selection.createRange().text.length>0:c.selectionStart!=c.selectionEnd;if(c.value.length>=f&&(h>47||h==32||h==0||h==13)&&!d.ctrlKey&&!d.altKey&&!e)return c.value=c.value.substring(0,f),typeof b=="function"&&b(),!1},c.onkeyup=function(){var d=c.value.match(/\r/g),e=0,i=0;f=a;if(d!=null){for(var k=0;k<=d.length;k++)c.value.indexOf("\n",i)<=parseInt(a)&&(e++,i=c.value.indexOf("\n",i)+1);f=parseInt(a)+e}if(c.value.length>
f)return c.value=c.value.substring(0,f),typeof b=="function"&&b(),this};else return this});return this}});
(function(a){function b(b){if(e.autoTracking){if(typeof b.trackGA!="undefined"&&!b.trackGA)return c.apply(this,[b])}else if(!b.trackGA)return c.apply(this,[b]);var d=b.complete,f=b.error;b.complete=function(c,l){d&&d(c,l);b.trackGA?a.isFunction(b.trackGA)?a.ajaxGA.doPageTrack(b.trackGA):a.ajaxGA.doPageTrack(function(a){a._trackPageview(b.trackGA)}):a.ajaxGA.doPageTrack(function(a){a._trackEvent(e.trackEventCategory,b.type?b.type:"GET",b.url)});b.complete=d;b.error=f};b.error=function(a,c,e){f&&f(a,
c,e);b.complete=d;b.error=f};return c.apply(this,[b])}var c=a.ajax,d=null,e={trackEventCategory:"jQuery.ajax",autoTracking:!0},f=[];a.ajaxGA={};a.ajaxGA.getOption=function(a){return e[a]};a.ajaxGA.setOption=function(a,b){if(typeof a=="string")typeof e[a]!="undefined"&&(e[a]=b);else for(key in a)typeof e[key]!="undefined"&&(e[key]=a[key])};a.ajaxGA.init=function(b,e){a(function(){c.apply(a,[{type:"GET",url:(document.location.protocol=="https:"?"https://ssl":"http://www")+".google-analytics.com/ga.js",
cache:!0,dataType:"script",success:function(){if(typeof _gat=="undefined")throw Error("Missing _gat");d=_gat._getTracker(b);e&&(a.isFunction(e)?e(d):typeof e=="string"?d._trackPageview(e):d._trackPageview());for(var c;c=f.shift();)c(d)}}])})};a.ajaxGA.doPageTrack=function(a){d==null?f.push(a):a(d)};a.ajaxGA.enable=function(){a.extend({ajax:b})};a.ajaxGA.disable=function(){a.extend({ajax:c})};a.ajaxGA.enable()})(jQuery);
$.beautyOfCode={settings:{autoLoad:!0,baseUrl:"http://alexgorbatchev.com.s3.amazonaws.com/pub/sh/2.1.382/",scripts:"scripts/",styles:"styles/",theme:"Default",brushes:["Xml","JScript","CSharp","Plain"],config:{},defaults:{},ready:function(){$.beautyOfCode.beautifyAll()}},init:function(a){a=$.extend({},$.beautyOfCode.settings,a);if(!a.config.clipboardSwf)a.config.clipboardSwf=a.baseUrl+a.scripts+"clipboard.swf";$(document).ready(function(){if(a.autoLoad){$.beautyOfCode.utils.loadCss(a.baseUrl+a.styles+
"shCore.css");$.beautyOfCode.utils.loadCss(a.baseUrl+a.styles+"shTheme"+a.theme+".css","shTheme");var b=[];b.push(a.baseUrl+a.scripts+"shCore.js");$.each(a.brushes,function(c,d){b.push(a.baseUrl+a.scripts+"shBrush"+d+".js")});$.beautyOfCode.utils.loadAllScripts(b,function(){a&&a.config&&$.extend(SyntaxHighlighter.config,a.config);a&&a.defaults&&$.extend(SyntaxHighlighter.defaults,a.defaults);a.ready()})}else a.ready()})},beautifyAll:function(a){var a=$.extend({},$.beautyOfCode.settings,a),b=[];$("pre.code, code.code").each(function(){var c=
$(this);b.push(c);c=self.utils.getBrush(c.data().brush);$.inArray(c,a.brushes)===-1&&a.brushes.push(c)});a.ready=function(){for(var a=0;a<=b.length-1;a++){var d=b[a].data();b[a].beautifyCode(d.brush)}};$.beautyOfCode.init(a)},utils:{loadScript:function(a,b){$.ajax({url:a,complete:function(){b()},type:"GET",dataType:"script",cache:!0})},loadAllScripts:function(a,b){!a||a.length==0?b():$.beautyOfCode.utils.loadScript(a[0],function(){$.beautyOfCode.utils.loadAllScripts(a.slice(1,a.length),b)})},loadCss:function(a,
b){var c=$("head")[0];if(a&&c){var d=document.createElement("link");d.setAttribute("rel","stylesheet");d.setAttribute("href",a);if(b)d.id=b;c.appendChild(d)}},addCss:function(a,b){var c=$("head")[0];if(a&&c){var d=document.createElement("style");d.setAttribute("type","text/css");if(b)d.id=b;d.styleSheet?d.styleSheet.cssText=a:$(d).text(a);c.appendChild(d)}},addCssForBrush:function(a,b){if(!a.isCssInitialized)$.beautyOfCode.utils.addCss(b.Style),a.isCssInitialized=!0},getBrush:function(a){var b={AppleScript:["applescript"],
AS3:["actionscript3","as3","as"],Bash:["bash","shell"],ColdFusion:["coldfusion","cf"],Cpp:["cpp","c","h","hpp"],CSharp:["c#","c-sharp","csharp","cs"],Css:["css"],Delphi:["delphi","pascal","pas"],Diff:["diff","patch"],Erlang:["erl","erlang"],Groovy:["groovy"],Java:["java"],JavaFX:["jfx","javafx"],JScript:["js","jscript","javascript","json"],Perl:["perl","pl"],Php:["php"],Plain:["text","plain"],Python:["py","python"],Ruby:["ruby","rails","ror","rb"],Sass:["sass","scss"],Scala:["scala"],Sql:["sql"],
Vb:["vb","vbnet"],Xml:["xml","xhtml","xslt","html"]},c;for(c in b)for(var d=0;d<=b[c].length-1;d++)if(b[c][d]==a)return c;return"Plain"}}};
$.fn.beautifyCode=function(a,b){this.each(function(a,d){var e=$(d),f=e.data(),g={"class-name":f.className,"first-line":f.firstLine,"tab-size":f.tabSize,"smart-tabs":f.smartTabs,ruler:f.ruler,gutter:f.gutter,highlight:f.highlight,toolbar:f.toolbar,collapse:f.collapse,"auto-links":f.autoLinks,light:f.light,"wrap-lines":f.warpLines,"html-script":f.htmlScript},f=f.brush?f.brush:"plain",h=e.text();$.browser.msie&&$.browser.version>9&&(h=h.replace(/\x0D\x0A|\x0D|\x0A/g,"\n\r"));g=$.extend({},SyntaxHighlighter.defaults,
b,g);if(g["html-script"]==!0)highlighter=new SyntaxHighlighter.HtmlScript(f);else if(f=SyntaxHighlighter.utils.findBrush(f))highlighter=new f;else return;$.beautyOfCode.utils.addCssForBrush(f,highlighter);highlighter.highlight(h,g);highlighter.source=d;e.replaceWith(highlighter.div)})};
(function(a,b,c){function d(b){if(!T){A=b;g(a.extend(m,a.data(A,j)));t=a(A);u=0;m.rel!=="nofollow"&&(t=a("."+M).filter(function(){return(a.data(this,j).rel||this.rel)===m.rel}),u=t.index(A),u===-1&&(t=t.add(A),u=t.length-1));if(!F){F=N=!0;x.show();if(m.returnFocus)try{A.blur(),a(A).one(s,function(){try{this.focus()}catch(a){}})}catch(c){}I.css({opacity:+m.opacity,cursor:m.overlayClose?"pointer":"auto"}).show();m.w=i(m.initialWidth,"x");m.h=i(m.initialHeight,"y");r.position(0);E&&B.bind("resize."+
U+" scroll."+U,function(){I.css({width:B.width(),height:B.height(),top:B.scrollTop(),left:B.scrollLeft()})}).trigger("resize."+U);f(o,m.onOpen);V.add(W).hide();X.html(m.close).show()}r.load(!0)}}function e(){var a,b=n+"Slideshow_",c="click."+n,d,g;m.slideshow&&t[1]?(d=function(){O.text(m.slideshowStop).unbind(c).bind(y,function(){if(u<t.length-1||m.loop)a=setTimeout(r.next,m.slideshowSpeed)}).bind(p,function(){clearTimeout(a)}).one(c+" "+q,g);x.removeClass(b+"off").addClass(b+"on");a=setTimeout(r.next,
m.slideshowSpeed)},g=function(){clearTimeout(a);O.text(m.slideshowStart).unbind([y,p,q,c].join(" ")).one(c,d);x.removeClass(b+"on").addClass(b+"off")},m.slideshowAuto?d():g()):x.removeClass(b+"off "+b+"on")}function f(b,c){c&&c.call(A);a.event.trigger(b)}function g(b){for(var c in b)a.isFunction(b[c])&&c.substring(0,2)!=="on"&&(b[c]=b[c].call(A));b.rel=b.rel||A.rel||"nofollow";b.href=b.href||a(A).attr("href");b.title=b.title||A.title;typeof b.href=="string"&&(b.href=a.trim(b.href))}function h(a){return m.photo||
/\.(gif|png|jpg|jpeg|bmp)(?:\?([^#]*))?(?:#(\.*))?$/i.test(a)}function i(a,b){b=b==="x"?B.width():B.height();return typeof a=="string"?Math.round(/%/.test(a)?b/100*parseInt(a,10):parseInt(a,10)):a}function k(c,d){var g=b.createElement("div");c&&(g.id=n+c);g.style.cssText=d||"";return a(g)}var l={transition:"elastic",speed:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,inline:!1,html:!1,iframe:!1,fastIframe:!0,
photo:!1,href:!1,title:!1,rel:!1,opacity:0.9,preloading:!0,current:"image {current} of {total}",previous:"previous",next:"next",close:"close",open:!1,returnFocus:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:!1},j="colorbox",n="cbox",o=n+"_open",p=n+"_load",y=n+"_complete",q=n+
"_cleanup",s=n+"_closed",C=n+"_purge",v=a.browser.msie&&!a.support.opacity,E=v&&a.browser.version<7,U=n+"_IE6",I,x,L,D,Y,Z,aa,ba,t,B,z,P,Q,W,ca,O,R,S,X,V,m={},J,K,G,H,A,u,w,F,N,T,da,ea,r,M=n+"Element";r=a.fn[j]=a[j]=function(b,c){var g=this,e;if(!g[0]&&g.selector)return g;b=b||{};c&&(b.onComplete=c);if(!g[0]||g.selector===void 0)g=a("<a/>"),b.open=!0;g.each(function(){a.data(this,j,a.extend({},a.data(this,j)||l,b));a(this).addClass(M)});e=b.open;a.isFunction(e)&&(e=e.call(g));e&&d(g[0]);return g};
r.init=function(){B=a(c);x=k().attr({id:j,"class":v?n+(E?"IE6":"IE"):""});I=k("Overlay",E?"position:absolute":"").hide();L=k("Wrapper");D=k("Content").append(z=k("LoadedContent","width:0; height:0; overflow:hidden"),Q=k("LoadingOverlay").add(k("LoadingGraphic")),W=k("Title"),ca=k("Current"),R=k("Next"),S=k("Previous"),O=k("Slideshow").bind(o,e),X=k("Close"));L.append(k().append(k("TopLeft"),Y=k("TopCenter"),k("TopRight")),k(!1,"clear:left").append(Z=k("MiddleLeft"),D,aa=k("MiddleRight")),k(!1,"clear:left").append(k("BottomLeft"),
ba=k("BottomCenter"),k("BottomRight"))).children().children().css({"float":"left"});P=k(!1,"position:absolute; width:9999px; visibility:hidden; display:none");a("body").prepend(I,x.append(L,P));D.children().hover(function(){a(this).addClass("hover")},function(){a(this).removeClass("hover")}).addClass("hover");J=Y.height()+ba.height()+D.outerHeight(!0)-D.height();K=Z.width()+aa.width()+D.outerWidth(!0)-D.width();G=z.outerHeight(!0);H=z.outerWidth(!0);x.css({"padding-bottom":J,"padding-right":K}).hide();
R.click(function(){r.next()});S.click(function(){r.prev()});X.click(function(){r.close()});V=R.add(S).add(ca).add(O);D.children().removeClass("hover");I.click(function(){m.overlayClose&&r.close()});a(b).bind("keydown."+n,function(a){var b=a.keyCode;F&&m.escKey&&b===27&&(a.preventDefault(),r.close());F&&m.arrowKey&&t[1]&&(b===37?(a.preventDefault(),S.click()):b===39&&(a.preventDefault(),R.click()))})};r.remove=function(){x.add(I).remove();a("."+M).removeData(j).removeClass(M)};r.position=function(a,
c){function d(a){Y[0].style.width=ba[0].style.width=D[0].style.width=a.style.width;Q[0].style.height=Q[1].style.height=D[0].style.height=Z[0].style.height=aa[0].style.height=a.style.height}var g,e=0,f=0;x.hide();m.fixed&&!E?x.css({position:"fixed"}):(e=B.scrollTop(),f=B.scrollLeft(),x.css({position:"absolute"}));m.right!==!1?f+=Math.max(B.width()-m.w-H-K-i(m.right,"x"),0):m.left!==!1?f+=i(m.left,"x"):f+=Math.max(B.width()-m.w-H-K,0)/2;m.bottom!==!1?e+=Math.max(b.documentElement.clientHeight-m.h-G-
J-i(m.bottom,"y"),0):m.top!==!1?e+=i(m.top,"y"):e+=Math.max(b.documentElement.clientHeight-m.h-G-J,0)/2;x.show();g=x.width()===m.w+H&&x.height()===m.h+G?0:a;L[0].style.width=L[0].style.height="9999px";x.dequeue().animate({width:m.w+H,height:m.h+G,top:e,left:f},{duration:g,complete:function(){d(this);N=!1;L[0].style.width=m.w+H+K+"px";L[0].style.height=m.h+G+J+"px";c&&c()},step:function(){d(this)}})};r.resize=function(a){if(F){a=a||{};a.width&&(m.w=i(a.width,"x")-H-K);a.innerWidth&&(m.w=i(a.innerWidth,
"x"));z.css({width:m.w});a.height&&(m.h=i(a.height,"y")-G-J);a.innerHeight&&(m.h=i(a.innerHeight,"y"));if(!a.innerHeight&&!a.height)a=z.wrapInner("<div style='overflow:auto'></div>").children(),m.h=a.height(),a.replaceWith(a.children());z.css({height:m.h});r.position(m.transition==="none"?0:m.speed)}};r.prep=function(b){function c(b){r.position(b,function(){function b(){v&&x[0].style.removeAttribute("filter")}var c,d,g,k,i=t.length,l,o;!F||(o=function(){clearTimeout(ea);Q.hide();f(y,m.onComplete)},
v&&w&&z.fadeIn(100),W.html(m.title).add(z).show(),i>1?(typeof m.current=="string"&&ca.html(m.current.replace(/\{current\}/,u+1).replace(/\{total\}/,i)).show(),R[m.loop||u<i-1?"show":"hide"]().html(m.next),S[m.loop||u?"show":"hide"]().html(m.previous),c=u?t[u-1]:t[i-1],g=u<i-1?t[u+1]:t[0],m.slideshow&&O.show(),m.preloading&&(k=a.data(g,j).href||g.href,d=a.data(c,j).href||c.href,k=a.isFunction(k)?k.call(g):k,d=a.isFunction(d)?d.call(c):d,h(k)&&(a("<img/>")[0].src=k),h(d)&&(a("<img/>")[0].src=d))):V.hide(),
m.iframe?(l=a("<iframe/>").addClass(n+"Iframe")[0],m.fastIframe?o():a(l).one("load",o),l.name=n+ +new Date,l.src=m.href,m.scrolling||(l.scrolling="no"),v&&(l.frameBorder=0,l.allowTransparency="true"),a(l).appendTo(z).one(C,function(){l.src="//about:blank"})):o(),m.transition==="fade"?x.fadeTo(e,1,b):b(),B.bind("resize."+n,function(){r.position(0)}))})}function d(){m.h=m.h||z.height();m.h=m.mh&&m.mh<m.h?m.mh:m.h;return m.h}function g(){m.w=m.w||z.width();m.w=m.mw&&m.mw<m.w?m.mw:m.w;return m.w}if(F){var e=
m.transition==="none"?0:m.speed;B.unbind("resize."+n);z.remove();z=k("LoadedContent").html(b);z.hide().appendTo(P.show()).css({width:g(),overflow:m.scrolling?"auto":"hidden"}).css({height:d()}).prependTo(D);P.hide();a(w).css({"float":"none"});E&&a("select").not(x.find("select")).filter(function(){return this.style.visibility!=="hidden"}).css({visibility:"hidden"}).one(q,function(){this.style.visibility="inherit"});m.transition==="fade"?x.fadeTo(e,0,function(){c(0)}):c(e)}};r.load=function(b){var c,
d,e=r.prep;N=!0;w=!1;A=t[u];b||g(a.extend(m,a.data(A,j)));f(C);f(p,m.onLoad);m.h=m.height?i(m.height,"y")-G-J:m.innerHeight&&i(m.innerHeight,"y");m.w=m.width?i(m.width,"x")-H-K:m.innerWidth&&i(m.innerWidth,"x");m.mw=m.w;m.mh=m.h;m.maxWidth&&(m.mw=i(m.maxWidth,"x")-H-K,m.mw=m.w&&m.w<m.mw?m.w:m.mw);m.maxHeight&&(m.mh=i(m.maxHeight,"y")-G-J,m.mh=m.h&&m.h<m.mh?m.h:m.mh);c=m.href;ea=setTimeout(function(){Q.show()},100);m.inline?(k().hide().insertBefore(a(c)[0]).one(C,function(){a(this).replaceWith(z.children())}),
e(a(c))):m.iframe?e(" "):m.html?e(m.html):h(c)?(a(w=new Image).addClass(n+"Photo").error(function(){m.title=!1;e(k("Error").text("This image could not be loaded"))}).load(function(){var a;w.onload=null;m.scalePhotos&&(d=function(){w.height-=w.height*a;w.width-=w.width*a},m.mw&&w.width>m.mw&&(a=(w.width-m.mw)/w.width,d()),m.mh&&w.height>m.mh&&(a=(w.height-m.mh)/w.height,d()));m.h&&(w.style.marginTop=Math.max(m.h-w.height,0)/2+"px");t[1]&&(u<t.length-1||m.loop)&&(w.style.cursor="pointer",w.onclick=
function(){r.next()});v&&(w.style.msInterpolationMode="bicubic");setTimeout(function(){e(w)},1)}),setTimeout(function(){w.src=c},1)):c&&P.load(c,m.data,function(b,c,d){e(c==="error"?k("Error").text("Request unsuccessful: "+d.statusText):a(this).contents())})};r.next=function(){!N&&t[1]&&(u<t.length-1||m.loop)&&(u=u<t.length-1?u+1:0,r.load())};r.prev=function(){!N&&t[1]&&(u||m.loop)&&(u=u?u-1:t.length-1,r.load())};r.close=function(){F&&!T&&(T=!0,F=!1,f(q,m.onCleanup),B.unbind("."+n+" ."+U),I.fadeTo(200,
0),x.stop().fadeTo(300,0,function(){x.add(I).css({opacity:1,cursor:"auto"}).hide();f(C);z.remove();setTimeout(function(){T=!1;f(s,m.onClosed)},1)}))};r.element=function(){return a(A)};r.settings=l;da=function(a){a.button!==0&&typeof a.button!="undefined"||a.ctrlKey||a.shiftKey||a.altKey||(a.preventDefault(),d(this))};a.fn.delegate?a(b).delegate("."+M,"click",da):a("."+M).live("click",da);a(r.init)})(jQuery,document,this);
jQuery.cookie=function(a,b,c){if(typeof b!="undefined"){c=c||{};if(b===null)b="",c.expires=-1;var d="";if(c.expires&&(typeof c.expires=="number"||c.expires.toUTCString))typeof c.expires=="number"?(d=new Date,d.setTime(d.getTime()+c.expires*864E5)):d=c.expires,d="; expires="+d.toUTCString();var e=c.path?"; path="+c.path:"",f=c.domain?"; domain="+c.domain:"",c=c.secure?"; secure":"";document.cookie=[a,"=",encodeURIComponent(b),d,e,f,c].join("")}else{b=null;if(document.cookie&&document.cookie!=""){c=
document.cookie.split(";");for(d=0;d<c.length;d++)if(e=jQuery.trim(c[d]),e.substring(0,a.length+1)==a+"="){b=decodeURIComponent(e.substring(a.length+1));break}}return b}};
(function(a){a._i18n={trans:{},"default":"en",language:"en"};a.i18n=function(){var b=function(b,c){var f=!1;a._i18n.trans[a._i18n.language]&&a._i18n.trans[a._i18n.language][b]&&a._i18n.trans[a._i18n.language][b][c]?f=a._i18n.trans[a._i18n.language][b][c]:a._i18n.trans[a._i18n["default"]]&&a._i18n.trans[a._i18n["default"]][b]&&a._i18n.trans[a._i18n["default"]][b][c]&&(f=a._i18n.trans[a._i18n["default"]][b][c]);return f||c};if(arguments.length<2)return a._i18n.language=arguments[0],a._i18n.language;
else if(typeof arguments[1]=="string")return b=b(arguments[0],arguments[1]),arguments[2]&&typeof arguments[2]=="object"?a.format(b,arguments[2]):b;else{var c=arguments[0].split("."),b=c[0],c=c[1]||"jQuery";a._i18n.trans[b]||(a._i18n.trans[b]={});a._i18n.trans[b][c]?a.extend(a._i18n.trans[b][c],arguments[1]):a._i18n.trans[b][c]=arguments[1]}}})(jQuery);
(function(a){function b(b,d){var e=function(d){d=a[b][d]||[];return typeof d=="string"?d.split(/,?\s+/):d}("getter");return a.inArray(d,e)!=-1}a.fn.jPlayer=function(c){var d=typeof c=="string",e=Array.prototype.slice.call(arguments,1);if(d&&c.substring(0,1)=="_")return this;if(d&&b("jPlayer",c,e)){var f=a.data(this[0],"jPlayer");return f?f[c].apply(f,e):void 0}return this.each(function(){var b=a.data(this,"jPlayer");!b&&!d&&a.data(this,"jPlayer",new a.jPlayer(this,c))._init();b&&d&&a.isFunction(b[c])&&
b[c].apply(b,e)})};a.jPlayer=function(b,d){this.options=a.extend({},d);this.element=a(b)};a.jPlayer.getter="jPlayerOnProgressChange jPlayerOnSoundComplete jPlayerVolume jPlayerReady getData jPlayerController";a.jPlayer.defaults={cssPrefix:"jqjp",swfPath:"js",volume:80,oggSupport:!1,nativeSupport:!0,preload:"none",customCssIds:!1,graphicsFix:!0,errorAlerts:!1,warningAlerts:!1,position:"absolute",width:"0",height:"0",top:"0",left:"0",quality:"high",bgcolor:"#ffffff"};a.jPlayer._config={version:"1.2.0",
swfVersionRequired:"1.2.0",swfVersion:"unknown",jPlayerControllerId:void 0,delayedCommandId:void 0,isWaitingForPlay:!1,isFileSet:!1};a.jPlayer._diag={isPlaying:!1,src:"",loadPercent:0,playedPercentRelative:0,playedPercentAbsolute:0,playedTime:0,totalTime:0};a.jPlayer._cssId={play:"jplayer_play",pause:"jplayer_pause",stop:"jplayer_stop",loadBar:"jplayer_load_bar",playBar:"jplayer_play_bar",volumeMin:"jplayer_volume_min",volumeMax:"jplayer_volume_max",volumeBar:"jplayer_volume_bar",volumeBarValue:"jplayer_volume_bar_value"};
a.jPlayer.count=0;a.jPlayer.timeFormat={showHour:!1,showMin:!0,showSec:!0,padHour:!1,padMin:!0,padSec:!0,sepHour:":",sepMin:":",sepSec:""};a.jPlayer.convertTime=function(b){var d=new Date(b),e=d.getUTCHours(),b=d.getUTCMinutes(),d=d.getUTCSeconds(),e=a.jPlayer.timeFormat.padHour&&e<10?"0"+e:e,b=a.jPlayer.timeFormat.padMin&&b<10?"0"+b:b,d=a.jPlayer.timeFormat.padSec&&d<10?"0"+d:d;return(a.jPlayer.timeFormat.showHour?e+a.jPlayer.timeFormat.sepHour:"")+(a.jPlayer.timeFormat.showMin?b+a.jPlayer.timeFormat.sepMin:
"")+(a.jPlayer.timeFormat.showSec?d+a.jPlayer.timeFormat.sepSec:"")};a.jPlayer.prototype={_init:function(){var b=this,d=this.element;this.config=a.extend({},a.jPlayer.defaults,this.options,a.jPlayer._config);this.config.diag=a.extend({},a.jPlayer._diag);this.config.cssId={};this.config.cssSelector={};this.config.cssDisplay={};this.config.clickHandler={};this.element.data("jPlayer.config",this.config);a.extend(this.config,{id:this.element.attr("id"),swf:this.config.swfPath+(this.config.swfPath!=""&&
this.config.swfPath.slice(-1)!="/"?"/":"")+"Jplayer.swf",fid:this.config.cssPrefix+"_flash_"+a.jPlayer.count,aid:this.config.cssPrefix+"_audio_"+a.jPlayer.count,hid:this.config.cssPrefix+"_force_"+a.jPlayer.count,i:a.jPlayer.count,volume:this._limitValue(this.config.volume,0,100),autobuffer:this.config.preload!="none"});a.jPlayer.count++;if(this.config.ready!=void 0)a.isFunction(this.config.ready)?this.jPlayerReadyCustom=this.config.ready:this._warning("Constructor's ready option is not a function.");
this.config.audio=document.createElement("audio");this.config.audio.id=this.config.aid;a.extend(this.config,{canPlayMP3:!(!this.config.audio.canPlayType||!(""!=this.config.audio.canPlayType("audio/mpeg")&&"no"!=this.config.audio.canPlayType("audio/mpeg"))),canPlayOGG:!(!this.config.audio.canPlayType||!(""!=this.config.audio.canPlayType("audio/ogg")&&"no"!=this.config.audio.canPlayType("audio/ogg"))),aSel:a("#"+this.config.aid)});a.extend(this.config,{html5:!!(this.config.oggSupport?this.config.canPlayOGG||
this.config.canPlayMP3:this.config.canPlayMP3)});a.extend(this.config,{usingFlash:!(this.config.html5&&this.config.nativeSupport),usingMP3:!(this.config.oggSupport&&this.config.canPlayOGG&&this.config.nativeSupport)});var e={setButtons:function(a,d){b.config.diag.isPlaying=d;b.config.cssId.play!=void 0&&b.config.cssId.pause!=void 0&&(d?(b.config.cssSelector.play.css("display","none"),b.config.cssSelector.pause.css("display",b.config.cssDisplay.pause)):(b.config.cssSelector.play.css("display",b.config.cssDisplay.play),
b.config.cssSelector.pause.css("display","none")));if(d)b.config.isWaitingForPlay=!1}},f={setFile:function(a,g){try{b._getMovie().fl_setFile_mp3(g),b.config.autobuffer&&d.trigger("jPlayer.load"),b.config.diag.src=g,b.config.isFileSet=!0,d.trigger("jPlayer.setButtons",!1)}catch(e){b._flashError(e)}},clearFile:function(){try{d.trigger("jPlayer.setButtons",!1),b._getMovie().fl_clearFile_mp3(),b.config.diag.src="",b.config.isFileSet=!1}catch(a){b._flashError(a)}},load:function(){try{b._getMovie().fl_load_mp3()}catch(a){b._flashError(a)}},
play:function(){try{b._getMovie().fl_play_mp3()&&d.trigger("jPlayer.setButtons",!0)}catch(a){b._flashError(a)}},pause:function(){try{b._getMovie().fl_pause_mp3()&&d.trigger("jPlayer.setButtons",!1)}catch(a){b._flashError(a)}},stop:function(){try{b._getMovie().fl_stop_mp3()&&d.trigger("jPlayer.setButtons",!1)}catch(a){b._flashError(a)}},playHead:function(a,g){try{b._getMovie().fl_play_head_mp3(g)&&d.trigger("jPlayer.setButtons",!0)}catch(e){b._flashError(e)}},playHeadTime:function(a,g){try{b._getMovie().fl_play_head_time_mp3(g)&&
d.trigger("jPlayer.setButtons",!0)}catch(e){b._flashError(e)}},volume:function(a,d){b.config.volume=d;try{b._getMovie().fl_volume_mp3(d)}catch(g){b._flashError(g)}}},g={setFile:function(a,g,e){b.config.diag.src=b.config.usingMP3?g:e;b.config.isFileSet&&!b.config.isWaitingForPlay&&d.trigger("jPlayer.pause");b.config.audio.autobuffer=b.config.autobuffer;b.config.audio.preload=b.config.preload;b.config.autobuffer?(b.config.audio.src=b.config.diag.src,b.config.audio.load()):b.config.isWaitingForPlay=
!0;b.config.isFileSet=!0;b.jPlayerOnProgressChange(0,0,0,0,0);clearInterval(b.config.jPlayerControllerId);if(b.config.autobuffer)b.config.jPlayerControllerId=window.setInterval(function(){b.jPlayerController(!1)},100);clearInterval(b.config.delayedCommandId)},clearFile:function(){b.setFile("","");b.config.isWaitingForPlay=!1;b.config.isFileSet=!1},load:function(){if(b.config.isFileSet&&b.config.isWaitingForPlay)b.config.audio.autobuffer=!0,b.config.audio.preload="auto",b.config.audio.src=b.config.diag.src,
b.config.audio.load(),b.config.isWaitingForPlay=!1,clearInterval(b.config.jPlayerControllerId),b.config.jPlayerControllerId=window.setInterval(function(){b.jPlayerController(!1)},100)},play:function(){if(b.config.isFileSet){if(b.config.isWaitingForPlay)b.config.audio.src=b.config.diag.src,b.config.audio.load();b.config.audio.play();d.trigger("jPlayer.setButtons",!0);clearInterval(b.config.jPlayerControllerId);b.config.jPlayerControllerId=window.setInterval(function(){b.jPlayerController(!1)},100);
clearInterval(b.config.delayedCommandId)}},pause:function(){b.config.isFileSet&&(b.config.audio.pause(),d.trigger("jPlayer.setButtons",!1),clearInterval(b.config.delayedCommandId))},stop:function(){if(b.config.isFileSet)try{d.trigger("jPlayer.pause"),b.config.audio.currentTime=0,clearInterval(b.config.jPlayerControllerId),b.config.jPlayerControllerId=window.setInterval(function(){b.jPlayerController(!0)},100)}catch(a){clearInterval(b.config.delayedCommandId),b.config.delayedCommandId=window.setTimeout(function(){b.stop()},
100)}},playHead:function(a,g){if(b.config.isFileSet)try{d.trigger("jPlayer.load");if(typeof b.config.audio.buffered=="object"&&b.config.audio.buffered.length>0)b.config.audio.currentTime=g*b.config.audio.buffered.end(b.config.audio.buffered.length-1)/100;else if(b.config.audio.duration>0&&!isNaN(b.config.audio.duration))b.config.audio.currentTime=g*b.config.audio.duration/100;else throw"e";d.trigger("jPlayer.play")}catch(e){d.trigger("jPlayer.play"),d.trigger("jPlayer.pause"),b.config.delayedCommandId=
window.setTimeout(function(){b.playHead(g)},100)}},playHeadTime:function(a,g){if(b.config.isFileSet)try{d.trigger("jPlayer.load"),b.config.audio.currentTime=g/1E3,d.trigger("jPlayer.play")}catch(e){d.trigger("jPlayer.play"),d.trigger("jPlayer.pause"),b.config.delayedCommandId=window.setTimeout(function(){b.playHeadTime(g)},100)}},volume:function(a,d){b.config.volume=d;b.config.audio.volume=d/100;b.jPlayerVolume(d)}};this.config.usingFlash?a.extend(e,f):a.extend(e,g);for(var h in e)f="jPlayer."+h,
this.element.unbind(f),this.element.bind(f,e[h]);if(this.config.usingFlash)if(this._checkForFlash(8))if(a.browser.msie){h='<object id="'+this.config.fid+'"';h+=' classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"';h+=' codebase="'+document.URL.substring(0,document.URL.indexOf(":"))+'://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab"';h+=' type="application/x-shockwave-flash"';h+=' width="'+this.config.width+'" height="'+this.config.height+'">';h+="</object>";e=[];e[0]='<param name="movie" value="'+
this.config.swf+'" />';e[1]='<param name="quality" value="high" />';e[2]='<param name="FlashVars" value="id='+escape(this.config.id)+"&fid="+escape(this.config.fid)+"&vol="+this.config.volume+'" />';e[3]='<param name="allowScriptAccess" value="always" />';e[4]='<param name="bgcolor" value="'+this.config.bgcolor+'" />';h=document.createElement(h);for(f=0;f<e.length;f++)h.appendChild(document.createElement(e[f]));this.element.html(h)}else e='<embed name="'+this.config.fid+'" id="'+this.config.fid+'" src="'+
this.config.swf+'"',e+=' width="'+this.config.width+'" height="'+this.config.height+'" bgcolor="'+this.config.bgcolor+'"',e+=' quality="high" FlashVars="id='+escape(this.config.id)+"&fid="+escape(this.config.fid)+"&vol="+this.config.volume+'"',e+=' allowScriptAccess="always"',e+=' type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" />',this.element.html(e);else this.element.html("<p>Flash 8 or above is not installed. <a href='http://get.adobe.com/flashplayer'>Get Flash!</a></p>");
else this.config.audio.autobuffer=this.config.autobuffer,this.config.audio.preload=this.config.preload,this.config.audio.addEventListener("canplay",function(){var a=0.1*Math.random();b.config.audio.volume=(b.config.volume+(b.config.volume<50?a:-a))/100},!1),this.config.audio.addEventListener("ended",function(){clearInterval(b.config.jPlayerControllerId);b.jPlayerOnSoundComplete()},!1),this.element.append(this.config.audio);this.element.css({position:this.config.position,top:this.config.top,left:this.config.left});
this.config.graphicsFix&&(this.element.append('<div id="'+this.config.hid+'"></div>'),a.extend(this.config,{hSel:a("#"+this.config.hid)}),this.config.hSel.css({"text-indent":"-9999px"}));this.config.customCssIds||a.each(a.jPlayer._cssId,function(a,d){b.cssId(a,d)});this.config.usingFlash||(this.element.css({left:"-9999px"}),window.setTimeout(function(){b.volume(b.config.volume);b.jPlayerReady()},100))},jPlayerReady:function(a){this.config.usingFlash?(this.config.swfVersion=a,this.config.swfVersionRequired!=
this.config.swfVersion&&this._error("jPlayer's JavaScript / SWF version mismatch!\n\nJavaScript requires SWF : "+this.config.swfVersionRequired+"\nThe Jplayer.swf used is : "+this.config.swfVersion)):this.config.swfVersion="n/a";this.jPlayerReadyCustom()},jPlayerReadyCustom:function(){},setFile:function(a,b){this.element.trigger("jPlayer.setFile",[a,b])},clearFile:function(){this.element.trigger("jPlayer.clearFile")},load:function(){this.element.trigger("jPlayer.load")},play:function(){this.element.trigger("jPlayer.play")},
pause:function(){this.element.trigger("jPlayer.pause")},stop:function(){this.element.trigger("jPlayer.stop")},playHead:function(a){this.element.trigger("jPlayer.playHead",[a])},playHeadTime:function(a){this.element.trigger("jPlayer.playHeadTime",[a])},volume:function(a){a=this._limitValue(a,0,100);this.element.trigger("jPlayer.volume",[a])},cssId:function(b,d){var e=this;if(typeof d=="string")if(a.jPlayer._cssId[b]){this.config.cssId[b]!=void 0&&this.config.cssSelector[b].unbind("click",this.config.clickHandler[b]);
this.config.cssId[b]=d;this.config.cssSelector[b]=a("#"+d);this.config.clickHandler[b]=function(d){e[b](d);a(this).blur();return!1};this.config.cssSelector[b].click(this.config.clickHandler[b]);var f=this.config.cssSelector[b].css("display");if(b=="play")this.config.cssDisplay.pause=f;b=="pause"&&f=="none"||(this.config.cssDisplay[b]=f,b=="pause"&&this.config.cssSelector[b].css("display","none"))}else this._warning("Unknown/Illegal function in cssId\n\njPlayer('cssId', '"+b+"', '"+d+"')");else this._warning("cssId CSS Id must be a string\n\njPlayer('cssId', '"+
b+"', "+d+")")},loadBar:function(a){if(this.config.cssId.loadBar!=void 0){var b=this.config.cssSelector.loadBar.offset(),a=a.pageX-b.left,b=this.config.cssSelector.loadBar.width();this.playHead(100*a/b)}},playBar:function(a){this.loadBar(a)},onProgressChange:function(b){a.isFunction(b)?this.onProgressChangeCustom=b:this._warning("onProgressChange parameter is not a function.")},onProgressChangeCustom:function(){},jPlayerOnProgressChange:function(a,b,e,f,g){this.config.diag.loadPercent=a;this.config.diag.playedPercentRelative=
b;this.config.diag.playedPercentAbsolute=e;this.config.diag.playedTime=f;this.config.diag.totalTime=g;this.config.cssId.loadBar!=void 0&&this.config.cssSelector.loadBar.width(a+"%");this.config.cssId.playBar!=void 0&&this.config.cssSelector.playBar.width(b+"%");this.onProgressChangeCustom(a,b,e,f,g);this._forceUpdate()},jPlayerController:function(a){var b=0,e=0,f=0,g=0,h=0;this.config.audio.readyState>=1&&(b=this.config.audio.currentTime*1E3,e=this.config.audio.duration*1E3,e=isNaN(e)?0:e,f=e>0?100*
b/e:0,typeof this.config.audio.buffered=="object"&&this.config.audio.buffered.length>0?(g=100*this.config.audio.buffered.end(this.config.audio.buffered.length-1)/this.config.audio.duration,h=100*this.config.audio.currentTime/this.config.audio.buffered.end(this.config.audio.buffered.length-1)):(g=100,h=f));!this.config.diag.isPlaying&&g>=100&&clearInterval(this.config.jPlayerControllerId);a?this.jPlayerOnProgressChange(g,0,0,0,e):this.jPlayerOnProgressChange(g,h,f,b,e)},volumeMin:function(){this.volume(0)},
volumeMax:function(){this.volume(100)},volumeBar:function(a){if(this.config.cssId.volumeBar!=void 0){var b=this.config.cssSelector.volumeBar.offset(),a=a.pageX-b.left,b=this.config.cssSelector.volumeBar.width();this.volume(100*a/b)}},volumeBarValue:function(a){this.volumeBar(a)},jPlayerVolume:function(a){this.config.cssId.volumeBarValue!=null&&(this.config.cssSelector.volumeBarValue.width(a+"%"),this._forceUpdate())},onSoundComplete:function(b){a.isFunction(b)?this.onSoundCompleteCustom=b:this._warning("onSoundComplete parameter is not a function.")},
onSoundCompleteCustom:function(){},jPlayerOnSoundComplete:function(){this.element.trigger("jPlayer.setButtons",!1);this.onSoundCompleteCustom()},getData:function(a){for(var b=a.split("."),e=this.config,f=0;f<b.length;f++)if(e[b[f]]!=void 0)e=e[b[f]];else{this._warning("Undefined data requested.\n\njPlayer('getData', '"+a+"')");return}return e},_getMovie:function(){return document[this.config.fid]},_checkForFlash:function(a){var b=!1;if(window.ActiveXObject)try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+
a),b=!0}catch(e){}else navigator.plugins&&navigator.mimeTypes.length>0&&navigator.plugins["Shockwave Flash"]&&navigator.plugins["Shockwave Flash"].description.replace(/.*\s(\d+\.\d+).*/,"$1")>=a&&(b=!0);return b},_forceUpdate:function(){this.config.graphicsFix&&this.config.hSel.text(""+Math.random())},_limitValue:function(a,b,e){return a<b?b:a>e?e:a},_flashError:function(a){this._error("Problem with Flash component.\n\nCheck the swfPath points at the Jplayer.swf path.\n\nswfPath = "+this.config.swfPath+
"\nurl: "+this.config.swf+"\n\nError: "+a.message)},_error:function(a){this.config.errorAlerts&&this._alert("Error!\n\n"+a)},_warning:function(a){this.config.warningAlerts&&this._alert("Warning!\n\n"+a)},_alert:function(a){alert("jPlayer "+this.config.version+" : id='"+this.config.id+"' : "+a)}}})(jQuery);
(function(a){a.vakata={};a.vakata.css={get_css:function(a,c,d){var a=a.toLowerCase(),e=d.cssRules||d.rules,f=0;do{if(e.length&&f>e.length+5)break;if(e[f].selectorText&&e[f].selectorText.toLowerCase()==a)return c===!0?(d.removeRule&&d.removeRule(f),d.deleteRule&&d.deleteRule(f),!0):e[f]}while(e[++f]);return!1},add_css:function(b,c){if(a.jstree.css.get_css(b,!1,c))return!1;c.insertRule?c.insertRule(b+" { }",0):c.addRule(b,null,0);return a.vakata.css.get_css(b)},remove_css:function(b,c){return a.vakata.css.get_css(b,
!0,c)},add_sheet:function(a){var c;if(a.str)return c=document.createElement("style"),c.setAttribute("type","text/css"),c.styleSheet?(document.getElementsByTagName("head")[0].appendChild(c),c.styleSheet.cssText=a.str):(c.appendChild(document.createTextNode(a.str)),document.getElementsByTagName("head")[0].appendChild(c)),c.sheet||c.styleSheet;if(a.url)if(document.createStyleSheet)try{document.createStyleSheet(a.url)}catch(d){}else return c=document.createElement("link"),c.rel="stylesheet",c.type="text/css",
c.media="all",c.href=a.url,document.getElementsByTagName("head")[0].appendChild(c),c.styleSheet}}})(jQuery);
(function(a){var b=[],c=-1,d={},e={},f=!1;a.fn.jstree=function(c){var e=typeof c=="string",f=Array.prototype.slice.call(arguments,1),k=this;!e&&a.meta&&f.push(a.metadata.get(this).jstree);c=!e&&f.length?a.extend.apply(null,[!0,c].concat(f)):c;if(e&&c.substring(0,1)=="_")return k;e?this.each(function(){var d=b[a.data(this,"jstree-instance-id")],d=d&&a.isFunction(d[c])?d[c].apply(d,f):d;if(typeof d!=="undefined"&&(c.indexOf("is_"===0)||d!==!0&&d!==!1))return k=d,!1}):this.each(function(){var e=a.data(this,
"jstree-instance-id"),f=!1;typeof e!=="undefined"&&b[e]&&b[e].destroy();e=parseInt(b.push({}),10)-1;a.data(this,"jstree-instance-id",e);c||(c={});c.plugins=a.isArray(c.plugins)?c.plugins:a.jstree.defaults.plugins;a.inArray("core",c.plugins)===-1&&c.plugins.unshift("core");f=a.extend(!0,{},a.jstree.defaults,c);f.plugins=c.plugins;a.each(d,function(b){a.inArray(b,f.plugins)===-1&&(f[b]=null,delete f[b])});b[e]=new a.jstree._instance(e,a(this).addClass("jstree jstree-"+e),f);a.each(b[e]._get_settings().plugins,
function(a,c){b[e].data[c]={}});a.each(b[e]._get_settings().plugins,function(a,c){d[c]&&d[c].__init.apply(b[e])});b[e].init()});return k};a.jstree={defaults:{plugins:[]},_focused:function(){return b[c]||null},_reference:function(c){if(b[c])return b[c];var d=a(c);!d.length&&typeof c==="string"&&(d=a("#"+c));return!d.length?null:b[d.closest(".jstree").data("jstree-instance-id")]||null},_instance:function(b,c,d){this.data={core:{}};this.get_settings=function(){return a.extend(!0,{},d)};this._get_settings=
function(){return d};this.get_index=function(){return b};this.get_container=function(){return c};this._set_settings=function(b){d=a.extend(!0,{},d,b)}},_fn:{},plugin:function(b,c){c=a.extend({},{__init:a.noop,__destroy:a.noop,_fn:{},defaults:!1},c);d[b]=c;a.jstree.defaults[b]=c.defaults;a.each(c._fn,function(c,d){d.plugin=b;d.old=a.jstree._fn[c];a.jstree._fn[c]=function(){var b,g=d,e=Array.prototype.slice.call(arguments);b=new a.Event("before.jstree");var f=!1;do{if(g&&g.plugin&&a.inArray(g.plugin,
this._get_settings().plugins)!==-1)break;g=g.old}while(g);if(g&&(b=this.get_container().triggerHandler(b,{func:c,inst:this,args:e}),b!==!1))return typeof b!=="undefined"&&(e=b),b=c.indexOf("_")===0?g.apply(this,e):g.apply(a.extend({},this,{__callback:function(a){this.get_container().triggerHandler(c+".jstree",{inst:this,args:e,rslt:a,rlbk:f})},__rollback:function(){return f=this.get_rollback()},__call_old:function(a){return g.old.apply(this,a?Array.prototype.slice.call(arguments,1):e)}}),e)};a.jstree._fn[c].old=
d.old;a.jstree._fn[c].plugin=b})},rollback:function(c){c&&(a.isArray(c)||(c=[c]),a.each(c,function(a,c){b[c.i].set_rollback(c.h,c.d)}))}};a.jstree._fn=a.jstree._instance.prototype={};a(function(){var b=navigator.userAgent.toLowerCase(),c=(b.match(/.+?(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[0,"0"])[1],d=".jstree ul, .jstree li { display:block; margin:0 0 0 0; padding:0 0 0 0; list-style-type:none; } .jstree li { display:block; min-height:18px; line-height:18px; white-space:nowrap; margin-left:18px; } .jstree-rtl li { margin-left:0; margin-right:18px; } .jstree > ul > li { margin-left:0px; } .jstree-rtl > ul > li { margin-right:0px; } .jstree ins { display:inline-block; text-decoration:none; width:18px; height:18px; margin:0 0 0 0; padding:0; } .jstree a { display:inline-block; line-height:16px; height:16px; color:black; white-space:nowrap; text-decoration:none; padding:1px 2px; margin:0; } .jstree a:focus { outline: none; } .jstree a > ins { height:16px; width:16px; } .jstree a > .jstree-icon { margin-right:3px; } .jstree-rtl a > .jstree-icon { margin-left:3px; margin-right:0; } li.jstree-open > ul { display:block; } li.jstree-closed > ul { display:none; } ";
/msie/.test(b)&&parseInt(c,10)==6&&(f=!0,d+=".jstree li { height:18px; margin-left:0; margin-right:0; } .jstree li li { margin-left:18px; } .jstree-rtl li li { margin-left:0px; margin-right:18px; } li.jstree-open ul { display:block; } li.jstree-closed ul { display:none !important; } .jstree li a { display:inline; border-width:0 !important; padding:0px 2px !important; } .jstree li a ins { height:16px; width:16px; margin-right:3px; } .jstree-rtl li a ins { margin-right:0px; margin-left:3px; } ");/msie/.test(b)&&
parseInt(c,10)==7&&(d+=".jstree li a { border-width:0 !important; padding:0px 2px !important; } ");a.vakata.css.add_sheet({str:d})});a.jstree.plugin("core",{__init:function(){this.data.core.to_open=a.map(a.makeArray(this.get_settings().core.initially_open),function(a){return"#"+a.toString().replace(/^#/,"").replace("\\/","/").replace("/","\\/")})},defaults:{html_titles:!1,animation:500,initially_open:[],rtl:!1,strings:{loading:"Loading ...",new_node:"New node"}},_fn:{init:function(){this.set_focus();
this._get_settings().core.rtl&&this.get_container().addClass("jstree-rtl").css("direction","rtl");this.get_container().html("<ul><li class='jstree-last jstree-leaf'><ins>&#160;</ins><a class='jstree-loading' href='#'><ins class='jstree-icon'>&#160;</ins>"+this._get_settings().core.strings.loading+"</a></li></ul>");this.data.core.li_height=this.get_container().find("ul li.jstree-closed, ul li.jstree-leaf").eq(0).height()||18;this.get_container().delegate("li > ins","click.jstree",a.proxy(function(b){var c=
a(b.target);c.is("ins")&&b.pageY-c.offset().top<this.data.core.li_height&&this.toggle_node(c)},this)).bind("mousedown.jstree",a.proxy(function(){this.set_focus()},this)).bind("dblclick.jstree",function(){var a;if(document.selection&&document.selection.empty)document.selection.empty();else if(window.getSelection){a=window.getSelection();try{a.removeAllRanges(),a.collapse()}catch(b){}}});this.__callback();this.load_node(-1,function(){this.loaded();this.reopen()})},destroy:function(){var e,f=this.get_index(),
i=this._get_settings(),k=this;a.each(i.plugins,function(a,b){try{d[b].__destroy.apply(k)}catch(c){}});this.__callback();if(this.is_focused())for(e in b)if(b.hasOwnProperty(e)&&e!=f){b[e].set_focus();break}f===c&&(c=-1);this.get_container().unbind(".jstree").undelegate(".jstree").removeData("jstree-instance-id").find("[class^='jstree']").andSelf().attr("class",function(){return this.className.replace(/jstree[^ ]*|$/ig,"")});b[f]=null;delete b[f]},save_opened:function(){var a=this;this.data.core.to_open=
[];this.get_container().find(".jstree-open").each(function(){a.data.core.to_open.push("#"+this.id.toString().replace(/^#/,"").replace("\\/","/").replace("/","\\/"))});this.__callback(a.data.core.to_open)},reopen:function(b){var c=this,d=!0,e=[],f=[];if(!b)this.data.core.reopen=!1,this.data.core.refreshing=!0;if(this.data.core.to_open.length&&(a.each(this.data.core.to_open,function(b,c){if(c=="#")return!0;a(c).length&&a(c).is(".jstree-closed")?e.push(c):f.push(c)}),e.length))this.data.core.to_open=
f,a.each(e,function(a,b){c.open_node(b,function(){c.reopen(!0)},!0)}),d=!1;if(d)this.data.core.reopen&&clearTimeout(this.data.core.reopen),this.data.core.reopen=setTimeout(function(){c.__callback({},c)},50),this.data.core.refreshing=!1},refresh:function(a){var b=this;this.save_opened();a||(a=-1);(a=this._get_node(a))||(a=-1);a!==-1&&a.children("UL").remove();this.load_node(a,function(){b.__callback({obj:a});b.reopen()})},loaded:function(){this.__callback()},set_focus:function(){var b=a.jstree._focused();
b&&b!==this&&b.get_container().removeClass("jstree-focused");b!==this&&(this.get_container().addClass("jstree-focused"),c=this.get_index());this.__callback()},is_focused:function(){return c==this.get_index()},_get_node:function(b){var c=a(b,this.get_container());if(c.is(".jstree")||b==-1)return-1;c=c.closest("li",this.get_container());return c.length?c:!1},_get_next:function(a,b){a=this._get_node(a);return a===-1?this.get_container().find("> ul > li:first-child"):!a.length?!1:b?a.nextAll("li").size()>
0?a.nextAll("li:eq(0)"):!1:a.hasClass("jstree-open")?a.find("li:eq(0)"):a.nextAll("li").size()>0?a.nextAll("li:eq(0)"):a.parentsUntil(".jstree","li").next("li").eq(0)},_get_prev:function(a,b){a=this._get_node(a);if(a===-1)return this.get_container().find("> ul > li:last-child");if(!a.length)return!1;if(b)return a.prevAll("li").length>0?a.prevAll("li:eq(0)"):!1;if(a.prev("li").length){for(a=a.prev("li").eq(0);a.hasClass("jstree-open");)a=a.children("ul:eq(0)").children("li:last");return a}else{var c=
a.parentsUntil(".jstree","li:eq(0)");return c.length?c:!1}},_get_parent:function(a){a=this._get_node(a);if(a==-1||!a.length)return!1;a=a.parentsUntil(".jstree","li:eq(0)");return a.length?a:-1},_get_children:function(a){a=this._get_node(a);return a===-1?this.get_container().children("ul:eq(0)").children("li"):!a.length?!1:a.children("ul:eq(0)").children("li")},get_path:function(a,b){var c=[],d=this,a=this._get_node(a);if(a===-1||!a||!a.length)return!1;a.parentsUntil(".jstree","li").each(function(){c.push(b?
this.id:d.get_text(this))});c.reverse();c.push(b?a.attr("id"):this.get_text(a));return c},is_open:function(a){return(a=this._get_node(a))&&a!==-1&&a.hasClass("jstree-open")},is_closed:function(a){return(a=this._get_node(a))&&a!==-1&&a.hasClass("jstree-closed")},is_leaf:function(a){return(a=this._get_node(a))&&a!==-1&&a.hasClass("jstree-leaf")},open_node:function(a,b,c){a=this._get_node(a);if(!a.length)return!1;if(!a.hasClass("jstree-closed"))return b&&b.call(),!1;var d=c||f?0:this._get_settings().core.animation,
e=this;this._is_loaded(a)?(d&&a.children("ul").css("display","none"),a.removeClass("jstree-closed").addClass("jstree-open").children("a").removeClass("jstree-loading"),d&&a.children("ul").stop(!0).slideDown(d,function(){this.style.display=""}),this.__callback({obj:a}),b&&b.call()):(a.children("a").addClass("jstree-loading"),this.load_node(a,function(){e.open_node(a,b,c)},b))},close_node:function(a,b){var a=this._get_node(a),c=b||f?0:this._get_settings().core.animation;if(!a.length||!a.hasClass("jstree-open"))return!1;
c&&a.children("ul").attr("style","display:block !important");a.removeClass("jstree-open").addClass("jstree-closed");c&&a.children("ul").stop(!0).slideUp(c,function(){this.style.display=""});this.__callback({obj:a})},toggle_node:function(a){a=this._get_node(a);if(a.hasClass("jstree-closed"))return this.open_node(a);if(a.hasClass("jstree-open"))return this.close_node(a)},open_all:function(a,b){a=a?this._get_node(a):this.get_container();if(!a||a===-1)a=this.get_container();b?a=a.find("li.jstree-closed"):
(b=a,a=a.is(".jstree-closed")?a.find("li.jstree-closed").andSelf():a.find("li.jstree-closed"));var c=this;a.each(function(){var a=this;c._is_loaded(this)?c.open_node(this,!1,!0):c.open_node(this,function(){c.open_all(a,b)},!0)});b.find("li.jstree-closed").length===0&&this.__callback({obj:b})},close_all:function(a){var b=this,a=a?this._get_node(a):this.get_container();if(!a||a===-1)a=this.get_container();a.find("li.jstree-open").andSelf().each(function(){b.close_node(this)});this.__callback({obj:a})},
clean_node:function(b){b=b&&b!=-1?a(b):this.get_container();b=b.is("li")?b.find("li").andSelf():b.find("li");b.removeClass("jstree-last").filter("li:last-child").addClass("jstree-last").end().filter(":has(li)").not(".jstree-open").removeClass("jstree-leaf").addClass("jstree-closed");b.not(".jstree-open, .jstree-closed").addClass("jstree-leaf").children("ul").remove();this.__callback({obj:b})},get_rollback:function(){this.__callback();return{i:this.get_index(),h:this.get_container().children("ul").clone(!0),
d:this.data}},set_rollback:function(a,b){this.get_container().empty().append(a);this.data=b;this.__callback()},load_node:function(a){this.__callback({obj:a})},_is_loaded:function(){return!0},create_node:function(b,c,d,e,f){var b=this._get_node(b),c=typeof c==="undefined"?"last":c,j=a("<li>"),n=this._get_settings().core,o;if(b!==-1&&!b.length)return!1;if(!f&&!this._is_loaded(b))return this.load_node(b,function(){this.create_node(b,c,d,e,!0)}),!1;this.__rollback();typeof d==="string"&&(d={data:d});
d||(d={});d.attr&&j.attr(d.attr);d.state&&j.addClass("jstree-"+d.state);if(!d.data)d.data=n.strings.new_node;if(!a.isArray(d.data))o=d.data,d.data=[],d.data.push(o);a.each(d.data,function(b,c){o=a("<a>");a.isFunction(c)&&(c=c.call(this,d));if(typeof c=="string")o.attr("href","#")[n.html_titles?"html":"text"](c);else{if(!c.attr)c.attr={};if(!c.attr.href)c.attr.href="#";o.attr(c.attr)[n.html_titles?"html":"text"](c.title);c.language&&o.addClass(c.language)}o.prepend("<ins class='jstree-icon'>&#160;</ins>");
c.icon&&(c.icon.indexOf("/")===-1?o.children("ins").addClass(c.icon):o.children("ins").css("background","url('"+c.icon+"') center center no-repeat"));j.append(o)});j.prepend("<ins class='jstree-icon'>&#160;</ins>");b===-1&&(b=this.get_container(),c==="before"&&(c="first"),c==="after"&&(c="last"));switch(c){case "before":b.before(j);o=this._get_parent(b);break;case "after":b.after(j);o=this._get_parent(b);break;case "inside":case "first":b.children("ul").length||b.append("<ul>");b.children("ul").prepend(j);
o=b;break;case "last":b.children("ul").length||b.append("<ul>");b.children("ul").append(j);o=b;break;default:b.children("ul").length||b.append("<ul>"),c||(c=0),o=b.children("ul").children("li").eq(c),o.length?o.before(j):b.children("ul").append(j),o=b}if(o===-1||o.get(0)===this.get_container().get(0))o=-1;this.clean_node(o);this.__callback({obj:j,parent:o});e&&e.call(this,j);return j},get_text:function(a){a=this._get_node(a);if(!a.length)return!1;var b=this._get_settings().core.html_titles,a=a.children("a:eq(0)");
return b?(a=a.clone(),a.children("INS").remove(),a.html()):(a=a.contents().filter(function(){return this.nodeType==3})[0],a.nodeValue)},set_text:function(a,b){a=this._get_node(a);if(!a.length)return!1;a=a.children("a:eq(0)");if(this._get_settings().core.html_titles){var c=a.children("INS").clone();a.html(b).prepend(c);this.__callback({obj:a,name:b});return!0}else return a=a.contents().filter(function(){return this.nodeType==3})[0],this.__callback({obj:a,name:b}),a.nodeValue=b},rename_node:function(a,
b){a=this._get_node(a);this.__rollback();a&&a.length&&this.set_text.apply(this,Array.prototype.slice.call(arguments))&&this.__callback({obj:a,name:b})},delete_node:function(a){a=this._get_node(a);if(!a.length)return!1;this.__rollback();var b=this._get_parent(a),c=this._get_prev(a),a=a.remove();b!==-1&&b.find("> ul > li").length===0&&b.removeClass("jstree-open jstree-closed").addClass("jstree-leaf");this.clean_node(b);this.__callback({obj:a,prev:c});return a},prepare_move:function(b,c,d,f,l){var j=
{};j.ot=a.jstree._reference(j.o)||this;j.o=j.ot._get_node(b);j.r=c===-1?-1:this._get_node(c);j.p=typeof j==="undefined"?"last":d;if(l||!e.o||!(e.o[0]===j.o[0]&&e.r[0]===j.r[0]&&e.p===j.p)){j.ot=a.jstree._reference(j.o)||this;j.rt=c===-1?j.ot:a.jstree._reference(j.r)||this;if(j.r===-1)switch(j.cr=-1,j.p){case "first":case "before":case "inside":j.cp=0;break;case "after":case "last":j.cp=j.rt.get_container().find(" > ul > li").length;break;default:j.cp=j.p}else{if(!/^(before|after)$/.test(j.p)&&!this._is_loaded(j.r))return this.load_node(j.r,
function(){this.prepare_move(b,c,d,f,!0)});switch(j.p){case "before":j.cp=j.r.index();j.cr=j.rt._get_parent(j.r);break;case "after":j.cp=j.r.index()+1;j.cr=j.rt._get_parent(j.r);break;case "inside":case "first":j.cp=0;j.cr=j.r;break;case "last":j.cp=j.r.find(" > ul > li").length;j.cr=j.r;break;default:j.cp=j.p,j.cr=j.r}}j.np=j.cr==-1?j.rt.get_container():j.cr;j.op=j.ot._get_parent(j.o);j.or=j.np.find(" > ul > li:nth-child("+(j.cp+1)+")");e=j}this.__callback(e);f&&f.call(this,e)},check_move:function(){var a=
e,b=!0;if(a.or[0]===a.o[0])return!1;a.o.each(function(){if(a.r.parentsUntil(".jstree").andSelf().filter("li").index(this)!==-1)return b=!1});return b},move_node:function(b,c,d,f,l,j){if(!l)return this.prepare_move(b,c,d,function(a){this.move_node(a,!1,!1,f,!0,j)});if(!j&&!this.check_move())return!1;this.__rollback();c=!1;f?(c=b.o.clone(),c.find("*[id]").andSelf().each(function(){if(this.id)this.id="copy_"+this.id})):c=b.o;b.or.length?b.or.before(c):(b.np.children("ul").length||a("<ul>").appendTo(b.np),
b.np.children("ul:eq(0)").append(c));try{b.ot.clean_node(b.op),b.rt.clean_node(b.np),b.op.find("> ul > li").length||b.op.removeClass("jstree-open jstree-closed").addClass("jstree-leaf").children("ul").remove()}catch(n){}if(f)e.cy=!0,e.oc=c;this.__callback(e);return e},_get_move:function(){return e}}})})(jQuery);
(function(a){a.jstree.plugin("ui",{__init:function(){this.data.ui.selected=a();this.data.ui.last_selected=!1;this.data.ui.hovered=null;this.data.ui.to_select=this.get_settings().ui.initially_select;this.get_container().delegate("a","click.jstree",a.proxy(function(a){a.preventDefault();this.select_node(a.currentTarget,!0,a)},this)).delegate("a","mouseenter.jstree",a.proxy(function(a){this.hover_node(a.target)},this)).delegate("a","mouseleave.jstree",a.proxy(function(a){this.dehover_node(a.target)},
this)).bind("reopen.jstree",a.proxy(function(){this.reselect()},this)).bind("get_rollback.jstree",a.proxy(function(){this.dehover_node();this.save_selected()},this)).bind("set_rollback.jstree",a.proxy(function(){this.reselect()},this)).bind("close_node.jstree",a.proxy(function(b,c){var d=this._get_settings().ui,e=this._get_node(c.rslt.obj),f=e&&e.length?e.children("ul").find(".jstree-clicked"):a(),g=this;d.selected_parent_close!==!1&&f.length&&f.each(function(){g.deselect_node(this);d.selected_parent_close===
"select_parent"&&g.select_node(e)})},this)).bind("delete_node.jstree",a.proxy(function(a,c){var d=this._get_settings().ui.select_prev_on_delete,e=this._get_node(c.rslt.obj),e=e&&e.length?e.find(".jstree-clicked"):[],f=this;e.each(function(){f.deselect_node(this)});d&&e.length&&this.select_node(c.rslt.prev)},this)).bind("move_node.jstree",a.proxy(function(a,c){c.rslt.cy&&c.rslt.oc.find(".jstree-clicked").removeClass("jstree-clicked")},this))},defaults:{select_limit:-1,select_multiple_modifier:"ctrl",
selected_parent_close:"select_parent",select_prev_on_delete:!0,disable_selecting_children:!1,initially_select:[]},_fn:{_get_node:function(b,c){if(typeof b==="undefined"||b===null)return c?this.data.ui.selected:this.data.ui.last_selected;var d=a(b,this.get_container());if(d.is(".jstree")||b==-1)return-1;d=d.closest("li",this.get_container());return d.length?d:!1},save_selected:function(){var a=this;this.data.ui.to_select=[];this.data.ui.selected.each(function(){a.data.ui.to_select.push("#"+this.id.toString().replace(/^#/,
"").replace("\\/","/").replace("/","\\/"))});this.__callback(this.data.ui.to_select)},reselect:function(){var b=this,c=this.data.ui.to_select,c=a.map(a.makeArray(c),function(a){return"#"+a.toString().replace(/^#/,"").replace("\\/","/").replace("/","\\/")});this.deselect_all();a.each(c,function(a,c){c&&c!=="#"&&b.select_node(c)});this.__callback()},refresh:function(){this.save_selected();return this.__call_old()},hover_node:function(a){a=this._get_node(a);if(!a.length)return!1;a.hasClass("jstree-hovered")||
this.dehover_node();this.data.ui.hovered=a.children("a").addClass("jstree-hovered").parent();this.__callback({obj:a})},dehover_node:function(){var a=this.data.ui.hovered;if(!a||!a.length)return!1;if(this.data.ui.hovered[0]===a.children("a").removeClass("jstree-hovered").parent()[0])this.data.ui.hovered=null;this.__callback({obj:a})},select_node:function(a,c,d){a=this._get_node(a);if(a==-1||!a||!a.length)return!1;var e=this._get_settings().ui,d=e.select_multiple_modifier=="on"||e.select_multiple_modifier!==
!1&&d&&d[e.select_multiple_modifier+"Key"],f=this.is_selected(a),g=!0;if(c){if(e.disable_selecting_children&&d&&a.parents("li",this.get_container()).children(".jstree-clicked").length)return!1;g=!1;switch(!0){case f&&!d:this.deselect_all();f=!1;g=!0;break;case !f&&!d:if(e.select_limit==-1||e.select_limit>0)this.deselect_all(),g=!0;break;case f&&d:this.deselect_node(a);break;case !f&&d:if(e.select_limit==-1||this.data.ui.selected.length+1<=e.select_limit)g=!0}}if(g&&!f)a.children("a").addClass("jstree-clicked"),
this.data.ui.selected=this.data.ui.selected.add(a),this.data.ui.last_selected=a,this.__callback({obj:a})},deselect_node:function(a){a=this._get_node(a);if(!a.length)return!1;if(this.is_selected(a)){a.children("a").removeClass("jstree-clicked");this.data.ui.selected=this.data.ui.selected.not(a);if(this.data.ui.last_selected.get(0)===a.get(0))this.data.ui.last_selected=this.data.ui.selected.eq(0);this.__callback({obj:a})}},toggle_select:function(a){a=this._get_node(a);if(!a.length)return!1;this.is_selected(a)?
this.deselect_node(a):this.select_node(a)},is_selected:function(a){return this.data.ui.selected.index(this._get_node(a))>=0},get_selected:function(b){return b?a(b).find(".jstree-clicked").parent():this.data.ui.selected},deselect_all:function(b){b?a(b).find(".jstree-clicked").removeClass("jstree-clicked"):this.get_container().find(".jstree-clicked").removeClass("jstree-clicked");this.data.ui.selected=a([]);this.data.ui.last_selected=!1;this.__callback()}}});a.jstree.defaults.plugins.push("ui")})(jQuery);
(function(a){a.jstree.plugin("crrm",{__init:function(){this.get_container().bind("move_node.jstree",a.proxy(function(a,c){if(this._get_settings().crrm.move.open_onmove){var d=this;c.rslt.np.parentsUntil(".jstree").andSelf().filter(".jstree-closed").each(function(){d.open_node(this,!1,!0)})}},this))},defaults:{input_width_limit:200,move:{always_copy:!1,open_onmove:!0,default_position:"last",check_move:function(){return!0}}},_fn:{_show_input:function(b,c){var b=this._get_node(b),d=this._get_settings().core.rtl,
e=this._get_settings().crrm.input_width_limit,f=b.children("ins").width(),g=b.find("> a:visible > ins").width()*b.find("> a:visible > ins").length,h=this.get_text(b),i=a("<div>",{css:{position:"absolute",top:"-200px",left:d?"0px":"-1000px",visibility:"hidden"}}).appendTo("body"),k=b.css("position","relative").append(a("<input>",{value:h,css:{padding:"0",border:"1px solid silver",position:"absolute",left:d?"auto":f+g+4+"px",right:d?f+g+4+"px":"auto",top:"0px",height:this.data.core.li_height-2+"px",
lineHeight:this.data.core.li_height-2+"px",width:"150px"},blur:a.proxy(function(){var a=b.children("input"),d=a.val();d===""&&(d=h);a.remove();this.set_text(b,h);this.rename_node(b,d);c.call(this,b,d,h);b.css("position","")},this),keyup:function(a){a=a.keyCode||a.which;a==27?(this.value=h,this.blur()):a==13?this.blur():k.width(Math.min(i.text("pW"+this.value).width(),e))}})).children("input");this.set_text(b,"");i.css({fontFamily:k.css("fontFamily")||"",fontSize:k.css("fontSize")||"",fontWeight:k.css("fontWeight")||
"",fontStyle:k.css("fontStyle")||"",fontStretch:k.css("fontStretch")||"",fontVariant:k.css("fontVariant")||"",letterSpacing:k.css("letterSpacing")||"",wordSpacing:k.css("wordSpacing")||""});k.width(Math.min(i.text("pW"+k[0].value).width(),e))[0].select()},rename:function(a){a=this._get_node(a);this.__rollback();var c=this.__callback;this._show_input(a,function(a,b,f){c.call(this,{obj:a,new_name:b,old_name:f})})},create:function(b,c,d,e,f){var g=this;(b=this._get_node(b))||(b=-1);this.__rollback();
return this.create_node(b,c,d,function(b){var c=this._get_parent(b),d=a(b).index();e&&e.call(this,b);c.length&&c.hasClass("jstree-closed")&&this.open_node(c,!1,!0);f?g.__callback({obj:b,name:this.get_text(b),parent:c,position:d}):this._show_input(b,function(a,b){g.__callback({obj:a,name:b,parent:c,position:d})})})},remove:function(a){a=this._get_node(a,!0);this.__rollback();this.delete_node(a);this.__callback({obj:a})},check_move:function(){return!this.__call_old()?!1:!this._get_settings().crrm.move.check_move.call(this,
this._get_move())?!1:!0},move_node:function(a,c,d,e,f,g){var h=this._get_settings().crrm.move;if(!f){if(!d)d=h.default_position;if(d==="inside"&&!h.default_position.match(/^(before|after)$/))d=h.default_position;return this.__call_old(!0,a,c,d,e,!1,g)}if(h.always_copy===!0||h.always_copy==="multitree"&&a.rt.get_index()!==a.ot.get_index())e=!0;this.__call_old(!0,a,c,d,e,!0,g)},cut:function(a){a=this._get_node(a);this.data.crrm.cp_nodes=!1;this.data.crrm.ct_nodes=!1;if(!a||!a.length)return!1;this.data.crrm.ct_nodes=
a},copy:function(a){a=this._get_node(a);this.data.crrm.cp_nodes=!1;this.data.crrm.ct_nodes=!1;if(!a||!a.length)return!1;this.data.crrm.cp_nodes=a},paste:function(a){a=this._get_node(a);if(!a||!a.length)return!1;if(!this.data.crrm.ct_nodes&&!this.data.crrm.cp_nodes)return!1;this.data.crrm.ct_nodes&&this.move_node(this.data.crrm.ct_nodes,a);this.data.crrm.cp_nodes&&this.move_node(this.data.crrm.cp_nodes,a,!1,!0);this.data.crrm.cp_nodes=!1;this.data.crrm.ct_nodes=!1}}});a.jstree.defaults.plugins.push("crrm")})(jQuery);
(function(a){var b=[];a.jstree._themes=!1;a.jstree.plugin("themes",{__init:function(){this.get_container().bind("init.jstree",a.proxy(function(){var a=this._get_settings().themes;this.data.themes.dots=a.dots;this.data.themes.icons=a.icons;this.set_theme(a.theme,a.url)},this)).bind("loaded.jstree",a.proxy(function(){this.data.themes.dots?this.show_dots():this.hide_dots();this.data.themes.icons?this.show_icons():this.hide_icons()},this))},defaults:{theme:"default",url:!1,dots:!0,icons:!0},_fn:{set_theme:function(c,
d){if(!c)return!1;d||(d=a.jstree._themes+c+"/style.css");a.inArray(d,b)==-1&&(a.vakata.css.add_sheet({url:d,rel:"jstree"}),b.push(d));if(this.data.themes.theme!=c)this.get_container().removeClass("jstree-"+this.data.themes.theme),this.data.themes.theme=c;this.get_container().addClass("jstree-"+c);this.data.themes.dots?this.show_dots():this.hide_dots();this.data.themes.icons?this.show_icons():this.hide_icons();this.__callback()},get_theme:function(){return this.data.themes.theme},show_dots:function(){this.data.themes.dots=
!0;this.get_container().children("ul").removeClass("jstree-no-dots")},hide_dots:function(){this.data.themes.dots=!1;this.get_container().children("ul").addClass("jstree-no-dots")},toggle_dots:function(){this.data.themes.dots?this.hide_dots():this.show_dots()},show_icons:function(){this.data.themes.icons=!0;this.get_container().children("ul").removeClass("jstree-no-icons")},hide_icons:function(){this.data.themes.icons=!1;this.get_container().children("ul").addClass("jstree-no-icons")},toggle_icons:function(){this.data.themes.icons?
this.hide_icons():this.show_icons()}}});a(function(){a.jstree._themes===!1&&a("script").each(function(){if(this.src.toString().match(/jquery\.jstree[^\/]*?\.js(\?.*)?$/))return a.jstree._themes=this.src.toString().replace(/jquery\.jstree[^\/]*?\.js(\?.*)?$/,"")+"themes/",!1});if(a.jstree._themes===!1)a.jstree._themes="themes/"});a.jstree.defaults.plugins.push("themes")})(jQuery);
(function(a){var b=[];a.jstree.plugin("hotkeys",{__init:function(){if(typeof a.hotkeys==="undefined")throw"jsTree hotkeys: jQuery hotkeys plugin not included.";if(!this.data.ui)throw"jsTree hotkeys: jsTree UI plugin not included.";a.each(this._get_settings().hotkeys,function(c){a.inArray(c,b)==-1&&(a(document).bind("keydown",c,function(b){var e;var f=a.jstree._focused(),g;f&&f.data&&f.data.hotkeys&&f.data.hotkeys.enabled&&(g=f._get_settings().hotkeys[c])&&(e=g.call(f,b));return e}),b.push(c))});this.enable_hotkeys()},
defaults:{up:function(){this.hover_node(this._get_prev(this.data.ui.hovered||this.data.ui.last_selected||-1));return!1},down:function(){this.hover_node(this._get_next(this.data.ui.hovered||this.data.ui.last_selected||-1));return!1},left:function(){var a=this.data.ui.hovered||this.data.ui.last_selected;a&&(a.hasClass("jstree-open")?this.close_node(a):this.hover_node(this._get_prev(a)));return!1},right:function(){var a=this.data.ui.hovered||this.data.ui.last_selected;a&&a.length&&(a.hasClass("jstree-closed")?
this.open_node(a):this.hover_node(this._get_next(a)));return!1},space:function(){this.data.ui.hovered&&this.data.ui.hovered.children("a:eq(0)").click();return!1},"ctrl+space":function(a){a.type="click";this.data.ui.hovered&&this.data.ui.hovered.children("a:eq(0)").trigger(a);return!1},f2:function(){this.rename(this.data.ui.hovered||this.data.ui.last_selected)},del:function(){this.remove(this.data.ui.hovered||this._get_node(null))}},_fn:{enable_hotkeys:function(){this.data.hotkeys.enabled=!0},disable_hotkeys:function(){this.data.hotkeys.enabled=
!1}}})})(jQuery);
(function(a){a.jstree.plugin("json_data",{defaults:{data:!1,ajax:!1,correct_state:!0,progressive_render:!1},_fn:{load_node:function(a,c,d){var e=this;this.load_node_json(a,function(){e.__callback({obj:a});c.call(this)},d)},_is_loaded:function(b){var c=this._get_settings().json_data;if((b=this._get_node(b))&&b!==-1&&c.progressive_render&&!b.is(".jstree-open, .jstree-leaf")&&b.children("ul").children("li").length===0&&b.data("jstree-children")){if(c=this._parse_json(b.data("jstree-children")))b.append(c),a.removeData(b,
"jstree-children");this.clean_node(b);return!0}return b==-1||!b||!c.ajax||b.is(".jstree-open, .jstree-leaf")||b.children("ul").children("li").size()>0},load_node_json:function(b,c,d){var e=this.get_settings().json_data,f,g=function(){};f=function(){};if((b=this._get_node(b))&&b!==-1)if(b.data("jstree-is-loading"))return;else b.data("jstree-is-loading",!0);switch(!0){case !e.data&&!e.ajax:throw"Neither data nor ajax settings supplied.";case !!e.data&&!e.ajax||!!e.data&&!!e.ajax&&(!b||b===-1):if(!b||
b==-1)(f=this._parse_json(e.data))?(this.get_container().children("ul").empty().append(f.children()),this.clean_node()):e.correct_state&&this.get_container().children("ul").empty();c&&c.call(this);break;case !e.data&&!!e.ajax||!!e.data&&!!e.ajax&&b&&b!==-1:g=function(a,c,f){var g=this.get_settings().json_data.ajax.error;g&&g.call(this,a,c,f);b!=-1&&b.length?(b.children(".jstree-loading").removeClass("jstree-loading"),b.data("jstree-is-loading",!1),c==="success"&&e.correct_state&&b.removeClass("jstree-open jstree-closed").addClass("jstree-leaf")):
c==="success"&&e.correct_state&&this.get_container().children("ul").empty();d&&d.call(this)};e.ajax.context=this;e.ajax.error=g;e.ajax.success=function(d,f,k){var l=this.get_settings().json_data.ajax.success;l&&(d=l.call(this,d,f,k)||d);if(d===""||!a.isArray(d)&&!a.isPlainObject(d))return g.call(this,k,f,"");(d=this._parse_json(d))?(b===-1||!b?this.get_container().children("ul").empty().append(d.children()):(b.append(d).children(".jstree-loading").removeClass("jstree-loading"),b.data("jstree-is-loading",
!1)),this.clean_node(b),c&&c.call(this)):b===-1||!b?e.correct_state&&(this.get_container().children("ul").empty(),c&&c.call(this)):(b.children(".jstree-loading").removeClass("jstree-loading"),b.data("jstree-is-loading",!1),e.correct_state&&(b.removeClass("jstree-open jstree-closed").addClass("jstree-leaf"),c&&c.call(this)))};if(!e.ajax.dataType)e.ajax.dataType="json";if(a.isFunction(e.ajax.url))e.ajax.url=e.ajax.url.call(this,b);if(a.isFunction(e.ajax.data))e.ajax.data=e.ajax.data.call(this,b);a.ajax(e.ajax)}},
_parse_json:function(b,c){var d=!1,e=this._get_settings(),f=e.json_data,g=e.core.html_titles,h;if(!b)return d;a.isFunction(b)&&(b=b.call(this));if(a.isArray(b)){d=a();if(!b.length)return!1;e=0;for(f=b.length;e<f;e++)h=this._parse_json(b[e],!0),h.length&&(d=d.add(h))}else{typeof b=="string"&&(b={data:b});if(!b.data&&b.data!=="")return d;d=a("<li>");b.attr&&d.attr(b.attr);b.metadata&&d.data("jstree",b.metadata);b.state&&d.addClass("jstree-"+b.state);if(!a.isArray(b.data))h=b.data,b.data=[],b.data.push(h);
a.each(b.data,function(c,e){h=a("<a>");a.isFunction(e)&&(e=e.call(this,b));if(typeof e=="string")h.attr("href","#")[g?"html":"text"](e);else{if(!e.attr)e.attr={};if(!e.attr.href)e.attr.href="#";h.attr(e.attr)[g?"html":"text"](e.title);e.language&&h.addClass(e.language)}h.prepend("<ins class='jstree-icon'>&#160;</ins>");if(!e.icon&&b.icon)e.icon=b.icon;e.icon&&(e.icon.indexOf("/")===-1?h.children("ins").addClass(e.icon):h.children("ins").css("background","url('"+e.icon+"') center center no-repeat"));
d.append(h)});d.prepend("<ins class='jstree-icon'>&#160;</ins>");if(b.children)if(f.progressive_render&&b.state!=="open")d.addClass("jstree-closed").data("jstree-children",b.children);else{if(a.isFunction(b.children))b.children=b.children.call(this,b);a.isArray(b.children)&&b.children.length&&(h=this._parse_json(b.children,!0),h.length&&(e=a("<ul>"),e.append(h),d.append(e)))}}c||(e=a("<ul>"),e.append(d),d=e);return d},get_json:function(b,c,d,e){var f=[],g=this._get_settings(),h=this,i,k,l,j,n,o,b=
this._get_node(b);if(!b||b===-1)b=this.get_container().find("> ul > li");c=a.isArray(c)?c:["id","class"];!e&&this.data.types&&c.push(g.types.type_attr);d=a.isArray(d)?d:[];b.each(function(){l=a(this);i={data:[]};if(c.length)i.attr={};a.each(c,function(a,b){(k=l.attr(b))&&k.length&&k.replace(/jstree[^ ]*|$/ig,"").length&&(i.attr[b]=k.replace(/jstree[^ ]*|$/ig,""))});if(l.hasClass("jstree-open"))i.state="open";if(l.hasClass("jstree-closed"))i.state="closed";j=l.children("a");j.each(function(){n=a(this);
if(d.length||a.inArray("languages",g.plugins)!==-1||n.children("ins").get(0).style.backgroundImage.length||n.children("ins").get(0).className&&n.children("ins").get(0).className.replace(/jstree[^ ]*|$/ig,"").length){o=!1;a.inArray("languages",g.plugins)!==-1&&a.isArray(g.languages)&&g.languages.length&&a.each(g.languages,function(a,b){if(n.hasClass(b))return o=b,!1});k={attr:{},title:h.get_text(n,o)};a.each(d,function(a,b){i.attr[b]=(n.attr(b)||"").replace(/jstree[^ ]*|$/ig,"")});a.each(g.languages,
function(a,b){if(n.hasClass(b))return k.language=b,!0});if(n.children("ins").get(0).className.replace(/jstree[^ ]*|$/ig,"").replace(/^\s+$/ig,"").length)k.icon=n.children("ins").get(0).className.replace(/jstree[^ ]*|$/ig,"").replace(/^\s+$/ig,"");if(n.children("ins").get(0).style.backgroundImage.length)k.icon=n.children("ins").get(0).style.backgroundImage.replace("url(","").replace(")","")}else k=h.get_text(n);j.length>1?i.data.push(k):i.data=k});l=l.find("> ul > li");if(l.length)i.children=h.get_json(l,
c,d,!0);f.push(i)});return f}}})})(jQuery);
(function(a){a.jstree.plugin("languages",{__init:function(){this._load_css()},defaults:[],_fn:{set_lang:function(b){var c=this._get_settings().languages,d=!1,e=".jstree-"+this.get_index()+" a";if(!a.isArray(c)||c.length===0)return!1;if(a.inArray(b,c)==-1)if(c[b])b=c[b];else return!1;if(b==this.data.languages.current_language)return!0;d=a.vakata.css.get_css(e+"."+this.data.languages.current_language,!1,this.data.languages.language_css);if(d!==!1)d.style.display="none";d=a.vakata.css.get_css(e+"."+
b,!1,this.data.languages.language_css);if(d!==!1)d.style.display="";this.data.languages.current_language=b;this.__callback(b);return!0},get_lang:function(){return this.data.languages.current_language},get_text:function(b,c){b=this._get_node(b)||this.data.ui.last_selected;if(!b.size())return!1;var d=this._get_settings().languages,e=this._get_settings().core.html_titles;a.isArray(d)&&d.length?(c=c&&a.inArray(c,d)!=-1?c:this.data.languages.current_language,b=b.children("a."+c)):b=b.children("a:eq(0)");
return e?(b=b.clone(),b.children("INS").remove(),b.html()):(b=b.contents().filter(function(){return this.nodeType==3})[0],b.nodeValue)},set_text:function(b,c,d){b=this._get_node(b)||this.data.ui.last_selected;if(!b.size())return!1;var e=this._get_settings().languages,f=this._get_settings().core.html_titles;a.isArray(e)&&e.length?(d=d&&a.inArray(d,e)!=-1?d:this.data.languages.current_language,b=b.children("a."+d)):b=b.children("a:eq(0)");return f?(e=b.children("INS").clone(),b.html(c).prepend(e),this.__callback({obj:b,
name:c,lang:d}),!0):(b=b.contents().filter(function(){return this.nodeType==3})[0],this.__callback({obj:b,name:c,lang:d}),b.nodeValue=c)},_load_css:function(){var b=this._get_settings().languages,c="/* languages css */",d=".jstree-"+this.get_index()+" a",e;if(a.isArray(b)&&b.length){this.data.languages.current_language=b[0];for(e=0;e<b.length;e++)c+=d+"."+b[e]+" {",b[e]!=this.data.languages.current_language&&(c+=" display:none; "),c+=" } ";this.data.languages.language_css=a.vakata.css.add_sheet({str:c})}},
create_node:function(b,c,d,e){return this.__call_old(!0,b,c,d,function(b){var c=this._get_settings().languages,d=b.children("a"),i;if(a.isArray(c)&&c.length){for(i=0;i<c.length;i++)d.is("."+c[i])||b.append(d.eq(0).clone().removeClass(c.join(" ")).addClass(c[i]));d.not("."+c.join(", .")).remove()}e&&e.call(this,b)})}}})})(jQuery);
(function(a){a.jstree.plugin("cookies",{__init:function(){if(typeof a.cookie==="undefined")throw"jsTree cookie: jQuery cookie plugin not included.";var b=this._get_settings().cookies,c;if(b.save_opened&&(c=a.cookie(b.save_opened))&&c.length)this.data.core.to_open=c.split(",");if(b.save_selected&&(c=a.cookie(b.save_selected))&&c.length&&this.data.ui)this.data.ui.to_select=c.split(",");this.get_container().one((this.data.ui?"reselect":"reopen")+".jstree",a.proxy(function(){this.get_container().bind("open_node.jstree close_node.jstree select_node.jstree deselect_node.jstree",
a.proxy(function(a){this._get_settings().cookies.auto_save&&this.save_cookie((a.handleObj.namespace+a.handleObj.type).replace("jstree",""))},this))},this))},defaults:{save_opened:"jstree_open",save_selected:"jstree_select",auto_save:!0,cookie_options:{}},_fn:{save_cookie:function(b){if(!this.data.core.refreshing){var c=this._get_settings().cookies;if(b)switch(b){case "open_node":case "close_node":c.save_opened&&(this.save_opened(),a.cookie(c.save_opened,this.data.core.to_open.join(","),c.cookie_options));
break;case "select_node":case "deselect_node":c.save_selected&&this.data.ui&&(this.save_selected(),a.cookie(c.save_selected,this.data.ui.to_select.join(","),c.cookie_options))}else c.save_opened&&(this.save_opened(),a.cookie(c.save_opened,this.data.core.to_open.join(","),c.cookie_options)),c.save_selected&&this.data.ui&&(this.save_selected(),a.cookie(c.save_selected,this.data.ui.to_select.join(","),c.cookie_options))}}}});a.jstree.defaults.plugins.push("cookies")})(jQuery);
(function(a){a.jstree.plugin("sort",{__init:function(){this.get_container().bind("load_node.jstree",a.proxy(function(a,c){var d=this._get_node(c.rslt.obj),d=d===-1?this.get_container().children("ul"):d.children("ul");this.sort(d)},this)).bind("rename_node.jstree",a.proxy(function(a,c){this.sort(c.rslt.obj.parent())},this)).bind("move_node.jstree",a.proxy(function(a,c){this.sort((c.rslt.np==-1?this.get_container():c.rslt.np).children("ul"))},this))},defaults:function(a,c){return this.get_text(a)>this.get_text(c)?
1:-1},_fn:{sort:function(b){var c=this._get_settings().sort,d=this;b.append(a.makeArray(b.children("li")).sort(a.proxy(c,d)));b.find("> li > ul").each(function(){d.sort(a(this))});this.clean_node(b)}}})})(jQuery);
(function(a){var b=!1,c=!1,d=!1,e=!1,f=!1,g=!1,h=!1;a.vakata.dnd={is_down:!1,is_drag:!1,helper:!1,scroll_spd:10,init_x:0,init_y:0,threshold:5,user_data:{},drag_start:function(b,c,d){a.vakata.dnd.is_drag&&a.vakata.drag_stop({});try{if(b.currentTarget.unselectable="on",b.currentTarget.onselectstart=function(){return!1},b.currentTarget.style)b.currentTarget.style.MozUserSelect="none"}catch(e){}a.vakata.dnd.init_x=b.pageX;a.vakata.dnd.init_y=b.pageY;a.vakata.dnd.user_data=c;a.vakata.dnd.is_down=!0;a.vakata.dnd.helper=
a("<div id='vakata-dragged'>").html(d).css("opacity","0.75");a(document).bind("mousemove",a.vakata.dnd.drag);a(document).bind("mouseup",a.vakata.dnd.drag_stop);return!1},drag:function(b){if(a.vakata.dnd.is_down){if(!a.vakata.dnd.is_drag)if(Math.abs(b.pageX-a.vakata.dnd.init_x)>5||Math.abs(b.pageY-a.vakata.dnd.init_y)>5)a.vakata.dnd.helper.appendTo("body"),a.vakata.dnd.is_drag=!0,a(document).triggerHandler("drag_start.vakata",{event:b,data:a.vakata.dnd.user_data});else return;if(b.type==="mousemove"){var c=
a(document),d=c.scrollTop(),c=c.scrollLeft();b.pageY-d<20?(f&&g==="down"&&(clearInterval(f),f=!1),f||(g="up",f=setInterval(function(){a(document).scrollTop(a(document).scrollTop()-a.vakata.dnd.scroll_spd)},150))):f&&g==="up"&&(clearInterval(f),f=!1);a(window).height()-(b.pageY-d)<20?(f&&g==="up"&&(clearInterval(f),f=!1),f||(g="down",f=setInterval(function(){a(document).scrollTop(a(document).scrollTop()+a.vakata.dnd.scroll_spd)},150))):f&&g==="down"&&(clearInterval(f),f=!1);b.pageX-c<20?(e&&h==="right"&&
(clearInterval(e),e=!1),e||(h="left",e=setInterval(function(){a(document).scrollLeft(a(document).scrollLeft()-a.vakata.dnd.scroll_spd)},150))):e&&h==="left"&&(clearInterval(e),e=!1);a(window).width()-(b.pageX-c)<20?(e&&h==="left"&&(clearInterval(e),e=!1),e||(h="right",e=setInterval(function(){a(document).scrollLeft(a(document).scrollLeft()+a.vakata.dnd.scroll_spd)},150))):e&&h==="right"&&(clearInterval(e),e=!1)}a.vakata.dnd.helper.css({left:b.pageX+5+"px",top:b.pageY+10+"px"});a(document).triggerHandler("drag.vakata",
{event:b,data:a.vakata.dnd.user_data})}},drag_stop:function(b){a(document).unbind("mousemove",a.vakata.dnd.drag);a(document).unbind("mouseup",a.vakata.dnd.drag_stop);a(document).triggerHandler("drag_stop.vakata",{event:b,data:a.vakata.dnd.user_data});a.vakata.dnd.helper.remove();a.vakata.dnd.init_x=0;a.vakata.dnd.init_y=0;a.vakata.dnd.user_data={};a.vakata.dnd.is_down=!1;a.vakata.dnd.is_drag=!1}};a(function(){a.vakata.css.add_sheet({str:"#vakata-dragged { display:block; margin:0 0 0 0; padding:4px 4px 4px 24px; position:absolute; top:-2000px; line-height:16px; z-index:10000; } "})});
a.jstree.plugin("dnd",{__init:function(){this.data.dnd={active:!1,after:!1,inside:!1,before:!1,off:!1,prepared:!1,w:0,to1:!1,to2:!1,cof:!1,cw:!1,ch:!1,i1:!1,i2:!1};this.get_container().bind("mouseenter.jstree",a.proxy(function(){a.vakata.dnd.is_drag&&a.vakata.dnd.user_data.jstree&&this.data.themes&&(d.attr("class","jstree-"+this.data.themes.theme),a.vakata.dnd.helper.attr("class","jstree-dnd-helper jstree-"+this.data.themes.theme))},this)).bind("mouseleave.jstree",a.proxy(function(){a.vakata.dnd.is_drag&&
a.vakata.dnd.user_data.jstree&&(this.data.dnd.i1&&clearInterval(this.data.dnd.i1),this.data.dnd.i2&&clearInterval(this.data.dnd.i2))},this)).bind("mousemove.jstree",a.proxy(function(b){if(a.vakata.dnd.is_drag&&a.vakata.dnd.user_data.jstree){var c=this.get_container()[0];b.pageX+24>this.data.dnd.cof.left+this.data.dnd.cw?(this.data.dnd.i1&&clearInterval(this.data.dnd.i1),this.data.dnd.i1=setInterval(a.proxy(function(){this.scrollLeft+=a.vakata.dnd.scroll_spd},c),100)):b.pageX-24<this.data.dnd.cof.left?
(this.data.dnd.i1&&clearInterval(this.data.dnd.i1),this.data.dnd.i1=setInterval(a.proxy(function(){this.scrollLeft-=a.vakata.dnd.scroll_spd},c),100)):this.data.dnd.i1&&clearInterval(this.data.dnd.i1);b.pageY+24>this.data.dnd.cof.top+this.data.dnd.ch?(this.data.dnd.i2&&clearInterval(this.data.dnd.i2),this.data.dnd.i2=setInterval(a.proxy(function(){this.scrollTop+=a.vakata.dnd.scroll_spd},c),100)):b.pageY-24<this.data.dnd.cof.top?(this.data.dnd.i2&&clearInterval(this.data.dnd.i2),this.data.dnd.i2=setInterval(a.proxy(function(){this.scrollTop-=
a.vakata.dnd.scroll_spd},c),100)):this.data.dnd.i2&&clearInterval(this.data.dnd.i2)}},this)).delegate("a","mousedown.jstree",a.proxy(function(a){if(a.which===1)return this.start_drag(a.currentTarget,a),!1},this)).delegate("a","mouseenter.jstree",a.proxy(function(b){a.vakata.dnd.is_drag&&a.vakata.dnd.user_data.jstree&&this.dnd_enter(b.currentTarget)},this)).delegate("a","mousemove.jstree",a.proxy(function(b){if(a.vakata.dnd.is_drag&&a.vakata.dnd.user_data.jstree){if(typeof this.data.dnd.off.top===
"undefined")this.data.dnd.off=a(b.target).offset();this.data.dnd.w=(b.pageY-(this.data.dnd.off.top||0))%this.data.core.li_height;this.data.dnd.w<0&&(this.data.dnd.w+=this.data.core.li_height);this.dnd_show()}},this)).delegate("a","mouseleave.jstree",a.proxy(function(b){if(a.vakata.dnd.is_drag&&a.vakata.dnd.user_data.jstree&&(this.data.dnd.after=!1,this.data.dnd.before=!1,this.data.dnd.inside=!1,a.vakata.dnd.helper.children("ins").attr("class","jstree-invalid"),d.hide(),c&&c[0]===b.target.parentNode)){if(this.data.dnd.to1)clearTimeout(this.data.dnd.to1),
this.data.dnd.to1=!1;if(this.data.dnd.to2)clearTimeout(this.data.dnd.to2),this.data.dnd.to2=!1}},this)).delegate("a","mouseup.jstree",a.proxy(function(b){a.vakata.dnd.is_drag&&a.vakata.dnd.user_data.jstree&&this.dnd_finish(b)},this));a(document).bind("drag_stop.vakata",a.proxy(function(){this.data.dnd.after=!1;this.data.dnd.before=!1;this.data.dnd.inside=!1;this.data.dnd.off=!1;this.data.dnd.prepared=!1;this.data.dnd.w=!1;this.data.dnd.to1=!1;this.data.dnd.to2=!1;this.data.dnd.active=!1;this.data.dnd.foreign=
!1;d&&d.css({top:"-2000px"})},this)).bind("drag_start.vakata",a.proxy(function(b,c){if(c.data.jstree){var d=a(c.event.target);d.closest(".jstree").hasClass("jstree-"+this.get_index())&&this.dnd_enter(d)}},this));var e=this._get_settings().dnd;e.drag_target&&a(document).delegate(e.drag_target,"mousedown.jstree",a.proxy(function(c){b=c.target;a.vakata.dnd.drag_start(c,{jstree:!0,obj:c.target},"<ins class='jstree-icon'></ins>"+a(c.target).text());this.data.themes&&(d.attr("class","jstree-"+this.data.themes.theme),
a.vakata.dnd.helper.attr("class","jstree-dnd-helper jstree-"+this.data.themes.theme));a.vakata.dnd.helper.children("ins").attr("class","jstree-invalid");c=this.get_container();this.data.dnd.cof=c.offset();this.data.dnd.cw=parseInt(c.width(),10);this.data.dnd.ch=parseInt(c.height(),10);this.data.dnd.foreign=!0;return!1},this));e.drop_target&&a(document).delegate(e.drop_target,"mouseenter.jstree",a.proxy(function(c){this.data.dnd.active&&this._get_settings().dnd.drop_check.call(this,{o:b,r:a(c.target)})&&
a.vakata.dnd.helper.children("ins").attr("class","jstree-ok")},this)).delegate(e.drop_target,"mouseleave.jstree",a.proxy(function(){this.data.dnd.active&&a.vakata.dnd.helper.children("ins").attr("class","jstree-invalid")},this)).delegate(e.drop_target,"mouseup.jstree",a.proxy(function(c){this.data.dnd.active&&a.vakata.dnd.helper.children("ins").hasClass("jstree-ok")&&this._get_settings().dnd.drop_finish.call(this,{o:b,r:a(c.target)})},this))},defaults:{copy_modifier:"ctrl",check_timeout:200,open_timeout:500,
drop_target:".jstree-drop",drop_check:function(){return!0},drop_finish:a.noop,drag_target:".jstree-draggable",drag_finish:a.noop,drag_check:function(){return{after:!1,before:!1,inside:!0}}},_fn:{dnd_prepare:function(){if(c&&c.length){this.data.dnd.off=c.offset();if(this._get_settings().core.rtl)this.data.dnd.off.right=this.data.dnd.off.left+c.width();if(this.data.dnd.foreign){var a=this._get_settings().dnd.drag_check.call(this,{o:b,r:c});this.data.dnd.after=a.after;this.data.dnd.before=a.before;this.data.dnd.inside=
a.inside;this.data.dnd.prepared=!0;return this.dnd_show()}this.prepare_move(b,c,"before");this.data.dnd.before=this.check_move();this.prepare_move(b,c,"after");this.data.dnd.after=this.check_move();this._is_loaded(c)?(this.prepare_move(b,c,"inside"),this.data.dnd.inside=this.check_move()):this.data.dnd.inside=!1;this.data.dnd.prepared=!0;return this.dnd_show()}},dnd_show:function(){if(this.data.dnd.prepared){var b=["before","inside","after"],c=!1,e=this._get_settings().core.rtl,b=this.data.dnd.w<
this.data.core.li_height/3?["before","inside","after"]:this.data.dnd.w<=this.data.core.li_height*2/3?this.data.dnd.w<this.data.core.li_height/2?["inside","before","after"]:["inside","after","before"]:["after","inside","before"];a.each(b,a.proxy(function(b,d){if(this.data.dnd[d])return a.vakata.dnd.helper.children("ins").attr("class","jstree-ok"),c=d,!1},this));c===!1&&a.vakata.dnd.helper.children("ins").attr("class","jstree-invalid");b=e?this.data.dnd.off.right-18:this.data.dnd.off.left+10;switch(c){case "before":d.css({left:b+
"px",top:this.data.dnd.off.top-6+"px"}).show();break;case "after":d.css({left:b+"px",top:this.data.dnd.off.top+this.data.core.li_height-7+"px"}).show();break;case "inside":d.css({left:b+(e?-4:4)+"px",top:this.data.dnd.off.top+this.data.core.li_height/2-5+"px"}).show();break;default:d.hide()}return c}},dnd_open:function(){this.data.dnd.to2=!1;this.open_node(c,a.proxy(this.dnd_prepare,this),!0)},dnd_finish:function(a){this.data.dnd.foreign?(this.data.dnd.after||this.data.dnd.before||this.data.dnd.inside)&&
this._get_settings().dnd.drag_finish.call(this,{o:b,r:c}):(this.dnd_prepare(),this.move_node(b,c,this.dnd_show(),a[this._get_settings().dnd.copy_modifier+"Key"]));c=b=!1;d.hide()},dnd_enter:function(b){var d=this._get_settings().dnd;this.data.dnd.prepared=!1;c=this._get_node(b);d.check_timeout?(this.data.dnd.to1&&clearTimeout(this.data.dnd.to1),this.data.dnd.to1=setTimeout(a.proxy(this.dnd_prepare,this),d.check_timeout)):this.dnd_prepare();if(d.open_timeout){if(this.data.dnd.to2&&clearTimeout(this.data.dnd.to2),
c&&c.length&&c.hasClass("jstree-closed"))this.data.dnd.to2=setTimeout(a.proxy(this.dnd_open,this),d.open_timeout)}else c&&c.length&&c.hasClass("jstree-closed")&&this.dnd_open()},start_drag:function(c,e){b=this._get_node(c);this.data.ui&&this.is_selected(b)&&(b=this._get_node(null,!0));a.vakata.dnd.drag_start(e,{jstree:!0,obj:b},"<ins class='jstree-icon'></ins>"+(b.length>1?"Multiple selection":this.get_text(b)));this.data.themes&&(d.attr("class","jstree-"+this.data.themes.theme),a.vakata.dnd.helper.attr("class",
"jstree-dnd-helper jstree-"+this.data.themes.theme));var f=this.get_container();this.data.dnd.cof=f.children("ul").offset();this.data.dnd.cw=parseInt(f.width(),10);this.data.dnd.ch=parseInt(f.height(),10);this.data.dnd.active=!0}}});a(function(){a.vakata.css.add_sheet({str:"#vakata-dragged ins { display:block; text-decoration:none; width:16px; height:16px; margin:0 0 0 0; padding:0; position:absolute; top:4px; left:4px; } #vakata-dragged .jstree-ok { background:green; } #vakata-dragged .jstree-invalid { background:red; } #jstree-marker { padding:0; margin:0; line-height:12px; font-size:1px; overflow:hidden; height:12px; width:8px; position:absolute; top:-30px; z-index:10000; background-repeat:no-repeat; display:none; background-color:silver; } "});
d=a("<div>").attr({id:"jstree-marker"}).hide().appendTo("body");a(document).bind("drag_start.vakata",function(a,b){b.data.jstree&&d.show()});a(document).bind("drag_stop.vakata",function(a,b){b.data.jstree&&d.hide()})})})(jQuery);
(function(a){a.jstree.plugin("checkbox",{__init:function(){this.select_node=this.deselect_node=this.deselect_all=a.noop;this.get_selected=this.get_checked;this.get_container().bind("open_node.jstree create_node.jstree clean_node.jstree",a.proxy(function(a,c){this._prepare_checkboxes(c.rslt.obj)},this)).bind("loaded.jstree",a.proxy(function(){this._prepare_checkboxes()},this)).delegate("a","click.jstree",a.proxy(function(a){this._get_node(a.target).hasClass("jstree-checked")?this.uncheck_node(a.target):
this.check_node(a.target);this.data.ui&&this.save_selected();this.data.cookies&&this.save_cookie("select_node");a.preventDefault()},this))},__destroy:function(){this.get_container().find(".jstree-checkbox").remove()},_fn:{_prepare_checkboxes:function(b){var b=!b||b==-1?this.get_container():this._get_node(b),c,d=this,e;b.each(function(){e=a(this);c=e.is("li")&&e.hasClass("jstree-checked")?"jstree-checked":"jstree-unchecked";e.find("a").not(":has(.jstree-checkbox)").prepend("<ins class='jstree-checkbox'>&#160;</ins>").parent().not(".jstree-checked, .jstree-unchecked").addClass(c)});
b.is("li")?this._repair_state(b):b.find("> ul > li").each(function(){d._repair_state(this)})},change_state:function(b,c){b=this._get_node(b);if(c=c===!1||c===!0?c:b.hasClass("jstree-checked"))b.find("li").andSelf().removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked");else{b.find("li").andSelf().removeClass("jstree-unchecked jstree-undetermined").addClass("jstree-checked");if(this.data.ui)this.data.ui.last_selected=b;this.data.checkbox.last_selected=b}b.parentsUntil(".jstree",
"li").each(function(){var b=a(this);if(c)if(b.children("ul").children(".jstree-checked, .jstree-undetermined").length)return b.parentsUntil(".jstree","li").andSelf().removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined"),!1;else b.removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked");else if(b.children("ul").children(".jstree-unchecked, .jstree-undetermined").length)return b.parentsUntil(".jstree","li").andSelf().removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined"),
!1;else b.removeClass("jstree-unchecked jstree-undetermined").addClass("jstree-checked")});if(this.data.ui)this.data.ui.selected=this.get_checked();this.__callback(b)},check_node:function(a){this.change_state(a,!1)},uncheck_node:function(a){this.change_state(a,!0)},check_all:function(){var a=this;this.get_container().children("ul").children("li").each(function(){a.check_node(this,!1)})},uncheck_all:function(){var a=this;this.get_container().children("ul").children("li").each(function(){a.change_state(this,
!0)})},is_checked:function(a){a=this._get_node(a);return a.length?a.is(".jstree-checked"):!1},get_checked:function(a){a=!a||a===-1?this.get_container():this._get_node(a);return a.find("> ul > .jstree-checked, .jstree-undetermined > ul > .jstree-checked")},get_unchecked:function(a){a=!a||a===-1?this.get_container():this._get_node(a);return a.find("> ul > .jstree-unchecked, .jstree-undetermined > ul > .jstree-unchecked")},show_checkboxes:function(){this.get_container().children("ul").removeClass("jstree-no-checkboxes")},
hide_checkboxes:function(){this.get_container().children("ul").addClass("jstree-no-checkboxes")},_repair_state:function(a){a=this._get_node(a);if(a.length){var c=a.find("> ul > .jstree-checked").length,d=a.find("> ul > .jstree-undetermined").length,e=a.find("> ul > li").length;e===0?a.hasClass("jstree-undetermined")&&this.check_node(a):c===0&&d===0?this.uncheck_node(a):c===e?this.check_node(a):a.parentsUntil(".jstree","li").removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined")}},
reselect:function(){if(this.data.ui){var b=this,c=this.data.ui.to_select,c=a.map(a.makeArray(c),function(a){return"#"+a.toString().replace(/^#/,"").replace("\\/","/").replace("/","\\/")});this.deselect_all();a.each(c,function(a,c){b.check_node(c)});this.__callback()}}}})})(jQuery);
(function(a){a.vakata.xslt=function(b,d,e){var f="",g;if(document.recalc)return g=document.createElement("xml"),f=document.createElement("xml"),g.innerHTML=b,f.innerHTML=d,a("body").append(g).append(f),setTimeout(function(a,b,c){return function(){c.call(null,a.transformNode(b.XMLDocument));setTimeout(function(a,b){return function(){jQuery("body").remove(a).remove(b)}}(a,b),200)}}(g,f,e),100),!0;if(typeof window.DOMParser!=="undefined"&&typeof window.XMLHttpRequest!=="undefined"&&typeof window.XSLTProcessor!==
"undefined"){g=new XSLTProcessor;f=a.isFunction(g.transformDocument)?typeof window.XMLSerializer!=="undefined":!0;if(!f)return!1;b=(new DOMParser).parseFromString(b,"text/xml");d=(new DOMParser).parseFromString(d,"text/xml");a.isFunction(g.transformDocument)?(f=document.implementation.createDocument("","",null),g.transformDocument(b,d,f,null),e.call(null,XMLSerializer().serializeToString(f))):(g.importStylesheet(d),f=g.transformToFragment(b,document),e.call(null,a("<div>").append(f).html()));return!0}return!1};
var b={nest:'<?xml version="1.0" encoding="utf-8" ?><xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" ><xsl:output method="html" encoding="utf-8" omit-xml-declaration="yes" standalone="no" indent="no" media-type="text/html" /><xsl:template match="/">\t<xsl:call-template name="nodes">\t\t<xsl:with-param name="node" select="/root" />\t</xsl:call-template></xsl:template><xsl:template name="nodes">\t<xsl:param name="node" />\t<ul>\t<xsl:for-each select="$node/item">\t\t<xsl:variable name="children" select="count(./item) &gt; 0" />\t\t<li>\t\t\t<xsl:attribute name="class">\t\t\t\t<xsl:if test="position() = last()">jstree-last </xsl:if>\t\t\t\t<xsl:choose>\t\t\t\t\t<xsl:when test="@state = \'open\'">jstree-open </xsl:when>\t\t\t\t\t<xsl:when test="$children or @hasChildren or @state = \'closed\'">jstree-closed </xsl:when>\t\t\t\t\t<xsl:otherwise>jstree-leaf </xsl:otherwise>\t\t\t\t</xsl:choose>\t\t\t\t<xsl:value-of select="@class" />\t\t\t</xsl:attribute>\t\t\t<xsl:for-each select="@*">\t\t\t\t<xsl:if test="name() != \'class\' and name() != \'state\' and name() != \'hasChildren\'">\t\t\t\t\t<xsl:attribute name="{name()}"><xsl:value-of select="." /></xsl:attribute>\t\t\t\t</xsl:if>\t\t\t</xsl:for-each>\t<ins class="jstree-icon"><xsl:text>&#xa0;</xsl:text></ins>\t\t\t<xsl:for-each select="content/name">\t\t\t\t<a>\t\t\t\t<xsl:attribute name="href">\t\t\t\t\t<xsl:choose>\t\t\t\t\t<xsl:when test="@href"><xsl:value-of select="@href" /></xsl:when>\t\t\t\t\t<xsl:otherwise>#</xsl:otherwise>\t\t\t\t\t</xsl:choose>\t\t\t\t</xsl:attribute>\t\t\t\t<xsl:attribute name="class"><xsl:value-of select="@lang" /> <xsl:value-of select="@class" /></xsl:attribute>\t\t\t\t<xsl:attribute name="style"><xsl:value-of select="@style" /></xsl:attribute>\t\t\t\t<xsl:for-each select="@*">\t\t\t\t\t<xsl:if test="name() != \'style\' and name() != \'class\' and name() != \'href\'">\t\t\t\t\t\t<xsl:attribute name="{name()}"><xsl:value-of select="." /></xsl:attribute>\t\t\t\t\t</xsl:if>\t\t\t\t</xsl:for-each>\t\t\t\t\t<ins>\t\t\t\t\t\t<xsl:attribute name="class">jstree-icon \t\t\t\t\t\t\t<xsl:if test="string-length(attribute::icon) > 0 and not(contains(@icon,\'/\'))"><xsl:value-of select="@icon" /></xsl:if>\t\t\t\t\t\t</xsl:attribute>\t\t\t\t\t\t<xsl:if test="string-length(attribute::icon) > 0 and contains(@icon,\'/\')"><xsl:attribute name="style">background:url(<xsl:value-of select="@icon" />) center center no-repeat;</xsl:attribute></xsl:if>\t\t\t\t\t\t<xsl:text>&#xa0;</xsl:text>\t\t\t\t\t</ins>\t\t\t\t\t<xsl:value-of select="current()" />\t\t\t\t</a>\t\t\t</xsl:for-each>\t\t\t<xsl:if test="$children or @hasChildren"><xsl:call-template name="nodes"><xsl:with-param name="node" select="current()" /></xsl:call-template></xsl:if>\t\t</li>\t</xsl:for-each>\t</ul></xsl:template></xsl:stylesheet>',
flat:'<?xml version="1.0" encoding="utf-8" ?><xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" ><xsl:output method="html" encoding="utf-8" omit-xml-declaration="yes" standalone="no" indent="no" media-type="text/xml" /><xsl:template match="/">\t<ul>\t<xsl:for-each select="//item[not(@parent_id) or @parent_id=0 or not(@parent_id = //item/@id)]">\t\t<xsl:call-template name="nodes">\t\t\t<xsl:with-param name="node" select="." />\t\t\t<xsl:with-param name="is_last" select="number(position() = last())" />\t\t</xsl:call-template>\t</xsl:for-each>\t</ul></xsl:template><xsl:template name="nodes">\t<xsl:param name="node" />\t<xsl:param name="is_last" />\t<xsl:variable name="children" select="count(//item[@parent_id=$node/attribute::id]) &gt; 0" />\t<li>\t<xsl:attribute name="class">\t\t<xsl:if test="$is_last = true()">jstree-last </xsl:if>\t\t<xsl:choose>\t\t\t<xsl:when test="@state = \'open\'">jstree-open </xsl:when>\t\t\t<xsl:when test="$children or @hasChildren or @state = \'closed\'">jstree-closed </xsl:when>\t\t\t<xsl:otherwise>jstree-leaf </xsl:otherwise>\t\t</xsl:choose>\t\t<xsl:value-of select="@class" />\t</xsl:attribute>\t<xsl:for-each select="@*">\t\t<xsl:if test="name() != \'parent_id\' and name() != \'hasChildren\' and name() != \'class\' and name() != \'state\'">\t\t<xsl:attribute name="{name()}"><xsl:value-of select="." /></xsl:attribute>\t\t</xsl:if>\t</xsl:for-each>\t<ins class="jstree-icon"><xsl:text>&#xa0;</xsl:text></ins>\t<xsl:for-each select="content/name">\t\t<a>\t\t<xsl:attribute name="href">\t\t\t<xsl:choose>\t\t\t<xsl:when test="@href"><xsl:value-of select="@href" /></xsl:when>\t\t\t<xsl:otherwise>#</xsl:otherwise>\t\t\t</xsl:choose>\t\t</xsl:attribute>\t\t<xsl:attribute name="class"><xsl:value-of select="@lang" /> <xsl:value-of select="@class" /></xsl:attribute>\t\t<xsl:attribute name="style"><xsl:value-of select="@style" /></xsl:attribute>\t\t<xsl:for-each select="@*">\t\t\t<xsl:if test="name() != \'style\' and name() != \'class\' and name() != \'href\'">\t\t\t\t<xsl:attribute name="{name()}"><xsl:value-of select="." /></xsl:attribute>\t\t\t</xsl:if>\t\t</xsl:for-each>\t\t\t<ins>\t\t\t\t<xsl:attribute name="class">jstree-icon \t\t\t\t\t<xsl:if test="string-length(attribute::icon) > 0 and not(contains(@icon,\'/\'))"><xsl:value-of select="@icon" /></xsl:if>\t\t\t\t</xsl:attribute>\t\t\t\t<xsl:if test="string-length(attribute::icon) > 0 and contains(@icon,\'/\')"><xsl:attribute name="style">background:url(<xsl:value-of select="@icon" />) center center no-repeat;</xsl:attribute></xsl:if>\t\t\t\t<xsl:text>&#xa0;</xsl:text>\t\t\t</ins>\t\t\t<xsl:value-of select="current()" />\t\t</a>\t</xsl:for-each>\t<xsl:if test="$children">\t\t<ul>\t\t<xsl:for-each select="//item[@parent_id=$node/attribute::id]">\t\t\t<xsl:call-template name="nodes">\t\t\t\t<xsl:with-param name="node" select="." />\t\t\t\t<xsl:with-param name="is_last" select="number(position() = last())" />\t\t\t</xsl:call-template>\t\t</xsl:for-each>\t\t</ul>\t</xsl:if>\t</li></xsl:template></xsl:stylesheet>'};
a.jstree.plugin("xml_data",{defaults:{data:!1,ajax:!1,xsl:"flat",clean_node:!1,correct_state:!0},_fn:{load_node:function(a,b,e){var f=this;this.load_node_xml(a,function(){f.__callback({obj:a});b.call(this)},e)},_is_loaded:function(a){var b=this._get_settings().xml_data,a=this._get_node(a);return a==-1||!a||!b.ajax||a.is(".jstree-open, .jstree-leaf")||a.children("ul").children("li").size()>0},load_node_xml:function(b,d,e){var f=this.get_settings().xml_data,g=function(){},h=function(){};if((b=this._get_node(b))&&
b!==-1)if(b.data("jstree-is-loading"))return;else b.data("jstree-is-loading",!0);switch(!0){case !f.data&&!f.ajax:throw"Neither data nor ajax settings supplied.";case !!f.data&&!f.ajax||!!f.data&&!!f.ajax&&(!b||b===-1):(!b||b==-1)&&this.parse_xml(f.data,a.proxy(function(e){e?(e=e.replace(/ ?xmlns="[^"]*"/ig,""),e.length>10&&(e=a(e),this.get_container().children("ul").empty().append(e.children()),f.clean_node&&this.clean_node(b),d&&d.call(this))):f.correct_state&&(this.get_container().children("ul").empty(),
d&&d.call(this))},this));break;case !f.data&&!!f.ajax||!!f.data&&!!f.ajax&&b&&b!==-1:g=function(a,d,g){var h=this.get_settings().xml_data.ajax.error;h&&h.call(this,a,d,g);b!==-1&&b.length?(b.children(".jstree-loading").removeClass("jstree-loading"),b.data("jstree-is-loading",!1),d==="success"&&f.correct_state&&b.removeClass("jstree-open jstree-closed").addClass("jstree-leaf")):d==="success"&&f.correct_state&&this.get_container().children("ul").empty();e&&e.call(this)};f.ajax.context=this;f.ajax.error=
g;f.ajax.success=function(e,h,l){var e=l.responseText,j=this.get_settings().xml_data.ajax.success;j&&(e=j.call(this,e,h,l)||e);if(e=="")return g.call(this,l,h,"");this.parse_xml(e,a.proxy(function(e){e&&(e=e.replace(/ ?xmlns="[^"]*"/ig,""),e.length>10?(e=a(e),b===-1||!b?this.get_container().children("ul").empty().append(e.children()):(b.children(".jstree-loading").removeClass("jstree-loading"),b.append(e),b.data("jstree-is-loading",!1)),f.clean_node&&this.clean_node(b),d&&d.call(this)):b&&b!==-1?
(b.children(".jstree-loading").removeClass("jstree-loading"),b.data("jstree-is-loading",!1),f.correct_state&&(b.removeClass("jstree-open jstree-closed").addClass("jstree-leaf"),d&&d.call(this))):f.correct_state&&(this.get_container().children("ul").empty(),d&&d.call(this)))},this))};if(!f.ajax.dataType)f.ajax.dataType="xml";if(a.isFunction(f.ajax.url))f.ajax.url=f.ajax.url.call(this,b);if(a.isFunction(f.ajax.data))f.ajax.data=f.ajax.data.call(this,b);a.ajax(f.ajax)}},parse_xml:function(c,d){var e=
this._get_settings().xml_data;a.vakata.xslt(c,b[e.xsl],d)},get_xml:function(b,d,e,f,g){var h="",i=this._get_settings(),k=this,l,j,n,o,p;b||(b="flat");g||(g=0);d=this._get_node(d);if(!d||d===-1)d=this.get_container().find("> ul > li");e=a.isArray(e)?e:["id","class"];!g&&this.data.types&&a.inArray(i.types.type_attr,e)===-1&&e.push(i.types.type_attr);f=a.isArray(f)?f:[];g||(h+="<root>");d.each(function(){h+="<item";n=a(this);a.each(e,function(a,b){h+=" "+b+'="'+(n.attr(b)||"").replace(/jstree[^ ]*|$/ig,
"").replace(/^\s+$/ig,"")+'"'});n.hasClass("jstree-open")&&(h+=' state="open"');n.hasClass("jstree-closed")&&(h+=' state="closed"');b==="flat"&&(h+=' parent_id="'+g+'"');h+=">";h+="<content>";o=n.children("a");o.each(function(){l=a(this);p=!1;h+="<name";a.inArray("languages",i.plugins)!==-1&&a.each(i.languages,function(a,b){if(l.hasClass(b))return h+=' lang="'+b+'"',p=b,!1});f.length&&a.each(f,function(a,b){h+=" "+b+'="'+(l.attr(b)||"").replace(/jstree[^ ]*|$/ig,"")+'"'});l.children("ins").get(0).className.replace(/jstree[^ ]*|$/ig,
"").replace(/^\s+$/ig,"").length&&(h+=' icon="'+l.children("ins").get(0).className.replace(/jstree[^ ]*|$/ig,"").replace(/^\s+$/ig,"")+'"');l.children("ins").get(0).style.backgroundImage.length&&(h+=' icon="'+l.children("ins").get(0).style.backgroundImage.replace("url(","").replace(")","")+'"');h+=">";h+="<![CDATA["+k.get_text(l,p)+"]]\>";h+="</name>"});h+="</content>";j=n[0].id;n=n.find("> ul > li");j=n.length?k.get_xml(b,n,e,f,j):"";b=="nest"&&(h+=j);h+="</item>";b=="flat"&&(h+=j)});g||(h+="</root>");
return h}}})})(jQuery);
(function(a){a.expr[":"].jstree_contains=function(a,c,d){return(a.textContent||a.innerText||"").toLowerCase().indexOf(d[3].toLowerCase())>=0};a.jstree.plugin("search",{__init:function(){this.data.search.str="";this.data.search.result=a()},defaults:{ajax:!1,case_insensitive:!1},_fn:{search:function(b,c){if(b!==""){var d=this.get_settings().search,e=this,f=function(){},f=function(){};this.data.search.str=b;if(!c&&d.ajax!==!1&&this.get_container().find(".jstree-closed:eq(0)").length>0){this.search.supress_callback=
!0;d.ajax.context=this;d.ajax.error=function(){};d.ajax.success=function(a,b,c){var d=this.get_settings().search.ajax.success;d&&(a=d.call(this,a,b,c)||a);this.data.search.to_open=a;this._search_open()};if(a.isFunction(d.ajax.url))d.ajax.url=d.ajax.url.call(this,b);if(a.isFunction(d.ajax.data))d.ajax.data=d.ajax.data.call(this,b);if(!d.ajax.data)d.ajax.data={search_string:b};if(!d.ajax.dataType||/^json/.exec(d.ajax.dataType))d.ajax.dataType="json";a.ajax(d.ajax)}else this.data.search.result.length&&
this.clear_search(),this.data.search.result=this.get_container().find("a"+(this.data.languages?"."+this.get_lang():"")+":"+(d.case_insensitive?"jstree_contains":"contains")+"("+this.data.search.str+")"),this.data.search.result.addClass("jstree-search").parents(".jstree-closed").each(function(){e.open_node(this,!1,!0)}),this.__callback({nodes:this.data.search.result,str:b})}},clear_search:function(){this.data.search.result.removeClass("jstree-search");this.__callback(this.data.search.result);this.data.search.result=
a()},_search_open:function(){var b=this,c=!0,d=[],e=[];if(this.data.search.to_open.length&&(a.each(this.data.search.to_open,function(b,c){if(c=="#")return!0;a(c).length&&a(c).is(".jstree-closed")?d.push(c):e.push(c)}),d.length))this.data.search.to_open=e,a.each(d,function(a,c){b.open_node(c,function(){b._search_open(!0)})}),c=!1;c&&this.search(this.data.search.str,!0)}}})})(jQuery);
(function(a){a.vakata.context={cnt:a("<div id='vakata-contextmenu'>"),vis:!1,tgt:!1,par:!1,func:!1,data:!1,show:function(b,c,d,e,f,g){if(b=a.vakata.context.parse(b))a.vakata.context.vis=!0,a.vakata.context.tgt=c,a.vakata.context.par=g||c||null,a.vakata.context.data=f||null,a.vakata.context.cnt.html(b).css({visibility:"hidden",display:"block",left:0,top:0}),f=a.vakata.context.cnt.height(),g=a.vakata.context.cnt.width(),d+g>a(document).width()&&(d=a(document).width()-(g+5),a.vakata.context.cnt.find("li > ul").addClass("right")),
e+f>a(document).height()&&(e-=f+c[0].offsetHeight,a.vakata.context.cnt.find("li > ul").addClass("bottom")),a.vakata.context.cnt.css({left:d,top:e}).find("li:has(ul)").bind("mouseenter",function(){var b=a(document).width(),c=a(document).height(),d=a(this).children("ul").show();b!==a(document).width()&&d.toggleClass("right");c!==a(document).height()&&d.toggleClass("bottom")}).bind("mouseleave",function(){a(this).children("ul").hide()}).end().css({visibility:"visible"}).show(),a(document).triggerHandler("context_show.vakata")},
hide:function(){a.vakata.context.vis=!1;a.vakata.context.cnt.attr("class","").hide();a(document).triggerHandler("context_hide.vakata")},parse:function(b,c){if(!b)return!1;var d="",e=!1,f=!0;if(!c)a.vakata.context.func={};d+="<ul>";a.each(b,function(b,c){if(!c)return!0;a.vakata.context.func[b]=c.action;!f&&c.separator_before&&(d+="<li class='vakata-separator vakata-separator-before'></li>");f=!1;d+="<li class='"+(c._class||"")+(c._disabled?" jstree-contextmenu-disabled ":"")+"'><ins ";c.icon&&c.icon.indexOf("/")===
-1&&(d+=" class='"+c.icon+"' ");c.icon&&c.icon.indexOf("/")!==-1&&(d+=" style='background:url("+c.icon+") center center no-repeat;' ");d+=">&#160;</ins><a href='#' rel='"+b+"'>";c.submenu&&(d+="<span style='float:right;'>&raquo;</span>");d+=c.label+"</a>";c.submenu&&(e=a.vakata.context.parse(c.submenu,!0))&&(d+=e);d+="</li>";c.separator_after&&(d+="<li class='vakata-separator vakata-separator-after'></li>",f=!0)});d=d.replace(/<li class\='vakata-separator vakata-separator-after'\><\/li\>$/,"");d+=
"</ul>";return d.length>10?d:!1},exec:function(b){return a.isFunction(a.vakata.context.func[b])?(a.vakata.context.func[b].call(a.vakata.context.data,a.vakata.context.par),!0):!1}};a(function(){a.vakata.css.add_sheet({str:"#vakata-contextmenu { display:none; position:absolute; margin:0; padding:0; min-width:180px; background:#ebebeb; border:1px solid silver; z-index:10000; *width:180px; } #vakata-contextmenu ul { min-width:180px; *width:180px; } #vakata-contextmenu ul, #vakata-contextmenu li { margin:0; padding:0; list-style-type:none; display:block; } #vakata-contextmenu li { line-height:20px; min-height:20px; position:relative; padding:0px; } #vakata-contextmenu li a { padding:1px 6px; line-height:17px; display:block; text-decoration:none; margin:1px 1px 0 1px; } #vakata-contextmenu li ins { float:left; width:16px; height:16px; text-decoration:none; margin-right:2px; } #vakata-contextmenu li a:hover, #vakata-contextmenu li.vakata-hover > a { background:gray; color:white; } #vakata-contextmenu li ul { display:none; position:absolute; top:-2px; left:100%; background:#ebebeb; border:1px solid gray; } #vakata-contextmenu .right { right:100%; left:auto; } #vakata-contextmenu .bottom { bottom:-1px; top:auto; } #vakata-contextmenu li.vakata-separator { min-height:0; height:1px; line-height:1px; font-size:1px; overflow:hidden; margin:0 2px; background:silver; /* border-top:1px solid #fefefe; */ padding:0; } "});
a.vakata.context.cnt.delegate("a","click",function(a){a.preventDefault()}).delegate("a","mouseup",function(){!a(this).parent().hasClass("jstree-contextmenu-disabled")&&a.vakata.context.exec(a(this).attr("rel"))?a.vakata.context.hide():a(this).blur()}).delegate("a","mouseover",function(){a.vakata.context.cnt.find(".vakata-hover").removeClass("vakata-hover")}).appendTo("body");a(document).bind("mousedown",function(b){a.vakata.context.vis&&!a.contains(a.vakata.context.cnt[0],b.target)&&a.vakata.context.hide()});
typeof a.hotkeys!=="undefined"&&a(document).bind("keydown","up",function(b){if(a.vakata.context.vis){var c=a.vakata.context.cnt.find("ul:visible").last().children(".vakata-hover").removeClass("vakata-hover").prevAll("li:not(.vakata-separator)").first();c.length||(c=a.vakata.context.cnt.find("ul:visible").last().children("li:not(.vakata-separator)").last());c.addClass("vakata-hover");b.stopImmediatePropagation();b.preventDefault()}}).bind("keydown","down",function(b){if(a.vakata.context.vis){var c=
a.vakata.context.cnt.find("ul:visible").last().children(".vakata-hover").removeClass("vakata-hover").nextAll("li:not(.vakata-separator)").first();c.length||(c=a.vakata.context.cnt.find("ul:visible").last().children("li:not(.vakata-separator)").first());c.addClass("vakata-hover");b.stopImmediatePropagation();b.preventDefault()}}).bind("keydown","right",function(b){a.vakata.context.vis&&(a.vakata.context.cnt.find(".vakata-hover").children("ul").show().children("li:not(.vakata-separator)").removeClass("vakata-hover").first().addClass("vakata-hover"),
b.stopImmediatePropagation(),b.preventDefault())}).bind("keydown","left",function(b){a.vakata.context.vis&&(a.vakata.context.cnt.find(".vakata-hover").children("ul").hide().children(".vakata-separator").removeClass("vakata-hover"),b.stopImmediatePropagation(),b.preventDefault())}).bind("keydown","esc",function(b){a.vakata.context.hide();b.preventDefault()}).bind("keydown","space",function(b){a.vakata.context.cnt.find(".vakata-hover").last().children("a").click();b.preventDefault()})});a.jstree.plugin("contextmenu",
{__init:function(){this.get_container().delegate("a","contextmenu.jstree",a.proxy(function(a){a.preventDefault();this.show_contextmenu(a.currentTarget,a.pageX,a.pageY)},this)).bind("destroy.jstree",a.proxy(function(){this.data.contextmenu&&a.vakata.context.hide()},this));a(document).bind("context_hide.vakata",a.proxy(function(){this.data.contextmenu=!1},this))},defaults:{select_node:!1,show_at_node:!0,items:{create:{separator_before:!1,separator_after:!0,label:"Create",action:function(a){this.create(a)}},
rename:{separator_before:!1,separator_after:!1,label:"Rename",action:function(a){this.rename(a)}},remove:{separator_before:!1,icon:!1,separator_after:!1,label:"Delete",action:function(a){this.remove(a)}},ccp:{separator_before:!0,icon:!1,separator_after:!1,label:"Edit",action:!1,submenu:{cut:{separator_before:!1,separator_after:!1,label:"Cut",action:function(a){this.cut(a)}},copy:{separator_before:!1,icon:!1,separator_after:!1,label:"Copy",action:function(a){this.copy(a)}},paste:{separator_before:!1,
icon:!1,separator_after:!1,label:"Paste",action:function(a){this.paste(a)}}}}}},_fn:{show_contextmenu:function(b,c,d){var b=this._get_node(b),e=this.get_settings().contextmenu,f=b.children("a:visible:eq(0)"),g=!1;e.select_node&&this.data.ui&&!this.is_selected(b)&&(this.deselect_all(),this.select_node(b,!0));if(e.show_at_node||typeof c==="undefined"||typeof d==="undefined")g=f.offset(),c=g.left,d=g.top+this.data.core.li_height;if(a.isFunction(e.items))e.items=e.items.call(this,b);this.data.contextmenu=
!0;a.vakata.context.show(e.items,f,c,d,this,b);this.data.themes&&a.vakata.context.cnt.attr("class","jstree-"+this.data.themes.theme+"-context")}}})})(jQuery);
(function(a){a.jstree.plugin("types",{__init:function(){var b=this._get_settings().types;this.data.types.attach_to=[];this.get_container().bind("init.jstree",a.proxy(function(){var c=b.type_attr,d="",e=this;a.each(b.types,function(b,g){a.each(g,function(a){/^(max_depth|max_children|icon|valid_children)$/.test(a)||e.data.types.attach_to.push(a)});if(!g.icon)return!0;if(g.icon.image||g.icon.position)d+=b=="default"?".jstree-"+e.get_index()+" a > .jstree-icon { ":".jstree-"+e.get_index()+" li["+c+"="+
b+"] > a > .jstree-icon { ",g.icon.image&&(d+=" background-image:url("+g.icon.image+"); "),d+=g.icon.position?" background-position:"+g.icon.position+"; ":" background-position:0 0; ",d+="} "});d!=""&&a.vakata.css.add_sheet({str:d})},this)).bind("before.jstree",a.proxy(function(b,d){if(a.inArray(d.func,this.data.types.attach_to)!==-1){var e=this._get_settings().types.types,f=this._get_type(d.args[0]);if((e[f]&&typeof e[f][d.func]!=="undefined"||e["default"]&&typeof e["default"][d.func]!=="undefined")&&
!this._check(d.func,d.args[0]))return b.stopImmediatePropagation(),!1}},this))},defaults:{max_children:-1,max_depth:-1,valid_children:"all",type_attr:"rel",types:{"default":{max_children:-1,max_depth:-1,valid_children:"all"}}},_fn:{_get_type:function(a){a=this._get_node(a);return!a||!a.length?!1:a.attr(this._get_settings().types.type_attr)||"default"},set_type:function(a,c){c=this._get_node(c);return!c.length||!a?!1:c.attr(this._get_settings().types.type_attr,a)},_check:function(b,c,d){var e=!1,f=
this._get_type(c),g=0,h=this,i=this._get_settings().types;if(c===-1)if(i[b])e=i[b];else return;else{if(f===!1)return;i.types[f]&&i.types[f][b]?e=i.types[f][b]:i.types["default"]&&i.types["default"][b]&&(e=i.types["default"][b])}a.isFunction(e)&&(e=e.call(this,c));b==="max_depth"&&c!==-1&&d!==!1&&i.max_depth!==-2&&e!==0&&this._get_node(c).children("a:eq(0)").parentsUntil(".jstree","li").each(function(a){if(i.max_depth!==-1&&i.max_depth-(a+1)<=0)return e=0,!1;g=a===0?e:h._check(b,this,!1);if(g!==-1&&
g-(a+1)<=0)return e=0,!1;if(g>=0&&(g-(a+1)<e||e<0))e=g-(a+1);if(i.max_depth>=0&&(i.max_depth-(a+1)<e||e<0))e=i.max_depth-(a+1)});return e},check_move:function(){if(!this.__call_old())return!1;var b=this._get_move(),c=b.rt._get_settings().types,d=b.rt._check("max_children",b.cr),e=b.rt._check("max_depth",b.cr),f=b.rt._check("valid_children",b.cr),g=0,h=1;if(f==="none")return!1;if(a.isArray(f)&&b.ot&&b.ot._get_type&&(b.o.each(function(){if(a.inArray(b.ot._get_type(this),f)===-1)return h=!1}),h===!1))return!1;
if(c.max_children!==-2&&d!==-1&&(g=b.cr===-1?this.get_container().children("> ul > li").not(b.o).length:b.cr.children("> ul > li").not(b.o).length,g+b.o.length>d))return!1;if(c.max_depth!==-2&&e!==-1){h=0;if(e===0)return!1;if(typeof b.o.d==="undefined"){for(c=b.o;c.length>0;)c=c.find("> ul > li"),h++;b.o.d=h}if(e-b.o.d<0)return!1}return!0},create_node:function(b,c,d,e,f,g){if(!g&&(f||this._is_loaded(b))){var h=c&&c.match(/^before|after$/i)&&b!==-1?this._get_parent(b):this._get_node(b),i=this._get_settings().types,
k=this._check("max_children",h),l=this._check("max_depth",h),j=this._check("valid_children",h);d||(d={});if(j==="none")return!1;if(a.isArray(j))if(!d.attr||!d.attr[i.type_attr]){if(!d.attr)d.attr={};d.attr[i.type_attr]=j[0]}else if(a.inArray(d.attr[i.type_attr],j)===-1)return!1;if(i.max_children!==-2&&k!==-1&&(h=h===-1?this.get_container().children("> ul > li").length:h.children("> ul > li").length,h+1>k))return!1;if(i.max_depth!==-2&&l!==-1&&l-1<0)return!1}return this.__call_old(!0,b,c,d,e,f,g)}}})})(jQuery);
(function(a){a.jstree.plugin("html_data",{__init:function(){this.data.html_data.original_container_html=this.get_container().find(" > ul > li").clone(!0);this.data.html_data.original_container_html.find("li").andSelf().contents().filter(function(){return this.nodeType==3}).remove()},defaults:{data:!1,ajax:!1,correct_state:!0},_fn:{load_node:function(a,c,d){var e=this;this.load_node_html(a,function(){e.__callback({obj:a});c.call(this)},d)},_is_loaded:function(a){a=this._get_node(a);return a==-1||!a||
!this._get_settings().html_data.ajax||a.is(".jstree-open, .jstree-leaf")||a.children("ul").children("li").size()>0},load_node_html:function(b,c,d){var e,f=this.get_settings().html_data,g=function(){};e=function(){};if((b=this._get_node(b))&&b!==-1)if(b.data("jstree-is-loading"))return;else b.data("jstree-is-loading",!0);switch(!0){case !f.data&&!f.ajax:if(!b||b==-1)this.get_container().children("ul").empty().append(this.data.html_data.original_container_html).find("li, a").filter(function(){return this.firstChild.tagName!==
"INS"}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon"),this.clean_node();c&&c.call(this);break;case !!f.data&&!f.ajax||!!f.data&&!!f.ajax&&(!b||b===-1):if(!b||b==-1)e=a(f.data),e.is("ul")||(e=a("<ul>").append(e)),this.get_container().children("ul").empty().append(e.children()).find("li, a").filter(function(){return this.firstChild.tagName!=="INS"}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon"),
this.clean_node();c&&c.call(this);break;case !f.data&&!!f.ajax||!!f.data&&!!f.ajax&&b&&b!==-1:b=this._get_node(b);g=function(a,c,e){var g=this.get_settings().html_data.ajax.error;g&&g.call(this,a,c,e);b!=-1&&b.length?(b.children(".jstree-loading").removeClass("jstree-loading"),b.data("jstree-is-loading",!1),c==="success"&&f.correct_state&&b.removeClass("jstree-open jstree-closed").addClass("jstree-leaf")):c==="success"&&f.correct_state&&this.get_container().children("ul").empty();d&&d.call(this)};
f.ajax.context=this;f.ajax.error=g;f.ajax.success=function(d,e,k){var l=this.get_settings().html_data.ajax.success;l&&(d=l.call(this,d,e,k)||d);if(d=="")return g.call(this,k,e,"");d?(d=a(d),d.is("ul")||(d=a("<ul>").append(d)),b==-1||!b?this.get_container().children("ul").empty().append(d.children()).find("li, a").filter(function(){return this.firstChild.tagName!=="INS"}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon"):
(b.children(".jstree-loading").removeClass("jstree-loading"),b.append(d).find("li, a").filter(function(){return this.firstChild.tagName!=="INS"}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon"),b.data("jstree-is-loading",!1)),this.clean_node(b),c&&c.call(this)):b&&b!==-1?(b.children(".jstree-loading").removeClass("jstree-loading"),b.data("jstree-is-loading",!1),f.correct_state&&(b.removeClass("jstree-open jstree-closed").addClass("jstree-leaf"),
c&&c.call(this))):f.correct_state&&(this.get_container().children("ul").empty(),c&&c.call(this))};if(!f.ajax.dataType)f.ajax.dataType="html";if(a.isFunction(f.ajax.url))f.ajax.url=f.ajax.url.call(this,b);if(a.isFunction(f.ajax.data))f.ajax.data=f.ajax.data.call(this,b);a.ajax(f.ajax)}}}});a.jstree.defaults.plugins.push("html_data")})(jQuery);
(function(a){a.jstree.plugin("themeroller",{__init:function(){var b=this._get_settings().themeroller;this.get_container().addClass("ui-widget-content").delegate("a","mouseenter.jstree",function(){a(this).addClass(b.item_h)}).delegate("a","mouseleave.jstree",function(){a(this).removeClass(b.item_h)}).bind("open_node.jstree create_node.jstree",a.proxy(function(a,b){this._themeroller(b.rslt.obj)},this)).bind("loaded.jstree refresh.jstree",a.proxy(function(){this._themeroller()},this)).bind("close_node.jstree",
a.proxy(function(a,d){d.rslt.obj.children("ins").removeClass(b.opened).addClass(b.closed)},this)).bind("select_node.jstree",a.proxy(function(a,d){d.rslt.obj.children("a").addClass(b.item_a)},this)).bind("deselect_node.jstree deselect_all.jstree",a.proxy(function(){this.get_container().find("."+b.item_a).removeClass(b.item_a).end().find(".jstree-clicked").addClass(b.item_a)},this)).bind("move_node.jstree",a.proxy(function(a,b){this._themeroller(b.rslt.o)},this))},__destroy:function(){var b=this._get_settings().themeroller,
c=["ui-icon"];a.each(b,function(a,b){b=b.split(" ");b.length&&(c=c.concat(b))});this.get_container().removeClass("ui-widget-content").find("."+c.join(", .")).removeClass(c.join(" "))},_fn:{_themeroller:function(a){var c=this._get_settings().themeroller,a=!a||a==-1?this.get_container():this._get_node(a).parent();a.find("li.jstree-closed > ins.jstree-icon").removeClass(c.opened).addClass("ui-icon "+c.closed).end().find("li.jstree-open > ins.jstree-icon").removeClass(c.closed).addClass("ui-icon "+c.opened).end().find("a").addClass(c.item).children("ins.jstree-icon").addClass("ui-icon "+
c.item_icon)}},defaults:{opened:"ui-icon-triangle-1-se",closed:"ui-icon-triangle-1-e",item:"ui-state-default",item_h:"ui-state-hover",item_a:"ui-state-active",item_icon:"ui-icon-folder-collapsed"}});a(function(){a.vakata.css.add_sheet({str:".jstree .ui-icon { overflow:visible; } .jstree a { padding:0 2px; }"})})})(jQuery);
(function(a){a.jstree.plugin("unique",{__init:function(){this.get_container().bind("before.jstree",a.proxy(function(b,c){var d=[],e=!0,f;c.func=="move_node"&&c.args[4]===!0&&c.args[0].o&&c.args[0].o.length&&(c.args[0].o.children("a").each(function(){d.push(a(this).text().replace(/^\s+/g,""))}),e=this._check_unique(d,c.args[0].np.find("> ul > li").not(c.args[0].o)));if(c.func=="create_node"&&(c.args[4]||this._is_loaded(c.args[0]))){e=this._get_node(c.args[0]);if(c.args[1]&&(c.args[1]==="before"||c.args[1]===
"after"))if(e=this._get_parent(c.args[0]),!e||e===-1)e=this.get_container();typeof c.args[2]==="string"?d.push(c.args[2]):!c.args[2]||!c.args[2].data?d.push(this._get_settings().core.strings.new_node):d.push(c.args[2].data);e=this._check_unique(d,e.find("> ul > li"))}if(c.func=="rename_node"){d.push(c.args[1]);f=this._get_node(c.args[0]);e=this._get_parent(f);if(!e||e===-1)e=this.get_container();e=this._check_unique(d,e.find("> ul > li").not(f))}if(!e)return b.stopPropagation(),!1},this))},_fn:{_check_unique:function(b,
c){var d=[];c.children("a").each(function(){d.push(a(this).text().replace(/^\s+/g,""))});if(!d.length||!b.length)return!0;d=d.sort().join(",,").replace(/(,|^)([^,]+)(,,\2)+(,|$)/g,"$1$2$4").replace(/,,+/g,",").replace(/,$/,"").split(",");return d.length+b.length!=d.concat(b).sort().join(",,").replace(/(,|^)([^,]+)(,,\2)+(,|$)/g,"$1$2$4").replace(/,,+/g,",").replace(/,$/,"").split(",").length?!1:!0},check_move:function(){if(!this.__call_old())return!1;var b=this._get_move(),c=[];return b.o&&b.o.length?
(b.o.children("a").each(function(){c.push(a(this).text().replace(/^\s+/g,""))}),this._check_unique(c,b.np.find("> ul > li").not(b.o))):!0}}})})(jQuery);
(function(a,b){a.fn.lazyload=function(c){var d=function(c){c=a(c).offset();/; CPU.*OS (?:3_2|4_0)/i.test(navigator.userAgent)&&"getBoundingClientRect"in document.documentElement&&(c.top-=b.scrollY,c.left-=b.scrollX);return c},e=this,f={threshold:0,container:b,effect:"show",namespace:".lazyload"};c&&a.extend(f,c);var g=a(f.container),h=f.namespace,i="appear"+h,c="resize"+h,k="scroll"+h,l=function(c){c=a(c);if(!c.length)return!1;var e=f.threshold,h;if(g[0]===b)var k=g.height()+g.scrollTop(),l=g.scrollLeft(),
i=g.width()+g.scrollLeft(),s=g.scrollTop();else h=d(g),k=h.top+g.height(),l=h.left,i=h.left+g.width(),s=h.top;h=d(c);var C=h.top+c.height(),v=h.left,c=h.left+c.width();return h.top+e<=k&&v+e<=i&&C-e>=s&&c-e>l};e.each(function(){var b=this;if(l(a(b))&&!a(b).attr("original"))b.loaded=!0;else{a(b).data("original",a(b).attr("original")||a(b).attr("src"));if(!a(b).attr("src")||f.placeholder===a(b).attr("src")||!l(a(b)))f.placeholder?a(b).attr("src",f.placeholder):a(b).removeAttr("src"),b.loaded=!1;a(b).one(i,
function(){this.loaded||a("<img />").load(function(){a(b).hide().attr("src",a(b).data("original"))[f.effect](f.effectSpeed).removeData("original");b.loaded=!0}).attr("src",a(b).data("original"))})}});g.bind(k+" "+c,function(){e.each(function(){l(this)&&!this.loaded&&a(this).trigger(i)});e=a(a.grep(e,function(a){return!a.loaded}));e.length||g.unbind(h)}).trigger(k);return this}})(jQuery,window);
new function(a){var b=a.separator||"&",c=a.spaces===!1?!1:!0,d=a.prefix!==!1?a.hash===!0?"#":"?":"",e=a.numbers===!1?!1:!0;jQuery.query=new function(){var a=function(a,b){return a!=void 0&&a!==null&&(b?a.constructor==b:!0)},g=function(a){for(var b=/\[([^[]*)\]/g,c=/^([^[]+)(\[.*\])?$/.exec(a),d=c[1],e=[];a=b.exec(c[2]);)e.push(a[1]);return[d,e]},h=function(b,c,d){var e=c.shift();typeof b!="object"&&(b=null);if(e==="")if(b||(b=[]),a(b,Array))b.push(c.length==0?d:h(null,c.slice(0),d));else if(a(b,Object)){for(e=
0;b[e++]!=null;);b[--e]=c.length==0?d:h(b[e],c.slice(0),d)}else b=[],b.push(c.length==0?d:h(null,c.slice(0),d));else if(e&&e.match(/^\s*[0-9]+\s*$/)){var g=parseInt(e,10);b||(b=[]);b[g]=c.length==0?d:h(b[g],c.slice(0),d)}else if(e){g=e.replace(/^\s*|\s*$/g,"");b||(b={});if(a(b,Array)){for(var i={},e=0;e<b.length;++e)i[e]=b[e];b=i}b[g]=c.length==0?d:h(b[g],c.slice(0),d)}else return d;return b},i=function(a){var b=this;b.keys={};a.queryObject?jQuery.each(a.get(),function(a,c){b.SET(a,c)}):jQuery.each(arguments,
function(){var a;a=(""+this).replace(/^[?#]/,"");a=a.replace(/[;&]$/,"");c&&(a=a.replace(/[+]/g," "));jQuery.each(a.split(/[&;]/),function(){var a=decodeURIComponent(this.split("=")[0]||""),c=decodeURIComponent(this.split("=")[1]||"");a&&(e&&(/^[+-]?[0-9]+\.[0-9]*$/.test(c)?c=parseFloat(c):/^[+-]?[0-9]+$/.test(c)&&(c=parseInt(c,10))),b.SET(a,!c&&c!==0?!0:c))})});return b};i.prototype={queryObject:!0,has:function(b,c){var d=this.get(b);return a(d,c)},GET:function(b){if(!a(b))return this.keys;for(var c=
g(b),b=c[1],c=this.keys[c[0]];c!=null&&b.length!=0;)c=c[b.shift()];return typeof c=="number"?c:c||""},get:function(b){b=this.GET(b);if(a(b,Object))return jQuery.extend(!0,{},b);else if(a(b,Array))return b.slice(0);return b},SET:function(b,c){var d=!a(c)?null:c,e=g(b),i=e[0];this.keys[i]=h(this.keys[i],e[1].slice(0),d);return this},set:function(a,b){return this.copy().SET(a,b)},REMOVE:function(a){return this.SET(a,null).COMPACT()},remove:function(a){return this.copy().REMOVE(a)},EMPTY:function(){var a=
this;jQuery.each(a.keys,function(b){delete a.keys[b]});return a},load:function(a){var b=a.replace(/^.*?[#](.+?)(?:\?.+)?$/,"$1"),c=a.replace(/^.*?[?](.+?)(?:#.+)?$/,"$1");return new i(a.length==c.length?"":c,a.length==b.length?"":b)},empty:function(){return this.copy().EMPTY()},copy:function(){return new i(this)},COMPACT:function(){function b(c){var d=typeof c=="object"?a(c,Array)?[]:{}:c;typeof c=="object"&&jQuery.each(c,function(c,e){if(!a(e))return!0;var g=b(e);a(d,Array)?d.push(g):d[c]=g});return d}
this.keys=b(this.keys);return this},compact:function(){return this.copy().COMPACT()},toString:function(){var e=[],g=[],h=function(a){a+="";a=encodeURIComponent(a);c&&(a=a.replace(/%20/g,"+"));return a},i=function(b,c){var d=function(a){return!c||c==""?""+a:[c,"[",a,"]"].join("")};jQuery.each(b,function(b,c){if(typeof c=="object")i(c,d(b));else{var e=d(b);a(c)&&c!==!1&&(e=[h(e)],c!==!0&&(e.push("="),e.push(h(c))),g.push(e.join("")))}})};i(this.keys);g.length>0&&e.push(d);e.push(g.join(b));return e.join("")}};
return new i(location.search,location.hash)}}(jQuery.query||{});
(function(a){function b(a){return typeof a=="object"?a:{top:a,left:a}}var c=a.scrollTo=function(b,c,f){a(window).scrollTo(b,c,f)};c.defaults={axis:"xy",duration:parseFloat(a.fn.jquery)>=1.3?0:1};c.window=function(){return a(window)._scrollable()};a.fn._scrollable=function(){return this.map(function(){if(this.nodeName&&a.inArray(this.nodeName.toLowerCase(),["iframe","#document","html","body"])==-1)return this;var b=(this.contentWindow||this).document||this.ownerDocument||this;return a.browser.safari||
b.compatMode=="BackCompat"?b.body:b.documentElement})};a.fn.scrollTo=function(d,e,f){typeof e=="object"&&(f=e,e=0);typeof f=="function"&&(f={onAfter:f});d=="max"&&(d=9E9);f=a.extend({},c.defaults,f);e=e||f.speed||f.duration;f.queue=f.queue&&f.axis.length>1;f.queue&&(e/=2);f.offset=b(f.offset);f.over=b(f.over);return this._scrollable().each(function(){function g(a){i.animate(j,e,f.easing,a&&function(){a.call(this,d,f)})}var h=this,i=a(h),k=d,l,j={},n=i.is("html,body");switch(typeof k){case "number":case "string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(k)){k=
b(k);break}k=a(k,this);case "object":if(k.is||k.style)l=(k=a(k)).offset()}a.each(f.axis.split(""),function(a,b){var d=b=="x"?"Left":"Top",e=d.toLowerCase(),s="scroll"+d,C=h[s],v=c.max(h,b);l?(j[s]=l[e]+(n?0:C-i.offset()[e]),f.margin&&(j[s]-=parseInt(k.css("margin"+d))||0,j[s]-=parseInt(k.css("border"+d+"Width"))||0),j[s]+=f.offset[e]||0,f.over[e]&&(j[s]+=k[b=="x"?"width":"height"]()*f.over[e])):(d=k[e],j[s]=d.slice&&d.slice(-1)=="%"?parseFloat(d)/100*v:d);/^\d+$/.test(j[s])&&(j[s]=j[s]<=0?0:Math.min(j[s],
v));!a&&f.queue&&(C!=j[s]&&g(f.onAfterFirst),delete j[s])});g(f.onAfter)}).end()};c.max=function(b,c){var f=c=="x"?"Width":"Height",g="scroll"+f;if(!a(b).is("html,body"))return b[g]-a(b)[f.toLowerCase()]();var f="client"+f,h=b.ownerDocument.documentElement,i=b.ownerDocument.body;return Math.max(h[g],i[g])-Math.min(h[f],i[f])}})(jQuery);
(function(a){a.fn.superfish=function(b){var d=a.fn.superfish,e=d.c,f=a(['<span class="',e.arrowClass,'"> &#187;</span>'].join("")),g=function(){var b=a(this),c=i(b);clearTimeout(c.sfTimer);b.showSuperfishUl().siblings().hideSuperfishUl()},h=function(){var b=a(this),c=i(b),e=d.op;clearTimeout(c.sfTimer);c.sfTimer=setTimeout(function(){e.retainPath=a.inArray(b[0],e.$path)>-1;b.hideSuperfishUl();e.$path.length&&b.parents(["li.",e.hoverClass].join("")).length<1&&g.call(e.$path)},e.delay)},i=function(a){a=
a.parents(["ul.",e.menuClass,":first"].join(""))[0];d.op=d.o[a.serial];return a};return this.each(function(){var i=this.serial=d.o.length,l=a.extend({},d.defaults,b);l.$path=a("li."+l.pathClass,this).slice(0,l.pathLevels).each(function(){a(this).addClass([l.hoverClass,e.bcClass].join(" ")).filter("li:has(ul)").removeClass(l.pathClass)});d.o[i]=d.op=l;a("li:has(ul)",this)[a.fn.hoverIntent&&!l.disableHI?"hoverIntent":"hover"](g,h).each(function(){l.autoArrows&&a(">a:first-child",this).addClass(e.anchorClass).append(f.clone())}).not("."+
e.bcClass).hideSuperfishUl();var j=a("a",this);j.each(function(a){var b=j.eq(a).parents("li");j.eq(a).focus(function(){g.call(b)}).blur(function(){h.call(b)})});l.onInit.call(this)}).each(function(){var b=[e.menuClass];d.op.dropShadows&&!(a.browser.msie&&a.browser.version<7)&&b.push(e.shadowClass);a(this).addClass(b.join(" "))})};var b=a.fn.superfish;b.o=[];b.op={};b.IE7fix=function(){var c=b.op;a.browser.msie&&a.browser.version>6&&c.dropShadows&&c.animation.opacity!=void 0&&this.toggleClass(b.c.shadowClass+
"-off")};b.c={bcClass:"sf-breadcrumb",menuClass:"sf-js-enabled",anchorClass:"sf-with-ul",arrowClass:"sf-sub-indicator",shadowClass:"sf-shadow"};b.defaults={hoverClass:"sfHover",pathClass:"overideThisToUse",pathLevels:1,delay:800,animation:{opacity:"show"},speed:"normal",autoArrows:!0,dropShadows:!0,disableHI:!1,onInit:function(){},onBeforeShow:function(){},onShow:function(){},onHide:function(){}};a.fn.extend({hideSuperfishUl:function(){var c=b.op,d=c.retainPath===!0?c.$path:"";c.retainPath=!1;d=a(["li.",
c.hoverClass].join(""),this).add(this).not(d).removeClass(c.hoverClass).find(">ul").hide().css("visibility","hidden");c.onHide.call(d);return this},showSuperfishUl:function(){var a=b.op,d=this.addClass(a.hoverClass).find(">ul:hidden").css("visibility","visible");b.IE7fix.call(d);a.onBeforeShow.call(d);d.animate(a.animation,a.speed,function(){b.IE7fix.call(d);a.onShow.call(d)});return this}})})(jQuery);
(function(a){var b=["swfupload_loaded_handler","file_queued_handler","file_queue_error_handler","file_dialog_start_handler","file_dialog_complete_handler","upload_start_handler","upload_progress_handler","upload_error_handler","upload_success_handler","upload_complete_handler","queue_complete_handler"],c=[];a.fn.swfupload=function(){var d=a.makeArray(arguments);return this.each(function(){var e;if(d.length==1&&typeof d[0]=="object"){if(e=a(this).data("__swfu"),!e){var f=d[0],g=a(this);e=[];a.merge(e,
b);a.merge(e,c);a.each(e,function(b,c){var d=c.replace(/_handler$/,"").replace(/_([a-z])/g,function(a,b){return b.toUpperCase()});f[c]=function(){var b=a.Event(d);g.trigger(b,a.makeArray(arguments));return!b.isDefaultPrevented()}});a(this).data("__swfu",new SWFUpload(f))}}else if(d.length>0&&typeof d[0]=="string"){var h=d.shift();(e=a(this).data("__swfu"))&&e[h]&&e[h].apply(e,d)}})};a.swfupload={additionalHandlers:function(){if(arguments.length===0)return c.slice();else a(arguments).each(function(b,
e){a.merge(c,a.makeArray(e))})},defaultHandlers:function(){return b.slice()},getInstance:function(b){return a(b).data("__swfu")}}})(jQuery);
(function(a){a.extend({tablesorter:new function(){function b(a,c){d(a+","+((new Date).getTime()-c.getTime())+"ms")}function d(a){typeof console!="undefined"&&typeof console.debug!="undefined"?console.log(a):alert(a)}function e(b,c){if(b.config.debug)var e="";if(b.tBodies.length!=0){var g=b.tBodies[0].rows;if(g[0])for(var i=[],k=g[0].cells.length,l=0;l<k;l++){var j=!1;a.metadata&&a(c[l]).metadata()&&a(c[l]).metadata().sorter?j=f(a(c[l]).metadata().sorter):b.config.headers[l]&&b.config.headers[l].sorter&&
(j=f(b.config.headers[l].sorter));if(!j)a:{for(var j=b,o=g,n=-1,p=l,z=v.length,y=!1,q=!1,s=!0;q==""&&s;)n++,o[n]?(y=o[n].cells[p],q=a.trim(h(j.config,y)),j.config.debug&&d("Checking if value was empty on row:"+n)):s=!1;for(o=1;o<z;o++)if(v[o].is(q,j,y)){j=v[o];break a}j=v[0]}b.config.debug&&(e+="column:"+l+" parser:"+j.id+"\n");i.push(j)}b.config.debug&&d(e);return i}}function f(a){for(var b=v.length,c=0;c<b;c++)if(v[c].id.toLowerCase()==a.toLowerCase())return v[c];return!1}function g(d){if(d.config.debug)var e=
new Date;for(var f=d.tBodies[0]&&d.tBodies[0].rows.length||0,g=d.tBodies[0].rows[0]&&d.tBodies[0].rows[0].cells.length||0,i=d.config.parsers,k={row:[],normalized:[]},l=0;l<f;++l){var j=a(d.tBodies[0].rows[l]),o=[];if(j.hasClass(d.config.cssChildRow))k.row[k.row.length-1]=k.row[k.row.length-1].add(j);else{k.row.push(j);for(var n=0;n<g;++n)o.push(i[n].format(h(d.config,j[0].cells[n]),d,j[0].cells[n]));o.push(k.normalized.length);k.normalized.push(o)}}d.config.debug&&b("Building cache for "+f+" rows:",
e);return k}function h(b,c){var d="";if(!c)return"";if(!b.supportsTextContent)b.supportsTextContent=c.textContent||!1;return d=b.textExtraction=="simple"?b.supportsTextContent?c.textContent:c.childNodes[0]&&c.childNodes[0].hasChildNodes()?c.childNodes[0].innerHTML:c.innerHTML:typeof b.textExtraction=="function"?b.textExtraction(c):a(c).text()}function i(d,e){if(d.config.debug)var f=new Date;for(var g=e.row,h=e.normalized,i=h.length,k=h[0].length-1,j=a(d.tBodies[0]),l=[],o=0;o<i;o++){var p=h[o][k];
l.push(g[p]);if(!d.config.appender)for(var y=g[p].length,q=0;q<y;q++)j[0].appendChild(g[p][q])}d.config.appender&&d.config.appender(d,l);l=null;d.config.debug&&b("Rebuilt table:",f);n(d);setTimeout(function(){a(d).trigger("sortEnd")},0)}function k(e){if(e.config.debug)var f=new Date;var g=l(e);$tableHeaders=a(e.config.selectorHeaders,e).each(function(b){this.column=g[this.parentNode.rowIndex+"-"+this.cellIndex];this.count=this.order=typeof e.config.sortInitialOrder!="Number"?e.config.sortInitialOrder.toLowerCase()==
"desc"?1:0:e.config.sortInitialOrder==1?1:0;var c;c=a.metadata&&a(this).metadata().sorter===!1?!0:!1;c||(c=e.config.headers[b]&&e.config.headers[b].sorter===!1?!0:!1);if(c)this.sortDisabled=!0;if(j(e,b))this.order=this.lockedOrder=j(e,b);this.sortDisabled||(c=a(this).addClass(e.config.cssHeader),e.config.onRenderHeader&&e.config.onRenderHeader.apply(c));e.config.headerList[b]=this});e.config.debug&&(b("Built headers:",f),d($tableHeaders));return $tableHeaders}function l(a){for(var b=[],c={},a=a.getElementsByTagName("THEAD")[0].getElementsByTagName("TR"),
d=0;d<a.length;d++)for(var e=a[d].cells,f=0;f<e.length;f++){var g=e[f],h=g.parentNode.rowIndex,i=h+"-"+g.cellIndex,k=g.rowSpan||1,g=g.colSpan||1,l;typeof b[h]=="undefined"&&(b[h]=[]);for(var j=0;j<b[h].length+1;j++)if(typeof b[h][j]=="undefined"){l=j;break}c[i]=l;for(j=h;j<h+k;j++){typeof b[j]=="undefined"&&(b[j]=[]);for(var i=b[j],o=l;o<l+g;o++)i[o]="x"}}return c}function j(a,b){return a.config.headers[b]&&a.config.headers[b].lockedOrder?a.config.headers[b].lockedOrder:!1}function n(a){for(var b=
a.config.widgets,c=b.length,d=0;d<c;d++)o(b[d]).format(a)}function o(a){for(var b=E.length,c=0;c<b;c++)if(E[c].id.toLowerCase()==a.toLowerCase())return E[c]}function p(a,b){for(var c=b.length,d=0;d<c;d++)if(b[d][0]==a)return!0;return!1}function y(b,c,d,e){c.removeClass(e[0]).removeClass(e[1]);var f=[];c.each(function(){this.sortDisabled||(f[this.column]=a(this))});b=d.length;for(c=0;c<b;c++)f[d[c][0]].addClass(e[d[c][1]])}function q(b){if(b.config.widthFixed){var c=a("<colgroup>");a("tr:first td",
b.tBodies[0]).each(function(){c.append(a("<col>").css("width",a(this).width()))});a(b).prepend(c)}}function s(a,d,e){if(a.config.debug)var f=new Date;for(var g="var sortWrapper = function(a,b) {",h=d.length,i=0;i<h;i++){var k=d[i][0],j=d[i][1],k=a.config.parsers[k].type=="text"?j==0?C("text","asc",k):C("text","desc",k):j==0?C("numeric","asc",k):C("numeric","desc",k),l="e"+i;g+="var "+l+" = "+k;g+="if("+l+") { return "+l+"; } ";g+="else { "}i=e.normalized[0].length-1;g+="return a["+i+"]-b["+i+"];";
for(i=0;i<h;i++)g+="}; ";g+="return 0; ";g+="}; ";a.config.debug&&b("Evaling expression:"+g,new Date);eval(g);e.normalized.sort(sortWrapper);a.config.debug&&b("Sorting on "+d.toString()+" and dir "+j+" time:",f);return e}function C(a,b,c){var d="a["+c+"]",c="b["+c+"]";if(a=="text"&&b=="asc")return"("+d+" == "+c+" ? 0 : ("+d+" === null ? Number.POSITIVE_INFINITY : ("+c+" === null ? Number.NEGATIVE_INFINITY : ("+d+" < "+c+") ? -1 : 1 )));";else if(a=="text"&&b=="desc")return"("+d+" == "+c+" ? 0 : ("+
d+" === null ? Number.POSITIVE_INFINITY : ("+c+" === null ? Number.NEGATIVE_INFINITY : ("+c+" < "+d+") ? -1 : 1 )));";else if(a=="numeric"&&b=="asc")return"("+d+" === null && "+c+" === null) ? 0 :("+d+" === null ? Number.POSITIVE_INFINITY : ("+c+" === null ? Number.NEGATIVE_INFINITY : "+d+" - "+c+"));";else if(a=="numeric"&&b=="desc")return"("+d+" === null && "+c+" === null) ? 0 :("+d+" === null ? Number.POSITIVE_INFINITY : ("+c+" === null ? Number.NEGATIVE_INFINITY : "+c+" - "+d+"));"}var v=[],E=
[];this.defaults={cssHeader:"header",cssAsc:"headerSortUp",cssDesc:"headerSortDown",cssChildRow:"expand-child",sortInitialOrder:"asc",sortMultiSortKey:"shiftKey",sortForce:null,sortAppend:null,sortLocaleCompare:!0,textExtraction:"simple",parsers:{},widgets:[],widgetZebra:{css:["even","odd"]},headers:{},widthFixed:!1,cancelSelection:!0,sortList:[],headerList:[],dateFormat:"us",decimal:"/.|,/g",onRenderHeader:null,selectorHeaders:"thead th",debug:!1};this.benchmark=b;this.construct=function(b){return this.each(function(){if(this.tHead&&
this.tBodies){var c,d,f,j;this.config={};j=a.extend(this.config,a.tablesorter.defaults,b);c=a(this);a.data(this,"tablesorter",j);d=k(this);this.config.parsers=e(this,d);f=g(this);var l=[j.cssDesc,j.cssAsc];q(this);d.click(function(b){var e=c[0].tBodies[0]&&c[0].tBodies[0].rows.length||0;if(!this.sortDisabled&&e>0){c.trigger("sortStart");a(this);e=this.column;this.order=this.count++%2;if(this.lockedOrder)this.order=this.lockedOrder;if(b[j.sortMultiSortKey])if(p(e,j.sortList))for(b=0;b<j.sortList.length;b++){var g=
j.sortList[b],h=j.headerList[g[0]];if(g[0]==e)h.count=g[1],h.count++,g[1]=h.count%2}else j.sortList.push([e,this.order]);else{j.sortList=[];if(j.sortForce!=null){g=j.sortForce;for(b=0;b<g.length;b++)g[b][0]!=e&&j.sortList.push(g[b])}j.sortList.push([e,this.order])}setTimeout(function(){y(c[0],d,j.sortList,l);i(c[0],s(c[0],j.sortList,f))},1);return!1}}).mousedown(function(){if(j.cancelSelection)return this.onselectstart=function(){return!1},!1});c.bind("update",function(){var a=this;setTimeout(function(){a.config.parsers=
e(a,d);f=g(a)},1)}).bind("updateCell",function(a,b){var c=this.config,d=[b.parentNode.rowIndex-1,b.cellIndex];f.normalized[d[0]][d[1]]=c.parsers[d[1]].format(h(c,b),b)}).bind("sorton",function(b,c){a(this).trigger("sortStart");j.sortList=c;for(var e=j.sortList,g=this.config,h=e.length,k=0;k<h;k++){var o=e[k],n=g.headerList[o[0]];n.count=o[1];n.count++}y(this,d,e,l);i(this,s(this,e,f))}).bind("appendCache",function(){i(this,f)}).bind("applyWidgetId",function(a,b){o(b).format(this)}).bind("applyWidgets",
function(){n(this)});if(a.metadata&&a(this).metadata()&&a(this).metadata().sortlist)j.sortList=a(this).metadata().sortlist;j.sortList.length>0&&c.trigger("sorton",[j.sortList]);n(this)}})};this.addParser=function(a){for(var b=v.length,c=!0,d=0;d<b;d++)v[d].id.toLowerCase()==a.id.toLowerCase()&&(c=!1);c&&v.push(a)};this.addWidget=function(a){E.push(a)};this.formatFloat=function(a){a=parseFloat(a);return isNaN(a)?0:a};this.formatInt=function(a){a=parseInt(a);return isNaN(a)?0:a};this.isDigit=function(b){return/^[-+]?\d*$/.test(a.trim(b.replace(/[,.']/g,
"")))};this.clearTableBody=function(b){a.browser.msie?function(){for(;this.firstChild;)this.removeChild(this.firstChild)}.apply(b.tBodies[0]):b.tBodies[0].innerHTML=""}}});a.fn.extend({tablesorter:a.tablesorter.construct});var b=a.tablesorter;b.addParser({id:"text",is:function(){return!0},format:function(b){return a.trim(b.toLocaleLowerCase())},type:"text"});b.addParser({id:"digit",is:function(b,d){return a.tablesorter.isDigit(b,d.config)},format:function(b){return a.tablesorter.formatFloat(b)},type:"numeric"});
b.addParser({id:"currency",is:function(a){return/^[\u00a3$\u20ac?.]/.test(a)},format:function(b){return a.tablesorter.formatFloat(b.replace(RegExp(/[\u00a3$\u20ac]/g),""))},type:"numeric"});b.addParser({id:"ipAddress",is:function(a){return/^\d{2,3}[\.]\d{2,3}[\.]\d{2,3}[\.]\d{2,3}$/.test(a)},format:function(b){for(var b=b.split("."),d="",e=b.length,f=0;f<e;f++){var g=b[f];d+=g.length==2?"0"+g:g}return a.tablesorter.formatFloat(d)},type:"numeric"});b.addParser({id:"url",is:function(a){return/^(https?|ftp|file):\/\/$/.test(a)},
format:function(a){return jQuery.trim(a.replace(RegExp(/(https?|ftp|file):\/\//),""))},type:"text"});b.addParser({id:"isoDate",is:function(a){return/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(a)},format:function(b){return a.tablesorter.formatFloat(b!=""?(new Date(b.replace(RegExp(/-/g),"/"))).getTime():"0")},type:"numeric"});b.addParser({id:"percent",is:function(b){return/\%$/.test(a.trim(b))},format:function(b){return a.tablesorter.formatFloat(b.replace(RegExp(/%/g),""))},type:"numeric"});b.addParser({id:"usLongDate",
is:function(a){return a.match(RegExp(/^[A-Za-z]{3,10}\.? [0-9]{1,2}, ([0-9]{4}|'?[0-9]{2}) (([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(AM|PM)))$/))},format:function(b){return a.tablesorter.formatFloat((new Date(b)).getTime())},type:"numeric"});b.addParser({id:"shortDate",is:function(a){return/\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/.test(a)},format:function(b,d){var e=d.config,b=b.replace(/\-/g,"/");if(e.dateFormat=="us")b=b.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$1/$2");else if(e.dateFormat==
"uk")b=b.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$2/$1");else if(e.dateFormat=="dd/mm/yy"||e.dateFormat=="dd-mm-yy")b=b.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{2})/,"$1/$2/$3");return a.tablesorter.formatFloat((new Date(b)).getTime())},type:"numeric"});b.addParser({id:"time",is:function(a){return/^(([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(am|pm)))$/.test(a)},format:function(b){return a.tablesorter.formatFloat((new Date("2000/01/01 "+b)).getTime())},type:"numeric"});b.addParser({id:"metadata",
is:function(){return!1},format:function(b,d,e){b=d.config;b=!b.parserMetadataName?"sortValue":b.parserMetadataName;return a(e).metadata()[b]},type:"numeric"});b.addWidget({id:"zebra",format:function(b){if(b.config.debug)var d=new Date;var e,f=-1,g;a("tr:visible",b.tBodies[0]).each(function(){e=a(this);e.hasClass(b.config.cssChildRow)||f++;g=f%2==0;e.removeClass(b.config.widgetZebra.css[g?0:1]).addClass(b.config.widgetZebra.css[g?1:0])});b.config.debug&&a.tablesorter.benchmark("Applying Zebra widget",
d)}})})(jQuery);
(function(a){a.extend({tablesorterPager:new function(){function b(b){var c=b.config;if(!c.pagerPositionSet&&c.positionFixed)c=b.config,b=a(b),b.offset&&c.container.css({top:b.offset().top+b.height()+"px",position:"absolute"}),c.pagerPositionSet=!0}function c(a){var b=a.config;b.page=b.totalPages-1;d(a)}function d(a){var b=a.config;if(b.page<0||b.page>b.totalPages-1)b.page=0;e(a,b.rowsCopy)}function e(d,e){var h=d.config,i=e.length,i=h.page*h.size,k=i+h.size;if(k>e.length)k=e.length;var l=a(d.tBodies[0]);
a.tablesorter.clearTableBody(d);for(var j=i;j<k;j++)for(var n=e[j],i=n.length,o=0;o<i;o++)l[0].appendChild(n[o]);b(d,l);a(d).trigger("applyWidgets");h.page>=h.totalPages&&c(d);h.updatePageDisplayFn(h,h.page+1,h.totalPages)}this.appender=function(a,b){var c=a.config;c.rowsCopy=b;c.totalRows=b.length;c.totalPages=Math.ceil(c.totalRows/c.size);e(a,b)};this.defaults={size:10,offset:0,page:0,totalRows:0,totalPages:0,container:null,cssNext:".next",cssPrev:".prev",cssFirst:".first",cssLast:".last",cssPageDisplay:".pagedisplay",
cssPageSize:".pagesize",seperator:"/",positionFixed:!0,appender:this.appender,updatePageDisplayFn:function(b,c,d){a(b.cssPageDisplay,b.container).val(c+b.seperator+d)}};this.construct=function(e){return this.each(function(){config=a.extend(this.config,a.tablesorterPager.defaults,e);var g=this,h=config.container;a(this).trigger("appendCache");config.size=parseInt(a(".pagesize",h).val());var i=parseInt(a(".pagesize",h).val(),10);if(!isNaN(i))config.size=i;a(config.cssFirst,h).click(function(){g.config.page=
0;d(g);return!1});a(config.cssNext,h).click(function(){var a=g.config;a.page++;if(a.page>=a.totalPages-1)a.page=a.totalPages-1;d(g);return!1});a(config.cssPrev,h).click(function(){var a=g.config;a.page--;if(a.page<=0)a.page=0;d(g);return!1});a(config.cssLast,h).click(function(){c(g);return!1});a(config.cssPageSize,h).change(function(){var c=parseInt(a(this).val()),e=g.config;e.size=c;e.totalPages=Math.ceil(e.totalRows/e.size);e.pagerPositionSet=!1;d(g);b(g);return!1})})}}});a.fn.extend({tablesorterPager:a.tablesorterPager.construct})})(jQuery);
(function(a){a.fn.tabby=function(b){var c=a.extend({},a.fn.tabby.defaults,b),d=a.fn.tabby.pressed;return this.each(function(){$this=a(this);var b=a.meta?a.extend({},c,$this.data()):c;$this.bind("keydown",function(c){var g=a.fn.tabby.catch_kc(c);if(16==g)d.shft=!0;if(17==g)d.ctrl=!0,setTimeout("$.fn.tabby.pressed.ctrl = false;",1E3);if(18==g)d.alt=!0,setTimeout("$.fn.tabby.pressed.alt = false;",1E3);if(9==g&&!d.ctrl&&!d.alt){d.last=g;setTimeout("$.fn.tabby.pressed.last = null;",0);var c=a(c.target).get(0),
h=d.shft,g=c.scrollTop;if(c.setSelectionRange){var i=c.selectionStart,k=c.selectionEnd;if(i==k)if(h)if("\t"==c.value.substring(i-b.tabString.length,i))c.value=c.value.substring(0,i-b.tabString.length)+c.value.substring(i),c.focus(),c.setSelectionRange(i-b.tabString.length,i-b.tabString.length);else{if("\t"==c.value.substring(i,i+b.tabString.length))c.value=c.value.substring(0,i)+c.value.substring(i+b.tabString.length),c.focus(),c.setSelectionRange(i,i)}else c.value=c.value.substring(0,i)+b.tabString+
c.value.substring(i),c.focus(),c.setSelectionRange(i+b.tabString.length,i+b.tabString.length);else{var l=c.value.split("\n"),j=[],n=0,o=0,p;for(p in l)o=n+l[p].length,j.push({start:n,end:o,selected:n<=i&&o>i||o>=k&&n<k||n>i&&o<k}),n=o+1;l=0;for(p in j)if(j[p].selected)if(n=j[p].start+l,h&&b.tabString==c.value.substring(n,n+b.tabString.length))c.value=c.value.substring(0,n)+c.value.substring(n+b.tabString.length),l-=b.tabString.length;else if(!h)c.value=c.value.substring(0,n)+b.tabString+c.value.substring(n),
l+=b.tabString.length;c.focus();c.setSelectionRange(i+(l>0?b.tabString.length:l<0?-b.tabString.length:0),k+l)}}else if(document.selection&&(p=document.selection.createRange(),c==p.parentElement()))if(""==p.text){if(h){h=p.getBookmark();p.moveStart("character",-b.tabString.length);if(b.tabString==p.text)p.text="";else if(p.moveToBookmark(h),p.moveEnd("character",b.tabString.length),b.tabString==p.text)p.text="";p.collapse(!0)}else p.text=b.tabString,p.collapse(!1);p.select()}else{k=p.text;i=k.length;
j=k.split("\r\n");k=document.body.createTextRange();k.moveToElementText(c);k.setEndPoint("EndToStart",p);n=k.text;l=n.split("\r\n");n=n.length;o=document.body.createTextRange();o.moveToElementText(c);o.setEndPoint("StartToEnd",p);var o=o.text,y=document.body.createTextRange();y.moveToElementText(c);y.setEndPoint("StartToEnd",k);var q=y.text,y=a(c).html();a("#r3").text(n+" + "+i+" + "+o.length+" = "+y.length);n+q.length<y.length?(l.push(""),n+=2,h&&b.tabString==j[0].substring(0,b.tabString.length)?
j[0]=j[0].substring(b.tabString.length):h||(j[0]=b.tabString+j[0])):h&&b.tabString==l[l.length-1].substring(0,b.tabString.length)?l[l.length-1]=l[l.length-1].substring(b.tabString.length):h||(l[l.length-1]=b.tabString+l[l.length-1]);for(q=1;q<j.length;q++)h&&b.tabString==j[q].substring(0,b.tabString.length)?j[q]=j[q].substring(b.tabString.length):h||(j[q]=b.tabString+j[q]);1==l.length&&0==n&&(h&&b.tabString==j[0].substring(0,b.tabString.length)?j[0]=j[0].substring(b.tabString.length):h||(j[0]=b.tabString+
j[0]));n+i+o.length<y.length&&j.push("");k.text=l.join("\r\n");p.text=j.join("\r\n");h=document.body.createTextRange();h.moveToElementText(c);0<n?h.setEndPoint("StartToEnd",k):h.setEndPoint("StartToStart",k);h.setEndPoint("EndToEnd",p);h.select()}c.scrollTop=g;return!1}}).bind("keyup",function(b){if(16==a.fn.tabby.catch_kc(b))d.shft=!1}).bind("blur",function(b){9==d.last&&a(b.target).one("focus",function(){d.last=null}).get(0).focus()})})};a.fn.tabby.catch_kc=function(a){return a.keyCode?a.keyCode:
a.charCode?a.charCode:a.which};a.fn.tabby.pressed={shft:!1,ctrl:!1,alt:!1,last:null};a.fn.tabby.defaults={tabString:String.fromCharCode(9)}})(jQuery);
(function(a){function b(b){e=a(b.data.el);e.blur();g=b.clientY+document.documentElement.scrollTop;f=e.height()-g;e.animate({opacity:"0.25"},{duration:"fast"});a(document).mousemove(c).mouseup(d);return!1}function c(a){var b=a.clientY+document.documentElement.scrollTop,c=f+b;g>=b&&(c-=5);g=b;c=Math.max(h,c);e.height(c+"px");c<h&&d(a);return!1}function d(){a(document).unbind("mousemove",c).unbind("mouseup",d);e.css("opacity","");e.focus();f=e=null;g=0}var e,f,g=0,h=32;a.fn.TextAreaResizer=function(){return this.each(function(){e=
a(this).addClass("processed");f=null;a(this).wrap('<div class="resizable-textarea"><span></span></div>').parent().append(a('<div class="grippie"></div>').bind("mousedown",{el:this},b));var c=a("div.grippie",a(this).parent())[0];c.style.marginRight=c.offsetWidth-a(this)[0].offsetWidth+"px"})}})(jQuery);
(function(a){function b(b){return a.data(b,"tooltip")}function c(c){b(this).delay?l=setTimeout(e,b(this).delay):e();n=!!b(this).track;a(document.body).bind("mousemove",f);f(c)}function d(){if(!a.tooltip.blocked&&!(this==i||!this.tooltipText&&!b(this).bodyHandler)){i=this;k=this.tooltipText;if(b(this).bodyHandler){h.title.hide();var d=b(this).bodyHandler.call(this);d.nodeType||d.jquery?h.body.empty().append(d):h.body.html(d);h.body.show()}else if(b(this).showBody){d=k.split(b(this).showBody);h.title.html(d.shift()).show();
h.body.empty();for(var e=0,f;f=d[e];e++)e>0&&h.body.append("<br/>"),h.body.append(f);h.body.hideWhenEmpty()}else h.title.html(k).show(),h.body.hide();b(this).showURL&&a(this).url()?h.url.html(a(this).url().replace("http://","")).show():h.url.hide();h.parent.addClass(b(this).extraClass);b(this).fixPNG&&h.parent.fixPNG();c.apply(this,arguments)}}function e(){l=null;(!j||!a.fn.bgiframe)&&b(i).fade?h.parent.is(":animated")?h.parent.stop().show().fadeTo(b(i).fade,i.tOpacity):h.parent.is(":visible")?h.parent.fadeTo(b(i).fade,
i.tOpacity):h.parent.fadeIn(b(i).fade):h.parent.show();f()}function f(c){if(!a.tooltip.blocked&&!(c&&c.target.tagName=="OPTION"))if(!n&&h.parent.is(":visible")&&a(document.body).unbind("mousemove",f),i==null)a(document.body).unbind("mousemove",f);else{h.parent.removeClass("viewport-right").removeClass("viewport-bottom");var d=h.parent[0].offsetLeft,e=h.parent[0].offsetTop;c&&(d=c.pageX+b(i).left,e=c.pageY+b(i).top,c="auto",b(i).positionLeft&&(c=a(window).width()-d,d="auto"),h.parent.css({left:d,right:c,
top:e}));var c={x:a(window).scrollLeft(),y:a(window).scrollTop(),cx:a(window).width(),cy:a(window).height()},g=h.parent[0];c.x+c.cx<g.offsetLeft+g.offsetWidth&&(d-=g.offsetWidth+20+b(i).left,h.parent.css({left:d+"px"}).addClass("viewport-right"));c.y+c.cy<g.offsetTop+g.offsetHeight&&(e-=g.offsetHeight+20+b(i).top,h.parent.css({top:e+"px"}).addClass("viewport-bottom"))}}function g(){function c(){h.parent.removeClass(d.extraClass).hide().css("opacity","")}if(!a.tooltip.blocked){l&&clearTimeout(l);i=
null;var d=b(this);(!j||!a.fn.bgiframe)&&d.fade?h.parent.is(":animated")?h.parent.stop().fadeTo(d.fade,0,c):h.parent.stop().fadeOut(d.fade,c):c();b(this).fixPNG&&h.parent.unfixPNG()}}var h={},i,k,l,j=a.browser.msie&&/MSIE\s(5\.5|6\.)/.test(navigator.userAgent),n=!1;a.tooltip={blocked:!1,defaults:{delay:200,fade:!1,showURL:!0,extraClass:"",top:15,left:15,id:"tooltip"},block:function(){a.tooltip.blocked=!a.tooltip.blocked}};a.fn.extend({tooltip:function(b){b=a.extend({},a.tooltip.defaults,b);if(!h.parent)h.parent=
a('<div id="'+b.id+'"><h3></h3><div class="body"></div><div class="url"></div></div>').appendTo(document.body).hide(),a.fn.bgiframe&&h.parent.bgiframe(),h.title=a("h3",h.parent),h.body=a("div.body",h.parent),h.url=a("div.url",h.parent);return this.each(function(){a.data(this,"tooltip",b);this.tOpacity=h.parent.css("opacity");this.tooltipText=this.title;a(this).removeAttr("title");this.alt=""}).mouseover(d).mouseout(g).click(g)},fixPNG:j?function(){return this.each(function(){var b=a(this).css("backgroundImage");
if(b.match(/^url\(["']?(.*\.png)["']?\)$/i))b=RegExp.$1,a(this).css({backgroundImage:"none",filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop, src='"+b+"')"}).each(function(){var b=a(this).css("position");b!="absolute"&&b!="relative"&&a(this).css("position","relative")})})}:function(){return this},unfixPNG:j?function(){return this.each(function(){a(this).css({filter:"",backgroundImage:""})})}:function(){return this},hideWhenEmpty:function(){return this.each(function(){a(this)[a(this).html()?
"show":"hide"]()})},url:function(){return this.attr("href")||this.attr("src")}})})(jQuery);var _document=document,_window=window,_ua=navigator.userAgent;if(self.location!==top.location)top.location=self.location;
var pkwkInit=pkwkBeforeInit=pkwkUnload=pkwkBeforeUnload=[],pukiwiki={meta:{"@prefix":"<http://purl.org/net/ns/doas#>","@about":"<skin.js>",a:":JavaScript",title:"Pukiwiki skin script for jQuery",created:"2008-11-25",release:{revision:"2.2.21",created:"2011-05-10"},author:{name:"Logue",homepage:"<http://logue.be/>"},license:"<http://www.gnu.org/licenses/gpl-2.0.html>"},skin:{},init:function(){var a=this,b=$("link[rel=canonical]")[0].href,c=(_document.location.protocol==="https:"?"https:":"http:")+
"//";this.body=this.skin.body?this.skin.body:"#body";$(":input").attr("disabled","disabled");typeof FACEBOOK_APPID!=="undefined"?($("body").append('<div id="fb-root"></div>'),$(this.body).append("<fb:login-button>Login with Facebook</fb:login-button>"),$.getScript(c+"connect.facebook.net/"+LANG+"/all.js",function(){FB.init({appId:FACEBOOK_APPID,status:!0,cookie:!0,xfbml:!0});FB.Event.subscribe("auth.login",function(){_window.location.reload()});a.fb=!0})):this.fb=!1;if(_ua.indexOf("MSIE 6")>=0)try{_document.execCommand("BackgroundImageCache",
!1,!0)}catch(d){}c=$("meta[name=generator]")[0].content;this.image_dir=c.match(/[PukiPlus|Advance]/)?IMAGE_DIR+"ajax/":c.match(/plus/)?SKIN_DIR+"theme/"+THEME_NAME+"/":SKIN_DIR+this.name+"/image/";this.enableHTML5();$.i18n(LANG);this.sh();this.blockUI();this.suckerfish(".sf-menu");this.linkattrs();this.preptoc(this.body);this.setAnchor();$("textarea[name='msg']").length!==0&&$.query.get("cmd")!=="guiedit"&&this.set_editform();$("input[name=msg]").length!==0&&($(".comment_form").append('<div class="assistant ui-corner-all ui-widget-header ui-helper-clearfix"></div>'),
this.assistant());$.query.get("cmd")==="list"&&$("#page_list").jstree({plugins:["html_data","themeroller"]});$("textarea[name='msg']").length!==0&&$.query.get("cmd")!=="guiedit"&&($("textarea[name='msg']").addClass("resizable"),$("textarea.resizable:not(.processed)").TextAreaResizer());$("textarea").tabby();this.tablesorter.counter=0;this.tablesorter();$(".attach_form").length!==0&&this.set_uploader();$.support.boxModel?$(this.body+"img").lazyload({placeholder:this.image_dir+"grey.gif",effect:"fadeIn"}):
($.ajax({type:"GET",global:!1,url:SKIN_DIR+"js/iepngfix/iepngfix_tilebg.js",dataType:"script"}),$("img[src$=png], .pkwk-icon, .pkwk-symbol, .pkwk-icon_linktext").css({behavior:"url("+SKIN_DIR+"js/iepngfix/iepngfix.htc)"}),$(this.body+"img[src!$=.png]").lazyload({placeholder:this.image_dir+"grey.gif",effect:"fadeIn"}));$("#banner_box img").fadeTo(200,0.3);$("#banner_box img").hover(function(){$(this).fadeTo(200,1)},function(){$(this).fadeTo(200,0.3)});this.glossaly();this.bad_behavior();location.hash&&
this.anchor_scroll(location.hash,!0);$("button, input[type=submit], input[type=reset], input[type=button]").button();$(".ui-state-default").hover(function(){$(this).addClass("ui-state-hover")},function(){$(this).removeClass("ui-state-hover")}).mousedown(function(){$(this).addClass("ui-state-active")}).mouseout(function(){$(this).removeClass("ui-state-active")});$(":input").removeAttr("disabled");$(".ui-button").button("option","disabled",!1);typeof FACEBOOK_APPID!=="undefined"&&!$.query.get("cmd")&&
!PAGE.match(/^:|FormatRules|RecentChanges|RecentDeleted|InterWikiName|AutoAliasName|MenuBar|SideBar|Navigation|Glossary/i)&&$(this.body).append('<hr /><div style="margin-left:2em;"><fb:like send="true" font="arial" show_faces="true" href="'+b+'"></fb:like><fb:comments href="'+b+'" publish_feed="true" width="650" numposts="10" migrated="1" ></fb:comments></div>');$(".g-plusone").length!==0&&$.getScript("https://apis.google.com/js/plusone.js")},unload:function(a){a?a+=" ":a="";$(a+"#msg").val()!==$(a+
"#original").val()&&confirm($.i18n("pukiwiki","unload"))&&(this.appendChild(_document.createElement("input")).setAttribute("name","write"),$('<input name="write" />').appendTo(this),$(a+"form").submit(),alert($.i18n("pukiwiki","submit")));return!1},enableHTML5:function(a){a?a+=" ":a="";Modernizr.input.placeholder||$(a+"[placeholder]").each(function(){var a=$(this),c=a.attr("placeholder"),d=a.css("color");a.focus(function(){a.val()===c&&a.val("").css("color",d)}).blur(function(){a.val()===""?a.val(c).css("color",
"Gray"):a.val()===c&&a.css("color","Gray")}).blur().parents("form").submit(function(){a.val()===c&&a.val("")})});$(a+"a[rel*=noreferer]").click(function(){var a=$(this).attr("href");if(_ua.indexOf("MSIE",0)!==-1){var c;c=$(this).attr("target")==="_blank"?_window.open("","","location=yes, menubar=yes, toolbar=yes, status=yes, resizable=yes, scrollbars=yes,").document:_document;c.open();c.write('<meta http-equiv="refresh" content="0;url='+a+'">');c.close();return!1}else a.match(/data:text\/html;charset=utf-8/)!==
!0&&(a=['<html><head><script type="text/javascript"><\!--','document.write(\'<meta http-equiv="refresh" content="0;url='+a+"\" />');","// --\><\/script></head><body></body></html>"],$(this).attr("href","data:text/html;charset=utf-8,"+encodeURIComponent(a.join("\n"))))})},register:{init:function(a){pkwkInit.push(a)},before_init:function(a){pkwkBeforeInit.push(a)},unload:function(a){pkwkUnload.push(a)},before_unload:function(a){pkwkBeforeUnload.push(a)}},suckerfish:function(a){var b={autoArrows:!1,
dropShadows:!1};if(typeof pukiwiki.skin.suckerfish==="object")b=this.skin.suckerfish;$(a).superfish(b)},setAnchor:function(a){var b=this;a?a+=" ":a="";$(a+".tabs").tabs();var c={opacity:"0.8",slideshowStart:'<span class="ui-icon ui-icon-play" style="margin:4px;"></span>',slideshowStop:'<span class="ui-icon ui-icon-stop" style="margin:4px;"></span>',current:$.i18n("colorbox","current"),previous:'<span class="ui-icon ui-icon-circle-arrow-e" style="margin:4px;"></span>',next:'<span class="ui-icon ui-icon-circle-arrow-w" style="margin:4px;"></span>',
close:'<span class="ui-icon ui-icon-circle-close" style="margin:4px;"></span>',onOpen:function(){$(a+"#cboxOverlay").addClass("ui-widget-overlay");$(a+"#colorbox").addClass("ui-widget-content ui-corner-all");$(a+"#cboxPrevious").button();$(a+"#cboxNext").button();$(a+"#cboxClose").button()}};$(a+"a[href]").each(function(){var d=$(this),e=$(this).attr("href");if(e.match(/\.(jpg|jpeg|gif|png|txt)$/i))d.colorbox(c);else if(e.match(/\.(mp3|ogg|mp4)$/i))b.music_player(this);else if(e.match(/cmd|plugin/i)){for(var f=
{},g=e.slice(e.indexOf("?")+1).split("&"),h=0;h<g.length;h++){var i=g[h].split("=");try{f[i[0]]=decodeURIComponent(i[1]).replace(/\+/g," ").replace(/%2F/g,"/")}catch(k){}}if(f.plugin)f.cmd=f.plugin,f.plugin=void 0;if(f.cmd)if(typeof f.file!=="undefined"&&f.pcmd=="open"||typeof f.openfile!=="undefined")f.file?(g=f.file,d.attr("href",SCRIPT+"?cmd="+f.cmd+"&pcmd="+f.pcmd+"&refer="+f.refer+"&age="+f.age+"&file="+g)):(g=f.openfile,d.attr("href",SCRIPT+"?cmd="+f.cmd+"&refer="+f.refer+"&openfile="+g)),g.match(/\.(jpg|jpeg|gif|png|txt)$/i)?
d.colorbox(c):g.match(/\.(mp3|ogg|mp4)$/i)&&b.music_player(this);else if(f.cmd=="qrcode")d.attr("href",e+"&type=.gif"),d.colorbox(c);else if(f.cmd.match(/attach|search|backup|source|newpage|template|freeze|rename|logview|tb|diff|referer|linklist|skeylist/i)&&(f.pcmd!=="list"||f.help==="true"))f.help=="true"&&(f={cmd:"read",page:"FormatRule"}),d.click(function(){b.ajax_dialog(f,a,function(){if(f.cmd=="attach"&&f.pcmd.match(/upload|info/i)||f.cmd.match(/attachref|read|backup/i)&&f.age!=="")b.bad_behavior(a+
"div.window"),b.set_uploader(a+"div.window"),b.setAnchor(a+"div.window")});return!1})}e.match("#")&&$(this).click(function(){b.anchor_scroll(e,!0)})})},brushes:[],sh:function(a){a?a+=" ":a="";a=$(a+"pre.sh");if(a.length!==0){var b=[],c=[];a.each(function(){var a=$(this);c.push(a);a=a.data().brush;$.inArray(a,b)===-1&&b.push(a)});$.beautyOfCode.init({autoLoad:!0,baseUrl:SKIN_DIR+"js/syntaxhighlighter/",brushes:b,ready:function(){for(var a=0;a<=c.length-1;a++){var b=c[a].data();c[a].beautifyCode(b.brush)}}})}},
ajax_dialog:function(a,b,c,d){var e=this,f={modal:!0,resizable:!0,show:"fade",hide:"fade",width:"520px",dialogClass:"ajax_dialog",bgiframe:$.browser.msie&&$.browser.version>6?!0:!1,open:function(){$(b+":input").attr("disabled","disabled");e.tablesorter(b+".window");e.glossaly(b+".window");typeof c==="function"&&c();$(b+"button, "+b+"input[type=submit], "+b+"input[type=reset], "+b+"input[type=button]").button();$(b+"form").disableOnSubmit();var a=this;$(b+".ui-widget-overlay").click(function(){$(a).dialog("close")});
$(b+":input").removeAttr("disabled");$(b+".ui-button").button("option","disabled",!1);return!1},close:function(){$(this).remove()}};if(a.pcmd==="upload")f.width="90%";if(a.cmd.match(/logview|source|diff|edit|backup|read|referer/i)||a.help==="true")f.width="90%",f.height=$(_window).height()*0.8|0;$.ajax({dataType:"json",url:SCRIPT,data:a,type:"GET",cache:!0,timeout:3E4,success:function(a){var b=$('<div class="window"></div>');typeof d==="function"&&(a=d(a));f.title=a.title;a.body=a.body.replace(/<script[^>]*>[^<]+/ig,
"");b.html(a.body).dialog(f)},error:function(a,b){var c=$('<div class="window"></div>'),d=['<div class="ui-state-error ui-corner-all" style="padding: 0 .7em;">','<p id="ajax_error"><span class="ui-icon ui-icon-alert" style="float: left; margin-right: .3em;"></span>'+b+"</p>","</div>"].join("\n");f.title="Error!";c.html(d).dialog(f);try{$("p#ajax_error").after(["<ul>","<li>readyState:"+a.readyState+"</li>","<li>status:"+a.status+"</li>","<li>statusText:"+a.statusText+"</li>","</ul>"].join("\n"))}catch(e){}}})},
blockUI:function(){$('<div id="loadingScreen" title="Loading..."></div>').appendTo("body");this.loadingScreen=$("#loadingScreen");this.loadingScreen.dialog({autoOpen:!1,closeOnEscape:!1,draggable:!1,width:150,height:150,modal:!0,show:"scale",hide:"explode",resizable:!1,dialogClass:"blockUI",open:function(){$("body").css("cursor","wait")},close:function(){$("body").css("cursor","auto")}});var a=this;$(_document).ajaxSend(function(){a.loadingScreen.dialog("option","title","Loading...");a.loadingScreen.dialog("open")}).ajaxStart(function(){a.loadingScreen.dialog("option",
"title","Start")}).ajaxSuccess(function(){a.loadingScreen.dialog("option","title","Success")}).ajaxComplete(function(){a.loadingScreen.dialog("option","title","Complete")}).ajaxError(function(){a.loadingScreen.dialog("option","title","Error")}).ajaxStop(function(){a.loadingScreen.dialog("option","title","Ready");a.loadingScreen.dialog("close")})},iframeWin:function(a){if(!a.width)a.width=800;if(!a.height)a.height=800;$('<iframe id="externalSite" class="externalSite"  frameborder="0" src="'+a.url+
'" />').dialog({title:a.title,width:a.width,height:a.height,autoOpen:!0,modal:!0,resizable:!0,autoResize:!0}).width(a.width-20).height(a.height-20)},anchor_scroll:function(a,b){if(a.split("#")[1]==="")$.scrollTo("#header");else if(a!==""){var c=a.split("#")[1];c.match(/tab/)||$.scrollTo("#"+c,{duration:800,axis:"y",queue:!0,onAfter:function(){b===!0&&$(c).effect("highlight",{},2E3)}})}},music_player:function(a){$(a).each(function(){var a=$(this).attr("href"),c={modal:!0,resizable:!1,show:"fade",hide:"fade",
title:"Music Player",dialogClass:"music_player",width:"640px",bgiframe:$.browser.msie&&$.browser.version>6?!0:!1,open:function(){function c(){$("#jplayer_play").fadeOut(function(){$("#jplayer_pause").fadeIn()})}function d(){$("#jplayer_pause").fadeOut(function(){$("#jplayer_play").fadeIn()})}var g=0,h=this;$("#jplayer").jPlayer({swfPath:SKIN_DIR+"js",nativeSupport:!0,customCssIds:!0,ready:function(){this.element.jPlayer("setFile",a);d();$(h).dialog("option","title",$("#jplayer").jPlayer("getData",
"diag").src);this.element.jPlayer("play")}}).jPlayer("onProgressChange",function(a,b,c,d,e){a|=0;c|=0;g=a;$("#jplayer_loaderBar").progressbar("option","value",a);$("#jplayer_sliderPlayback").slider("option","value",c);$("#jplayer_PlayTime").text($.jPlayer.convertTime(d));$("#jplayer_TotalTime").text($.jPlayer.convertTime(e))}).jPlayer("onSoundComplete",function(){this.element.jPlayer("play");c()});$("#jplayer_play").click(function(){$("#jplayer").jPlayer("play");c();return!1});$("#jplayer_pause").click(function(){$("#jplayer").jPlayer("pause");
d();return!1});$("#jplayer_stop").click(function(){$("#jplayer").jPlayer("stop");d();return!1});$("#jplayer_volume-min").click(function(){$("#jplayer").jPlayer("volume",0);$("#jplayer_sliderVolume").slider("option","value",0);return!1});$("#jplayer_volume-max").click(function(){$("#jplayer").jPlayer("volume",100);$("#jplayer_sliderVolume").slider("option","value",100);return!1});$("#jplayer_sliderPlayback").slider({max:100,range:"min",animate:!0,slide:function(a,b){$("#jplayer").jPlayer("playHead",
b.value*(100/g))}});var i;i=$.cookie("volume")?$.cookie("volume"):50;$("#jplayer_sliderVolume").slider({value:i,max:100,range:"min",animate:!0,slide:function(a,b){$("#jplayer").jPlayer("volume",b.value);$.cookie("volume",b.value,{expires:30,path:"/"})}});$("#jplayer_loaderBar").progressbar();$("ul#jplayer_icons li").hover(function(){$(this).addClass("ui-state-hover")},function(){$(this).removeClass("ui-state-hover")})},close:function(){$(this).remove()}},d=['<div id="jplayer"></div>\n<div id="jplayer_container">\n<ul id="jplayer_icons" class="ui-widget ui-helper-clearfix">',
'<li id="jplayer_play" class="ui-button ui-state-default ui-corner-all" title="'+$.i18n("player","play")+'"><span class="ui-icon ui-icon-play"></span></li>','<li id="jplayer_pause" class="ui-button ui-state-default ui-corner-all"><span class="ui-icon ui-icon-pause" title="'+$.i18n("player","pause")+'"></span></li>','<li id="jplayer_stop" class="ui-button ui-state-default ui-corner-all"><span class="ui-icon ui-icon-stop" title="'+$.i18n("player","stop")+'"></span></li>','<li id="jplayer_volume-min" class="ui-button ui-state-default ui-corner-all"><span class="ui-icon ui-icon-volume-off" title="'+
$.i18n("player","volume_max")+'"></span></li>','<li id="jplayer_volume-max" class="ui-button ui-state-default ui-corner-all"><span class="ui-icon ui-icon-volume-on" title="'+$.i18n("player","volume_min")+'"></span></li>',"</ul>",'<div id="jplayer_sliderVolume" title="'+$.i18n("player","volume")+'"></div>','<div id="jplayer_bars_holder" title="'+$.i18n("player","seek")+'">','<div id="jplayer_sliderPlayback"></div>\n<div id="jplayer_loaderBar"></div>\n</div>\n</div>\n<p><span class="ui-icon ui-icon-clock" style="display:block;float:left;">Cast:</span><span id="jplayer_PlayTime">00:00</span>/<span id="jplayer_TotalTime">??:??</span></p>'].join("\n");
$(this).click(function(){$('<div id="music_player"></div>').html(d).dialog(c);return!1})})},tablesorter:function(a){var b=this;a?a+=" ":a="";$(a+".style_table, "+a+".attach_table").addClass("tablesorter");var c={sorter:{widthFixed:!1},pager:{minimum_lines:10,size:[10,25,50,75,100],location_before:!0,positionFixed:!1}};if(typeof this.skin.tablesorter==="object")c=this.skin.tablesorter;$(a+".tablesorter").each(function(){var a=this,e=$(this).clone();if($("tr",this).length>c.pager.minimum_lines&&$("thead",
this).length!==0){var f="table_pager_"+b.tablesorter.counter,g=['<div class="table_pager_widget ui-helper-clearfix" id="'+f+'">','<ul class="ui-widget pkwk_widget">\n<li class="first ui-button ui-state-default ui-corner-all"><span class="ui-icon ui-icon-arrowthickstop-1-w"></span></li>\n<li class="prev ui-button ui-state-default ui-corner-all"><span class="ui-icon ui-icon-arrowthick-1-w"></span></li>\n<li><input class="pagedisplay" type="text" disabled="disabled" /></li>\n<li class="next ui-button ui-state-default ui-corner-all"><span class="ui-icon ui-icon-arrowthick-1-e"></span></li>\n<li class="last ui-button ui-state-default ui-corner-all"><span class="ui-icon ui-icon-arrowthickstop-1-e"></span></li>\n<li><select class="pagesize"></select></li>\n<li class="reload ui-button ui-state-default ui-corner-all"><span class="ui-icon ui-icon-refresh"></span></li>\n</ul>\n</div>'].join("\n");
$(this).tablesorter(c.sorter);c.pager.location_before===!0?$(this).before(g):$(this).after(g);for(var h=0;h<c.pager.size.length;)$("#"+f+" .pagesize").append($("<option>").attr({value:c.pager.size[h]}).text(c.pager.size[h])),h++;$("#"+f+" .reload").click(function(){e.clone().insertAfter(a);$(a).remove();$("#"+f).remove();$(a).tablesorter(c.sorter);c.pager.location_before===!0?$(a).before(g):$(a).after(g);$(a).tablesorterPager(c.pager);for(var h=0;h<c.pager.size.length;)$("#"+f+" .pagesize").append($("<option>").attr({value:c.pager.size[h]}).text(c.pager.size[h])),
h++;b.glossaly(a)});$(this).tablesorterPager({container:$("#"+f),positionFixed:!1});$("#"+f+".pkwk_widget .ui-state-default").hover(function(){$(this).addClass("ui-state-hover")},function(){$(this).removeClass("ui-state-hover")}).mousedown(function(){$(this).addClass("ui-state-active")}).mouseout(function(){$(this).removeClass("ui-state-active")});$("#"+f).show("clip");b.tablesorter.counter++}else $(this).tablesorter(c.sorter)})},glossaly:function(a){var b=this;a?a+=" ":a="";$(a+"*[title]").tooltip({bodyHandler:function(){return $(this).context.tooltipText},
track:!0,delay:0,showURL:!1}).hover(function(){$("body").css("cursor","help")},function(){$("body").css("cursor","auto")});this.plus===!0&&($(a+".tooltip").hover(function(){$("body").css("cursor","wait");b.getGlossary(this,{cmd:"tooltip",q:$(this).text(),cache:!0})},function(){$("body").css("cursor","auto")}),$.query.get("cmd")==="search"&&$(a+".linktip").hover(function(){$("body").css("cursor","wait");b.getGlossary(this,{cmd:"preview",page:$(this).text(),word:$.query.get("word"),cache:!0})},function(){$("body").css("cursor",
"auto")}));$.support.leadingWhitespace!==!0&&$(a+".tooltip").css({behavior:"url("+SKIN_DIR+"js/ie-css3.htc)"})},getGlossary:function(a,b){var c;$.ajax({url:SCRIPT,type:"GET",cache:!0,timeout:2E3,dataType:"html",global:!1,data:b,async:!1,beforeSend:function(){$("body").css("cursor","wait")},success:function(a){c=a},complete:function(){$("body").css("cursor","help");$(a).tooltip({bodyHandler:function(){return c.replace(/<script[^>]*>[^<]+/ig,"")},track:!0,delay:0,showURL:!1})}})},set_editform:function(a){a?
a+=" ":a="";if(Modernizr.localstorage){var b=$(a+".edit_form textarea[name=msg]").val(),c=_window.localStorage.getItem(PAGE);(c=JSON.parse(c))&&confirm(MODIFIED>c.modified&&c.msg!==b?"\u904e\u53bb\u306b\u7de8\u96c6\u3057\u305f\u30c7\u30fc\u30bf\u30fc\u3088\u308a\u3082\u30da\u30fc\u30b8\u304c\u65b0\u3057\u3044\u3088\u3046\u3067\u3059\u3002\u5fa9\u5143\u3057\u307e\u3059\u304b\uff1f":"\u904e\u53bb\u306b\u7de8\u96c6\u3057\u305f\u30c7\u30fc\u30bf\u30fc\u304c\u3042\u308b\u3088\u3046\u3067\u3059\u3002\u5fa9\u5143\u3057\u307e\u3059\u304b\uff1f")&&
$(a+".edit_form textarea[name=msg]").val(c.msg)}$(".edit_form input",".edit_form button",".edit_form select",".edit_form textarea").attr("disabled","disabled");this.ajax_apx=!1;this.ajax_tim=this.ajax_count=0;var d=this;$(a+".edit_form input[name=write]").after('<input type="button" name="add_ajax" value="'+$(".edit_form input[name=preview]").attr("value")+'" accesskey="p" />');$(a+".edit_form input[name=preview]").remove();$(a+".edit_form").prepend('<div class="assistant ui-corner-top ui-widget-header ui-helper-clearfix"></div>');
$(a+".edit_form input[name=add_ajax]").click(function(){$("textarea").attr("disabled","disabled");var b=$(".edit_form textarea[name='msg']").height();d.ajax_apx?(d.ajax_apx=!1,$(a+".edit_form #realview_outer").animate({height:"toggle"},function(){$(a+".edit_form textarea[name='msg']").animate({height:b*2});$(a+".edit_form #realview").remove();$(a+".edit_form #realview_outer").remove();$(a+".edit_form #previous").remove();$(a+".edit_form textarea").removeAttr("disabled");$(a+".edit_form #indicator").hide().fadeOut()})):
(d.ajax_apx||($(a+".edit_form textarea[name='msg']").before('<div id="realview_outer">\n<div id="realview"></div>\n</div>').after('<textarea id="previous" style="display:none;"></textarea>'),$(a+".edit_form #indicator").show().fadeIn(),$(a+".edit_form #indicator").html('<img src="'+d.image_dir+'spinner.gif" alt="Loading..." />Now Loading...'),$(a+".edit_form #previous").val($("textarea#msg").val()),$(a+".edit_form #realview_outer").css("height",b/2),$(a+".edit_form #indicator").html("")),d.ajax_apx=
!0,$(a+".edit_form textarea[name='msg']").animate({height:$(this).height()+$(".edit_form #realview_outer").height()},function(){$(a+".edit_form #realview_outer").animate({height:"toggle"});$(a+".edit_form textarea").removeAttr("disabled")}),d.realtime_preview());return!1});$(a+".edit_form textarea[name=msg]").blur(function(){d.realtime_preview()});$(a+".edit_form textarea[name=msg]").mouseup(function(){$(this).val()!==$("textarea#previous").val()&&d.realtime_preview()});$(a+".edit_form textarea[name=msg]").keypress(function(){if(Modernizr.localstorage){var a=
new Date;_window.localStorage.setItem(PAGE,JSON.stringify({msg:$(this).val(),modified:a.getTime()}))}});$(a+"form").submit(function(){Modernizr.localstorage&&localStorage.removeItem(PAGE);$("#_edit_form_notimestamp:checked")!==!0&&$("#fb_publish:checked")===!0&&$.ajax({url:"https://graph.facebook.com/bbeckford/feed",type:"post",data:{method:"stream.publish",message:PAGE+"\n"+$("link[rel=canonical]")[0].href},cache:!1,dataType:"json",success:function(a){console.log(a.body)},error:function(){$(a+"input, button, select, textarea").removeAttr("disabled");
alert("\u3088\u304d\u305b\u306c\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002")}})});this.assistant(!1)},show_diff:function(a,b){return msg===org?!1:diff(a.replace(/^\n+|\n+$/g,"").split("\n"),b.replace(/^\n+|\n+$/g,"").split("\n"))},diff:function(a,b,c){var d=a.length,e=b.length;if(!c&&d>e)return diff(b,a,!0);var f,g,h=d+1,i=e-d,k=[],l=[],j=function(f){var g,i,j,q;g=k[f-1+h];i=k[f+1+h];g>=i?(i=g+1,g=i-f,j=l[f-1+h],q={edit:c?"-":"+",arr:b,line:i-1}):(g=i-f,j=l[f+1+h],q={edit:c?
"+":"-",arr:a,line:g-1});q.line>=0&&(l[f+h]=j.concat(q));q=d-g>e-i?d-g:e-i;for(j=0;j<q&&a[g+j]===b[i+j];++j)l[f+h].push({edit:"=",arr:a,line:g+j});k[f+h]=i+j;return!0};for(g=0;g<d+e+3;++g)k[g]=-1,l[g]=[];for(g=0;k[i+h]!==e;g++){for(f=-g;f<i;++f)j(f);for(f=i+g;f>=i;--f)j(f)}return l[i+h]},realtime_preview:function(a){a?a+=" ":a="";var b=_document.getElementById("msg"),c=_document.getElementById("msg").value,d=this;if(this.ajax_apx&&($(a+"#indicator").html('<img src="'+d.image_dir+'spinner.gif" alt="Loading..." />Now Loading...'),
$(a+"textarea#previous").val(c),$(a+"textarea").attr("disabled","disabled"),++this.ajax_count===1)){if(_document.selection){var e=_document.selection.createRange();sellen=e.text.length;var b=b.createTextRange(),f=b.text.length;try{b.moveToPoint(e.offsetLeft,e.offsetTop),b.moveEnd("textedit")}catch(g){}endlen=b.text.length;sttlen=f-endlen}else if(b.setSelectionRange)sttlen=b.selectionStart,endlen=b.value.length-b.selectionEnd,sellen=b.selectionEnd-sttlen;finlen=c.lastIndexOf("\n",sttlen);c=c.substring(0,
finlen)+"\n\n&editmark;\n\n"+c.substring(finlen);$.ajax({url:SCRIPT,type:"post",global:!1,data:{cmd:"edit",realview:1,page:PAGE,msg:c,type:"json"},cache:!1,dataType:"json",success:function(b){var c=_document.getElementById("realview_outer"),e=_document.getElementById("editmark");if(e)c.scrollTop=e.offsetTop-8;d.ajax_count===1?d.ajax_count=0:(d.ajax_count=0,d.realtime_preview());$(a+"#indicator").html('<span class="ui-icon ui-icon-clock" style="float:left;"></span>'+b.taketime);b=b.data.replace(/<script[^>]*>[^<]+/ig,
'<span class="scripttag" title="Script tag">[SCRIPT]</span>');$(a+"#realview").html(b);$(a+"textarea").removeAttr("disabled")},error:function(a,b){$("#realview").html(['<div class="ui-state-error ui-corner-all" style="padding: 0 .7em;">','<p><span class="ui-icon ui-icon-alert" style="float: left; margin-right: .3em;"></span>'+b+"</p>","<ul>","<li>readyState:"+a.readyState+"</li>","<li>status:"+a.status+"</li>","<li>statusText:"+a.statusText+"</li>","</ul>\n</div>"].join("\n"))}})}},assistant:function(){var a,
b,c=["sun","cloud","rain","snow","thunder","typhoon","mist","sprinkle","aries","taurus","gemini","cancer","leo","virgo","libra","scorpius","sagittarius","capricornus","aquarius","pisces","sports","baseball","golf","tennis","soccer","ski","basketball","motorsports","pocketbell","train","subway","bullettrain","car","rvcar","bus","ship","airplane","house","building","postoffice","hospital","bank","atm","hotel","cvs","gasstation","parking","signaler","toilet","restaurant","cafe","bar","beer","fastfood",
"boutique","hairsalon","karaoke","movie","upwardright","carouselpony","music","art","drama","event","ticket","smoking","nosmoking","camera","bag","book","ribbon","present","birthday","telephone","mobilephone","memo","tv","game","cd","heart","spade","diamond","club","eye","ear","rock","scissors","paper","downwardright","upwardleft","foot","shoe","eyeglass","wheelchair","newmoon","moon1","moon2","moon3","fullmoon","dog","cat","yacht","xmas","downwardleft","phoneto","mailto","faxto","info01","info02",
"mail","by-d","d-point","yen","free","id","key","enter","clear","search","new","flag","freedial","sharp","mobaq","one","two","three","four","five","six","seven","eight","nine","zero","ok","heart01","heart02","heart03","heart04","happy01","angry","despair","sad","wobbly","up","note","spa","cute","kissmark","shine","flair","annoy","punch","bomb","notes","down","sleepy","sign01","sign02","sign03","impact","sweat01","sweat02","dash","sign04","sign05","slate","pouch","pen","shadow","chair","night","soon",
"on","end","clock","appli01","appli02","t-shirt","moneybag","rouge","denim","snowboard","bell","door","dollar","pc","loveletter","wrench","pencil","crown","ring","sandclock","bicycle","japanesetea","watch","think","confident","coldsweats01","coldsweats02","pout","gawk","lovely","good","bleah","wink","happy02","bearing","catface","crying","weep","ng","clip","copyright","tm","run","secret","recycle","r-mark","danger","ban","empty","pass","full","leftright","updown","school","wave","fuji","clover","cherry",
"tulip","banana","apple","bud","maple","cherryblossom","riceball","cake","bottle","noodle","bread","snail","chick","penguin","fish","delicious","smile","horse","pig","wine","shock"],d=["#000000","#003300","#006600","#009900","#00CC00","#00FF00","#330000","#333300","#336600","#339900","#33CC00","#33FF00","#660000","#663300","#666600","#669900","#66CC00","#66FF00","#000033","#003333","#006633","#009933","#00CC33","#00FF33","#330033","#333333","#336633","#339933","#33CC33","#33FF33","#660033","#663333",
"#666633","#669933","#66CC33","#66FF33","#000066","#003366","#006666","#009966","#00CC66","#00FF66","#330066","#333366","#336666","#339966","#33CC66","#33FF66","#660066","#663366","#666666","#669966","#66CC66","#66FF66","#000099","#003399","#006699","#009999","#00CC99","#00FF99","#330099","#333399","#336699","#339999","#33CC99","#33FF99","#660099","#663399","#666699","#669999","#66CC99","#66FF99","#0000CC","#0033CC","#0066CC","#0099CC","#00CCCC","#00FFCC","#3300CC","#3333CC","#3366CC","#3399CC","#33CCCC",
"#33FFCC","#6600CC","#6633CC","#6666CC","#6699CC","#66CCCC","#66FFCC","#0000FF","#0033FF","#0066FF","#0099FF","#00CCFF","#00FFFF","#3300FF","#3333FF","#3366FF","#3399FF","#33CCFF","#33FFFF","#6600FF","#6633FF","#6666FF","#6699FF","#66CCFF","#66FFFF","#990000","#993300","#996600","#999900","#99CC00","#99FF00","#CC0000","#CC3300","#CC6600","#CC9900","#CCCC00","#CCFF00","#FF0000","#FF3300","#FF6600","#FF9900","#FFCC00","#FFFF00","#990033","#993333","#996633","#999933","#99CC33","#99FF33","#CC0033","#CC3333",
"#CC6633","#CC9933","#CCCC33","#CCFF33","#FF0033","#FF3333","#FF6633","#FF9933","#FFCC33","#FFFF33","#990066","#993366","#996666","#999966","#99CC66","#99FF66","#CC0066","#CC3366","#CC6666","#CC9966","#CCCC66","#CCFF66","#FF0066","#FF3366","#FF6666","#FF9966","#FFCC66","#FFFF66","#990099","#993399","#996699","#999999","#99CC99","#99FF99","#CC0099","#CC3399","#CC6699","#CC9999","#CCCC99","#CCFF99","#FF0099","#FF3399","#FF6699","#FF9999","#FFCC99","#FFFF99","#9900CC","#9933CC","#9966CC","#9999CC","#99CCCC",
"#99FFCC","#CC00CC","#CC33CC","#CC66CC","#CC99CC","#CCCCCC","#CCFFCC","#FF00CC","#FF33CC","#FF66CC","#FF99CC","#FFCCCC","#FFFFCC","#9900FF","#9933FF","#9966FF","#9999FF","#99CCFF","#99FFFF","#CC00FF","#CC33FF","#CC66FF","#CC99FF","#CCCCFF","#CCFFFF","#FF00FF","#FF33FF","#FF66FF","#FF99FF","#FFCCFF","#FFFFFF","#111111","#222222","#333333","#444444","#555555","#666666","#777777","#888888","#999999","#A5A5A5","#AAAAAA","#BBBBBB","#C3C3C3","#CCCCCC","#D2D2D2","#DDDDDD","#EEEEEE","#FFFFFF"];$(".assistant").html(['<ul class="ui-widget pkwk_widget">\n<li class="replace ui-button ui-state-default ui-corner-left" title="Bold" name="b"><strong>b</strong></li>\n<li class="replace ui-button ui-state-default" title="Italic" name="i" style="font-weight:normal;"><em>i</em></li>\n<li class="replace ui-button ui-state-default" title="Strike" name="s" style="font-weight:normal;"><strike>s</strike></li>\n<li class="replace ui-button ui-state-default" title="Underline" name="u" style="font-weight:normal;"><span class="underline">u</span></li>\n<li class="replace ui-button ui-state-default" title="Code" name="code" style="font-weight:normal;"><span class="ui-icon ui-icon-script"></span></li>\n<li class="replace ui-button ui-state-default ui-corner-right" title="Q" name="q" style="font-weight:normal;"><span class="ui-icon ui-icon-comment"></span></li>\n<li class="replace ui-button ui-state-default ui-corner-left" title="Link" name="url"><span class="ui-icon ui-icon-link"></span></li>\n<li class="replace ui-button ui-state-default" title="Size" name="size">size</li>\n<li class="insert ui-button ui-state-default ui-corner-right" title="Color" name="color">color</li>\n<li class="insert ui-button ui-state-default ui-corner-left" title="Emoji" name="emoji">\u263a</li>\n<li class="insert ui-button ui-state-default ui-corner-right" title="br" name="br">\u23ce</li>\n<li class="replace ui-button ui-state-default ui-corner-all" title="ncr" name="ncr">&amp;#</li>\n<li class="insert ui-button ui-state-default ui-corner-all" title="Help" name="help"><span class="ui-icon ui-icon-help"></span></li>',
typeof Modernizr.localstorage!=="undefined"?'<li class="insert ui-state-default ui-corner-all" title="Flush Storage" name="flush"><span class="ui-icon ui-icon-trash"></span></li>':null,'<li class="ui-widget-content ui-corner-all" style="float:right; width:auto;display:none;font-weight:normal;" id="indicator"></li>\n</ul>'].join("\n"));var e='<ul class="ui-widget pkwk_widget ui-helper-clearfix">';a=0;for(b=c.length;a<b;a++){var f=c[a];e+='<li class="ui-button ui-state-default ui-corner-all" title="'+
f+'" name="'+f+'"><span class="emoji emoji-'+f+'"></span></li>'}e+="</ul>";$(_document.body).append('<div id="emoji"></div>');$("#emoji").dialog({title:"Emoji",autoOpen:!1,bgiframe:!0,minWidth:410,height:410,minHeight:410,show:"scale",hide:"scale",buttons:{Close:function(){$(this).dialog("close")}}}).html(e);c='<ul class="ui-widget pkwk_widget ui-helper-clearfix" id="colors">';a=e=0;for(b=d.length;a<b;a++)f=d[a],c+='<li class="ui-button ui-state-default" title="'+f+'" name="'+f+'"><span class="emoji" style="background-color:'+
f+';"></span></li>',e++;c+="</ul>";$(_document.body).append('<div id="color_palette"></div>');$("#color_palette").dialog({title:"Palette",autoOpen:!1,bgiframe:!0,width:470,height:400,show:"scale",hide:"scale"}).html(c);if(!this.elem)this.elem=$("*[name=msg]")[0];var g=this;$("*[name=msg]").focus(function(){g.elem=this});$(".insert").click(function(){var a="",b=$(g.elem),c=b.getSelection().text;switch($(this).attr("name")){case "help":alert($.i18n("pukiwiki","hint_text1"));break;case "br":a="&br;\n";
break;case "emoji":$("#emoji").dialog("open");break;case "color":$("#color_palette").dialog("open");break;case "flush":Modernizr.localstorage&&confirm("Flush local strage?")===!0&&localStorage.removeItem(PAGE);break;default:a="&("+$(this).attr("name")+");"}a!==""&&(c===""?b.insertAtCaretPos(a):b.replaceSelection(a),b.focus())});$(".replace").click(function(){var a="",b=$(g.elem),c=b.getSelection().text,d=$(this).attr("name");if(c===""||!b)alert($.i18n("pukiwiki","select"));else{switch(d){case "size":a=
prompt($.i18n("pukiwiki","fontsize"),"100%");if(!a||!a.match(/\d+/))return;a="&size("+a+"){"+c+"};";break;case "ncr":var e,d=0;for(e=c.length;d<e;d++)a+="&#"+c.charCodeAt(d)+";";break;case "b":a="''"+c+"''";break;case "i":a="'''"+c+"'''";break;case "u":a="__"+c+"__";break;case "s":a="%%"+c+"%%";break;case "code":a="@@"+c+"@@";break;case "q":a="@@@"+c+"@@@";break;case "url":d=prompt($.i18n("pukiwiki","url"),"http://"),d!==null&&(a="[["+c+">"+d+"]]")}b.replaceSelection(a);b.focus()}});$("#emoji ul li").click(function(){var a=
$(g.elem),b=a.getSelection().text,c="&("+$(this).attr("name")+");";b===""?a.insertAtCaretPos(c):a.replaceSelection(c);g.elem.focus()});$("#color_palette ul li").click(function(){var a=$(g.elem),b=a.getSelection().text,c=$(this).attr("name");b===""||!a?alert($.i18n("pukiwiki","select")):(b.match(/^&color\([^\)]*\)\{.*\};$/)?a.replaceSelection(b.replace(/^(&color\([^\)]*)(\)\{.*\};)$/,"$1,"+c+"$2")):a.replaceSelection("&color("+c+"){"+b+"};"),$("#color_palette").dialog("close"),g.elem.focus())})},set_uploader:function(a){a?
a+=" ":a="";$(a+"input[name=pass]");var b={max_file_size:$(a+"input[name=max_file_size]").val(),pcmd:$(a+"input[name=pcmd]").val(),plugin:$(a+"input[name=plugin]").val(),refer:$(a+"input[name=refer]").val(),ajax:"json"};if(b.plugin==="attachref")b.attachref_no=$(a+"input[name=attachref_no]").val(),b.attachref_opt=$(a+"input[name=attachref_opt]").val(),b.digest=$(a+"input[name=digest]").val();var c=typeof this.skin.swfupload!=="object"?{flash_url:SKIN_DIR+"js/swfupload.swf",upload_url:SCRIPT,file_post_name:"attach_file",
post_params:b,file_size_limit:b.max_file_size,file_types:"*.*",file_types_description:"All Files",file_upload_limit:10,file_queue_limit:10,debug:DEBUG,button_image_url:IMAGE_DIR+"ajax/swfupload/wdp_buttons_upload_114x29.png",button_width:114,button_height:29,button_placeholder_id:"swfupload_button",button_window_mode:SWFUpload.WINDOW_MODE.TRANSPARENT,moving_average_history_size:40}:this.skin.swfupload;if(b.plugin==="attachref")c.file_upload_limit=1,c.file_queue_limit=1;b.pass=$("input[name=pass]").length!==
0?$("input[name=pass]").val():"";b.encode_hint=$("input[name=encode_hint]").length!==0?$(a+"input[name=encode_hint]").val():"";$(a+".attach_form").html('<div id="swfupload-control">\n<input type="button" id="swfupload_button" />\n<p id="swfupload-queuestatus" ></p>\n<ol id="swfupload-log" class="ui-widget"></ol>\n<button id="execute">Go</button>\n</div>');$(a+"#execute").button({icons:{primary:"ui-icon-check"},disabled:!0}).click(function(){$("#swfupload-control").swfupload("startUpload");return!1}).css({display:"none"});
$(a+"#swfupload-control").swfupload(c).bind("fileQueued",function(b,c){var f=['<li id="'+c.id+'" class="ui-widget-content ui-corner-all">',"File: <em>"+c.name+"</em> ("+Math.round(c.size/1024)+' KB) <span class="progressvalue" ></span>','<div class="progressbar"></div>\n<p class="status"><span style="float: left; margin-right: 0.3em;" class="ui-icon ui-icon-info"></span>Pending</p>\n<button class="cancel">Close</button>\n</li>'].join("\n");$(a+"#swfupload-log").append(f);$(a+"li#"+c.id+" button:first").button({icons:{primary:"ui-icon-close"}}).click(function(){$.swfupload.getInstance("#swfupload-control").cancelUpload(c.id);
$("#swfupload-log li#"+c.id).slideUp("fast");return!1});$(a+"#swfupload-log li#"+c.id+" .progressbar").progressbar();$(a+"#execute").button({disabled:!1}).css({display:""})}).bind("fileQueueError",function(){$(a+"#swfupload-log").append('<li id="error" class="ui-widget-content ui-state-error ui-corner-all"><em>Error</em>\n<p>\n<span style="float: left; margin-right: 0.3em;" class="ui-icon ui-icon-alert"></span>\nYou have attempted to queue too many files.\n</p>\n<button class="close" >Close</button>\n</li>');
$(a+"li#error button").button({icons:{primary:"ui-icon-close"}}).click(function(){$("#swfupload-log li#error").slideUp("fast");return!1})}).bind("fileDialogComplete",function(a,b,c){$("#swfupload-queuestatus").text("Files Selected: "+b+" / Queued Files: "+c)}).bind("uploadStart",function(a,b){$("#swfupload-log li#"+b.id).find("p.status").text("Uploading...");$("#swfupload-log li#"+b.id).find("span.progressvalue").text("0%");$("#swfupload-log li#"+b.id).find("span.cancel").hide()}).bind("uploadProgress",
function(a,b,c){a=Math.round(c/b.size*100);$("#swfupload-log li#"+b.id+" .progressbar").progressbar({value:a});$("#swfupload-log li#"+b.id).find("span.progressvalue").text(a+"%")}).bind("uploadSuccess",function(c,e,f){if(b.plugin!=="attachref"){c=eval("("+f+")");f=$(a+"#swfupload-log li#"+e.id);$(a+"#swfupload-log li#"+e.id+" .progressbar").progressbar({value:100});f.find(".progressvalue").text("100%");var g='<a href="'+SCRIPT+"?plugin=attach&pcmd=open&refer="+PAGE+"&file="+e.name+'" id="view_'+e.id+
'"><span style="float: right; margin-right: 0.3em;" class="ui-icon ui-icon-newwin"></span>view &raquo;</a>';f.addClass("success").find("p.status").html(c.title+" | "+g);$(a+"#swfupload-log li#"+e.id+" a#view_"+e.id).click(function(){var b=$(this).attr("href");_window.open(b);$(a).dialog("option","close",function(){location.reload()});return!1})}else location.reload()}).bind("uploadComplete",function(){$(this).swfupload("startUpload")})},CFCheck:function(){(typeof CFInstall==="object"||$("meta[http-equiv=X-UA-Compatible]")[0].content.match(/chrome/)!==
-1)&&CFInstall.check({mode:"overlay",onmissing:function(){self.iframeWin({title:"Google Chrome Frame",width:820,height:600,url:"http://www.google.com/chromeframe"})}})},linkattrs:function(){var a,b,c=$("link[rel]");a=0;for(b=c.length;a<b;a++){var d=c[a];switch(d.rel){case "canonical":this.canonical=d.href;break;case "next":this.next=d.href;this.next_title=d.title;break;case "prev":case "previous":this.prev=d.href;this.prev_title=d.title;break;case "up":this.up=d.href;this.up_title=d.title;break;case "index":this.index=
d.href;this.index_title=d.title;break;case "alternate":if(d.hreflang==="en")this.hasEversion=!0;break;case "transformation":hasmeta=this.grddltrans=d.href;break;case "home":hashome=!0;this.home=d.href;this.home_title=d.title;break;case "search":hassearch=!0;this.search=d.href;this.search_title=d.title;break;case "meta":d.type||(hasmeta="meta");break;case "help":this.help=d.href,this.help_title=d.title}}},preptoc:function(a){var b=this;this.genTocDiv(this.prepHdngs(a));$(_document).keypress(function(a){var d=
a.which,e=String.fromCharCode(d);if(a.target.nodeName.match(/(input|textarea)/i)!==-1)return d===27?!1:!0;switch(e){case "?":location.href.indexOf("Help")===-1&&confirm("Go to help/search page ?")?location.href=pukiwiki.help:alert("This key should bring you our help, i.e. this page :-)");break;case "<":if(b.prev)location.href=b.prev;break;case "U":if(b.up)location.href=b.up;break;case ">":if(b.next)location.href=b.next;break;case "H":if(b.home)location.href=b.home;break;case "I":if(b.index)location.href=
b.index;break;case "S":b.search&&b.ajax_dialog({cmd:"search",page:PAGE,ajax:"json"});break;case "R":if(b.canonical)location.href=b.canonical;break;case "A":PAGE&&b.ajax_dialog({cmd:"attach",pcmd:"upload",page:PAGE,ajax:"json"},"",function(){b.set_uploader("div.window")});break;case "E":if(PAGE)location.href=SCRIPT+"?cmd=edit&page="+PAGE;break;case "F":PAGE&&b.ajax_dialog({cmd:"freeze",page:PAGE,ajax:"json"});break;case "C":PAGE&&b.ajax_dialog({cmd:"source",page:PAGE,ajax:"json"});break;case "B":PAGE&&
b.ajax_dialog({cmd:"backup",page:PAGE,ajax:"json"});break;case "D":PAGE&&b.ajax_dialog({cmd:"diff",page:PAGE,ajax:"json"});break;case "N":PAGE&&b.ajax_dialog({cmd:"newpage",page:PAGE,ajax:"json"});break;default:b.toc&&(b.toc.style.display!=="none"?(d===27||d===47)&&pukiwiki._hideToc():d===47&&$(b.toc).css("top",$(_window).scrollTop()+"px").css("left",$(_window).scrollLeft()+"px").fadeIn("fast"))}return!1})},prepHdngs:function(a){a?a+=" ":a="";var b="",c=$(a+"h2"),d=$(a+".contents ul").removeAttr("class").removeAttr("style"),
e='<img src="'+this.image_dir+'toc.png" class="tocpic" title="Table of Contents of this page" alt="Toc" />';if(d.length!==0)b="<ol>"+d.html()+"</ol>",c.each(function(){$(this).html($(this).html()+e)}),$(a+"h3").each(function(){$(this).html($(this).html()+e)});else if(c.length!==0){var f=[];c.each(function(a){var b=$(this),c=b.attr("id");c||b.attr("id","_genid_"+a);b.html(b.html()+e);f[a]='<li><a href="#'+c+'">'+b.text()+"</a></li>"});b="<ol>"+f.join("\n")+"</ol>"}else $.query.get("cmd").match(/list|backup/)!==
-1&&(b='<div style="text-align:center;">'+$("#top").html()+"</div>",$(a+"#top").html($(a+"#top").html()+e));return b},genTocDiv:function(a){this.toc=_document.createElement("div");this.toc.id="poptoc";$(this.toc).addClass("ui-widget ui-corner-all noprint").css("top",0).css("left",0).css("position","absolute").css("z-index",1).html(['<h1><a href="#">'+$("h1#title").text()+'</a><abbr title="Table of Contents">[TOC]</abbr></h1>',a.replace(/href/g,'tabindex="1" href'),this.getNaviLink()].join(""));_document.body.appendChild(this.toc);
$(_document).click(this.popToc);this.calcObj(this.toc,300)},calcObj:function(a,b){var c=self.pageXOffset,d=self.pageYOffset;a.style.visibility="hidden";a.style.display="block";a.width=a.offsetWidth;if(a.width>b&&(a.width=b,!$.browser.safari))a.style.width=b+"px";a.height=a.offsetHeight;a.style.display="none";a.style.visibility="visible";d&&scroll(c,d)},getNaviLink:function(){var a=function(a,c,d){return c?'<a href="'+c+'" title="'+d+'">'+a+"</a>":'<span style="color:gray;">'+a+"</span>"};return(a=
["&lt;&lt;",a("Prev page",this.prev,this.prev_title)," | ",a("Up",this.up,this.up_title)," | ",a("Next page",this.next,this.next_title),"&gt;&gt;<br />[ ",a("Home",this.home,this.home_title)," | ",a("Index",this.index,this.index_title)," | ",a("Search",this.search,this.search_title)," | ",a("Help",this.help,this.help_title)," ]"].join(""))?"<p class='nav'>"+a+"</p>":""},popToc:function(a){var b;a||(a=event);b=_window.event?a.srcElement:a.target;a.altKey?pukiwiki._dispToc(a,b,0):b.className==="tocpic"?
pukiwiki._dispToc(a,b,1):pukiwiki._hideToc(a)},setCurPos:function(a,b){var c=a.parentNode;return b===1?a.getAttribute("id"):c.getAttribute("id")?c.getAttribute("id"):c.firstChild.getAttribute?c.firstChild.getAttribute("id"):""},nodeText:function(a){if(typeof a!=="object")return a;var b,c,d=a.childNodes,a=0;for(c=d.length;a<c;a++)d.item(a).nodeType===3?b+=d.item(a).data:d.item(a).nodeType===1&&(b+=this.nodeText(d.item(a)));b=b.replace(/^\s*/,"");return b.replace(/\s*$/,"")},_dispToc:function(a,b,c){var d=
{x:a.clientX+$(_window).scrollLeft(),y:a.clientY+$(_window).scrollTop()},a={x:a.pageX,y:a.pageY,w:$(_window).width(),h:$(_window).height()},e=this.toc.height,f=this.toc.width;a.h<e?($(this.toc).css("height",a.h+"px").css("overflow","auto"),e=d.y-a.y):e=a.h-a.y>e?d.y:a.y>e?d.y-e:a.y<a.h/2?d.y-a.y:d.y+a.h-a.y-e;$(this.toc).css("top",e+"px").css("left",(a.x<a.w-f?d.x:d.x-f)+"px");c&&pukiwiki.setCurPos(b,c);$(this.toc).fadeIn("fast")},_hideToc:function(){$(this.toc).fadeOut("fast")},bad_behavior:function(a){a?
a+=" ":a="";typeof BH_NAME!=="undefined"&&typeof BH_VALUE!=="undefined"&&$(a+"form").append('<input type="hidden" name="'+BH_NAME+'" value="'+BH_VALUE+'" />')}};function open_uri(a,b){if(!b)return!1;_window.open(a,b);return!1}$.fn.serializeObject=function(){var a={},b=this.serializeArray();$.each(b,function(){a[this.name]?(a[this.name].push||(a[this.name]=[a[this.name]]),a[this.name].push(this.value||"")):a[this.name]=this.value||""});return a};
$.fn.disableOnSubmit=function(a){var b=a===null?"input[type=submit],input[type=button],input[type=reset],button":a;$(this).find(b).removeAttr("disabled");$(this).submit(function(){$(this).find(b).attr("disabled","disabled")});return this};
var ScrollLock={lock:function(){var a=$(_window),a={width:a.width(),height:a.height(),top:_document.body.scrollTop||_document.documentElement.scrollTop,left:_document.body.scrollLeft||_document.documentElement.scrollLeft};ScrollLock.viewport=a;var b=[a.top+"px",a.left+a.width+"px",a.top+a.height+"px",a.left+"px"];$("body").css({clip:"rect("+b.join(",")+")",position:"absolute",overflow:"hidden",top:-a.top,left:0})},unlock:function(){$("body").css({position:"static",overflow:"",top:0,left:0});var a=
ScrollLock.viewport;_window.scrollTo(a.left,a.top)}},$buoop={vs:{i:8,f:5,o:11,s:5,n:9},reminder:1,onshow:function(){},l:LANG,newwindow:!1};if(DEBUG)$buoop.text="When the version of a browser is old, the text which presses for renewal of a browser here is displayed.";else if((_document.compatMode||"")!=="CSS1Compat")$buoop.text="Please set native rendering mode.";
$(_document).ready(function(){$.getScript("http://browser-update.org/update.js");typeof GOOGLE_ANALYTICS!=="undefined"&&$.ajaxGA.init(GOOGLE_ANALYTICS,!0);for(var a;a=pkwkBeforeInit.shift();)a!=null&&a();pukiwiki.init();for(tzCalculation_LocalTimeZone(location.host,!1);a=pkwkInit.shift();)a!=null&&a()});$(_window).unload(function(){for(var a;a=pkwkBeforeUnload.shift();)a!=null&&a();for(pukiwiki.unload();a=pkwkUnload.shift();)a!=null&&a()});
_window.log=function(){log.history=log.history||[];log.history.push(arguments);this.console&&console.log(Array.prototype.slice.call(arguments))};(function(a){function b(){}for(var c=["error","info","log","warn"],d;d=c.pop();)a[d]=a[d]||b})(_window.console=_window.console={});(function(a){var b=a.write;a.write=function(c){log("document.write(): ",arguments);/docwriteregexwhitelist/.test(c)&&b.apply(a,arguments)}})(_document);var SWFUpload;SWFUpload==void 0&&(SWFUpload=function(a){this.initSWFUpload(a)});
SWFUpload.prototype.initSWFUpload=function(a){try{this.customSettings={},this.settings=a,this.eventQueue=[],this.movieName="SWFUpload_"+SWFUpload.movieCount++,this.movieElement=null,SWFUpload.instances[this.movieName]=this,this.initSettings(),this.loadFlash(),this.displayDebugInfo()}catch(b){throw delete SWFUpload.instances[this.movieName],b;}};SWFUpload.instances={};SWFUpload.movieCount=0;SWFUpload.version="2.2.0 2009-03-25";
SWFUpload.QUEUE_ERROR={QUEUE_LIMIT_EXCEEDED:-100,FILE_EXCEEDS_SIZE_LIMIT:-110,ZERO_BYTE_FILE:-120,INVALID_FILETYPE:-130};SWFUpload.UPLOAD_ERROR={HTTP_ERROR:-200,MISSING_UPLOAD_URL:-210,IO_ERROR:-220,SECURITY_ERROR:-230,UPLOAD_LIMIT_EXCEEDED:-240,UPLOAD_FAILED:-250,SPECIFIED_FILE_ID_NOT_FOUND:-260,FILE_VALIDATION_FAILED:-270,FILE_CANCELLED:-280,UPLOAD_STOPPED:-290};SWFUpload.FILE_STATUS={QUEUED:-1,IN_PROGRESS:-2,ERROR:-3,COMPLETE:-4,CANCELLED:-5};
SWFUpload.BUTTON_ACTION={SELECT_FILE:-100,SELECT_FILES:-110,START_UPLOAD:-120};SWFUpload.CURSOR={ARROW:-1,HAND:-2};SWFUpload.WINDOW_MODE={WINDOW:"window",TRANSPARENT:"transparent",OPAQUE:"opaque"};SWFUpload.completeURL=function(a){if(typeof a!=="string"||a.match(/^https?:\/\//i)||a.match(/^\//))return a;var b=window.location.pathname.lastIndexOf("/");path=b<=0?"/":window.location.pathname.substr(0,b)+"/";return path+a};
SWFUpload.prototype.initSettings=function(){this.ensureDefault=function(a,b){this.settings[a]=this.settings[a]==void 0?b:this.settings[a]};this.ensureDefault("upload_url","");this.ensureDefault("preserve_relative_urls",!1);this.ensureDefault("file_post_name","Filedata");this.ensureDefault("post_params",{});this.ensureDefault("use_query_string",!1);this.ensureDefault("requeue_on_error",!1);this.ensureDefault("http_success",[]);this.ensureDefault("assume_success_timeout",0);this.ensureDefault("file_types",
"*.*");this.ensureDefault("file_types_description","All Files");this.ensureDefault("file_size_limit",0);this.ensureDefault("file_upload_limit",0);this.ensureDefault("file_queue_limit",0);this.ensureDefault("flash_url","swfupload.swf");this.ensureDefault("prevent_swf_caching",!0);this.ensureDefault("button_image_url","");this.ensureDefault("button_width",1);this.ensureDefault("button_height",1);this.ensureDefault("button_text","");this.ensureDefault("button_text_style","color: #000000; font-size: 16pt;");
this.ensureDefault("button_text_top_padding",0);this.ensureDefault("button_text_left_padding",0);this.ensureDefault("button_action",SWFUpload.BUTTON_ACTION.SELECT_FILES);this.ensureDefault("button_disabled",!1);this.ensureDefault("button_placeholder_id","");this.ensureDefault("button_placeholder",null);this.ensureDefault("button_cursor",SWFUpload.CURSOR.ARROW);this.ensureDefault("button_window_mode",SWFUpload.WINDOW_MODE.WINDOW);this.ensureDefault("debug",!1);this.settings.debug_enabled=this.settings.debug;
this.settings.return_upload_start_handler=this.returnUploadStart;this.ensureDefault("swfupload_loaded_handler",null);this.ensureDefault("file_dialog_start_handler",null);this.ensureDefault("file_queued_handler",null);this.ensureDefault("file_queue_error_handler",null);this.ensureDefault("file_dialog_complete_handler",null);this.ensureDefault("upload_start_handler",null);this.ensureDefault("upload_progress_handler",null);this.ensureDefault("upload_error_handler",null);this.ensureDefault("upload_success_handler",
null);this.ensureDefault("upload_complete_handler",null);this.ensureDefault("debug_handler",this.debugMessage);this.ensureDefault("custom_settings",{});this.customSettings=this.settings.custom_settings;if(this.settings.prevent_swf_caching)this.settings.flash_url=this.settings.flash_url+(this.settings.flash_url.indexOf("?")<0?"?":"&")+"preventswfcaching="+(new Date).getTime();if(!this.settings.preserve_relative_urls)this.settings.upload_url=SWFUpload.completeURL(this.settings.upload_url),this.settings.button_image_url=
SWFUpload.completeURL(this.settings.button_image_url);delete this.ensureDefault};
SWFUpload.prototype.loadFlash=function(){var a,b;if(document.getElementById(this.movieName)!==null)throw"ID "+this.movieName+" is already in use. The Flash Object could not be added";a=document.getElementById(this.settings.button_placeholder_id)||this.settings.button_placeholder;if(a==void 0)throw"Could not find the placeholder element: "+this.settings.button_placeholder_id;b=document.createElement("div");b.innerHTML=this.getFlashHTML();a.parentNode.replaceChild(b.firstChild,a);window[this.movieName]==
void 0&&(window[this.movieName]=this.getMovieElement())};
SWFUpload.prototype.getFlashHTML=function(){return['<object id="',this.movieName,'" type="application/x-shockwave-flash" data="',this.settings.flash_url,'" width="',this.settings.button_width,'" height="',this.settings.button_height,'" class="swfupload"><param name="wmode" value="',this.settings.button_window_mode,'" /><param name="movie" value="',this.settings.flash_url,'" /><param name="quality" value="high" /><param name="menu" value="false" /><param name="allowScriptAccess" value="always" />','<param name="flashvars" value="'+
this.getFlashVars()+'" />',"</object>"].join("")};
SWFUpload.prototype.getFlashVars=function(){var a=this.buildParamString(),b=this.settings.http_success.join(",");return["movieName=",encodeURIComponent(this.movieName),"&amp;uploadURL=",encodeURIComponent(this.settings.upload_url),"&amp;useQueryString=",encodeURIComponent(this.settings.use_query_string),"&amp;requeueOnError=",encodeURIComponent(this.settings.requeue_on_error),"&amp;httpSuccess=",encodeURIComponent(b),"&amp;assumeSuccessTimeout=",encodeURIComponent(this.settings.assume_success_timeout),"&amp;params=",
encodeURIComponent(a),"&amp;filePostName=",encodeURIComponent(this.settings.file_post_name),"&amp;fileTypes=",encodeURIComponent(this.settings.file_types),"&amp;fileTypesDescription=",encodeURIComponent(this.settings.file_types_description),"&amp;fileSizeLimit=",encodeURIComponent(this.settings.file_size_limit),"&amp;fileUploadLimit=",encodeURIComponent(this.settings.file_upload_limit),"&amp;fileQueueLimit=",encodeURIComponent(this.settings.file_queue_limit),"&amp;debugEnabled=",encodeURIComponent(this.settings.debug_enabled),
"&amp;buttonImageURL=",encodeURIComponent(this.settings.button_image_url),"&amp;buttonWidth=",encodeURIComponent(this.settings.button_width),"&amp;buttonHeight=",encodeURIComponent(this.settings.button_height),"&amp;buttonText=",encodeURIComponent(this.settings.button_text),"&amp;buttonTextTopPadding=",encodeURIComponent(this.settings.button_text_top_padding),"&amp;buttonTextLeftPadding=",encodeURIComponent(this.settings.button_text_left_padding),"&amp;buttonTextStyle=",encodeURIComponent(this.settings.button_text_style),
"&amp;buttonAction=",encodeURIComponent(this.settings.button_action),"&amp;buttonDisabled=",encodeURIComponent(this.settings.button_disabled),"&amp;buttonCursor=",encodeURIComponent(this.settings.button_cursor)].join("")};SWFUpload.prototype.getMovieElement=function(){if(this.movieElement==void 0)this.movieElement=document.getElementById(this.movieName);if(this.movieElement===null)throw"Could not find Flash element";return this.movieElement};
SWFUpload.prototype.buildParamString=function(){var a=this.settings.post_params,b=[];if(typeof a==="object")for(var c in a)a.hasOwnProperty(c)&&b.push(encodeURIComponent(c.toString())+"="+encodeURIComponent(a[c].toString()));return b.join("&amp;")};
SWFUpload.prototype.destroy=function(){try{this.cancelUpload(null,!1);var a=null;if((a=this.getMovieElement())&&typeof a.CallFunction==="unknown"){for(var b in a)try{typeof a[b]==="function"&&(a[b]=null)}catch(c){}try{a.parentNode.removeChild(a)}catch(d){}}window[this.movieName]=null;SWFUpload.instances[this.movieName]=null;delete SWFUpload.instances[this.movieName];this.movieName=this.eventQueue=this.customSettings=this.settings=this.movieElement=null;return!0}catch(e){return!1}};
SWFUpload.prototype.displayDebugInfo=function(){this.debug(["---SWFUpload Instance Info---\nVersion: ",SWFUpload.version,"\nMovie Name: ",this.movieName,"\nSettings:\n\tupload_url:               ",this.settings.upload_url,"\n\tflash_url:                ",this.settings.flash_url,"\n\tuse_query_string:         ",this.settings.use_query_string.toString(),"\n\trequeue_on_error:         ",this.settings.requeue_on_error.toString(),"\n\thttp_success:             ",this.settings.http_success.join(", "),"\n\tassume_success_timeout:   ",
this.settings.assume_success_timeout,"\n\tfile_post_name:           ",this.settings.file_post_name,"\n\tpost_params:              ",this.settings.post_params.toString(),"\n\tfile_types:               ",this.settings.file_types,"\n\tfile_types_description:   ",this.settings.file_types_description,"\n\tfile_size_limit:          ",this.settings.file_size_limit,"\n\tfile_upload_limit:        ",this.settings.file_upload_limit,"\n\tfile_queue_limit:         ",this.settings.file_queue_limit,"\n\tdebug:                    ",
this.settings.debug.toString(),"\n\tprevent_swf_caching:      ",this.settings.prevent_swf_caching.toString(),"\n\tbutton_placeholder_id:    ",this.settings.button_placeholder_id.toString(),"\n\tbutton_placeholder:       ",this.settings.button_placeholder?"Set":"Not Set","\n\tbutton_image_url:         ",this.settings.button_image_url.toString(),"\n\tbutton_width:             ",this.settings.button_width.toString(),"\n\tbutton_height:            ",this.settings.button_height.toString(),"\n\tbutton_text:              ",
this.settings.button_text.toString(),"\n\tbutton_text_style:        ",this.settings.button_text_style.toString(),"\n\tbutton_text_top_padding:  ",this.settings.button_text_top_padding.toString(),"\n\tbutton_text_left_padding: ",this.settings.button_text_left_padding.toString(),"\n\tbutton_action:            ",this.settings.button_action.toString(),"\n\tbutton_disabled:          ",this.settings.button_disabled.toString(),"\n\tcustom_settings:          ",this.settings.custom_settings.toString(),"\nEvent Handlers:\n\tswfupload_loaded_handler assigned:  ",
(typeof this.settings.swfupload_loaded_handler==="function").toString(),"\n\tfile_dialog_start_handler assigned: ",(typeof this.settings.file_dialog_start_handler==="function").toString(),"\n\tfile_queued_handler assigned:       ",(typeof this.settings.file_queued_handler==="function").toString(),"\n\tfile_queue_error_handler assigned:  ",(typeof this.settings.file_queue_error_handler==="function").toString(),"\n\tupload_start_handler assigned:      ",(typeof this.settings.upload_start_handler===
"function").toString(),"\n\tupload_progress_handler assigned:   ",(typeof this.settings.upload_progress_handler==="function").toString(),"\n\tupload_error_handler assigned:      ",(typeof this.settings.upload_error_handler==="function").toString(),"\n\tupload_success_handler assigned:    ",(typeof this.settings.upload_success_handler==="function").toString(),"\n\tupload_complete_handler assigned:   ",(typeof this.settings.upload_complete_handler==="function").toString(),"\n\tdebug_handler assigned:             ",
(typeof this.settings.debug_handler==="function").toString(),"\n"].join(""))};SWFUpload.prototype.addSetting=function(a,b,c){return b==void 0?this.settings[a]=c:this.settings[a]=b};SWFUpload.prototype.getSetting=function(a){return this.settings[a]!=void 0?this.settings[a]:""};
SWFUpload.prototype.callFlash=function(a,b){var b=b||[],c=this.getMovieElement(),d,e;try{e=c.CallFunction('<invoke name="'+a+'" returntype="javascript">'+__flash__argumentsToXML(b,0)+"</invoke>"),d=eval(e)}catch(f){throw"Call to "+a+" failed";}d!=void 0&&typeof d.post==="object"&&(d=this.unescapeFilePostParams(d));return d};SWFUpload.prototype.selectFile=function(){this.callFlash("SelectFile")};SWFUpload.prototype.selectFiles=function(){this.callFlash("SelectFiles")};
SWFUpload.prototype.startUpload=function(a){this.callFlash("StartUpload",[a])};SWFUpload.prototype.cancelUpload=function(a,b){b!==!1&&(b=!0);this.callFlash("CancelUpload",[a,b])};SWFUpload.prototype.stopUpload=function(){this.callFlash("StopUpload")};SWFUpload.prototype.getStats=function(){return this.callFlash("GetStats")};SWFUpload.prototype.setStats=function(a){this.callFlash("SetStats",[a])};
SWFUpload.prototype.getFile=function(a){return typeof a==="number"?this.callFlash("GetFileByIndex",[a]):this.callFlash("GetFile",[a])};SWFUpload.prototype.addFileParam=function(a,b,c){return this.callFlash("AddFileParam",[a,b,c])};SWFUpload.prototype.removeFileParam=function(a,b){this.callFlash("RemoveFileParam",[a,b])};SWFUpload.prototype.setUploadURL=function(a){this.settings.upload_url=a.toString();this.callFlash("SetUploadURL",[a])};
SWFUpload.prototype.setPostParams=function(a){this.settings.post_params=a;this.callFlash("SetPostParams",[a])};SWFUpload.prototype.addPostParam=function(a,b){this.settings.post_params[a]=b;this.callFlash("SetPostParams",[this.settings.post_params])};SWFUpload.prototype.removePostParam=function(a){delete this.settings.post_params[a];this.callFlash("SetPostParams",[this.settings.post_params])};
SWFUpload.prototype.setFileTypes=function(a,b){this.settings.file_types=a;this.settings.file_types_description=b;this.callFlash("SetFileTypes",[a,b])};SWFUpload.prototype.setFileSizeLimit=function(a){this.settings.file_size_limit=a;this.callFlash("SetFileSizeLimit",[a])};SWFUpload.prototype.setFileUploadLimit=function(a){this.settings.file_upload_limit=a;this.callFlash("SetFileUploadLimit",[a])};
SWFUpload.prototype.setFileQueueLimit=function(a){this.settings.file_queue_limit=a;this.callFlash("SetFileQueueLimit",[a])};SWFUpload.prototype.setFilePostName=function(a){this.settings.file_post_name=a;this.callFlash("SetFilePostName",[a])};SWFUpload.prototype.setUseQueryString=function(a){this.settings.use_query_string=a;this.callFlash("SetUseQueryString",[a])};SWFUpload.prototype.setRequeueOnError=function(a){this.settings.requeue_on_error=a;this.callFlash("SetRequeueOnError",[a])};
SWFUpload.prototype.setHTTPSuccess=function(a){typeof a==="string"&&(a=a.replace(" ","").split(","));this.settings.http_success=a;this.callFlash("SetHTTPSuccess",[a])};SWFUpload.prototype.setAssumeSuccessTimeout=function(a){this.settings.assume_success_timeout=a;this.callFlash("SetAssumeSuccessTimeout",[a])};SWFUpload.prototype.setDebugEnabled=function(a){this.settings.debug_enabled=a;this.callFlash("SetDebugEnabled",[a])};
SWFUpload.prototype.setButtonImageURL=function(a){a==void 0&&(a="");this.settings.button_image_url=a;this.callFlash("SetButtonImageURL",[a])};SWFUpload.prototype.setButtonDimensions=function(a,b){this.settings.button_width=a;this.settings.button_height=b;var c=this.getMovieElement();if(c!=void 0)c.style.width=a+"px",c.style.height=b+"px";this.callFlash("SetButtonDimensions",[a,b])};SWFUpload.prototype.setButtonText=function(a){this.settings.button_text=a;this.callFlash("SetButtonText",[a])};
SWFUpload.prototype.setButtonTextPadding=function(a,b){this.settings.button_text_top_padding=b;this.settings.button_text_left_padding=a;this.callFlash("SetButtonTextPadding",[a,b])};SWFUpload.prototype.setButtonTextStyle=function(a){this.settings.button_text_style=a;this.callFlash("SetButtonTextStyle",[a])};SWFUpload.prototype.setButtonDisabled=function(a){this.settings.button_disabled=a;this.callFlash("SetButtonDisabled",[a])};
SWFUpload.prototype.setButtonAction=function(a){this.settings.button_action=a;this.callFlash("SetButtonAction",[a])};SWFUpload.prototype.setButtonCursor=function(a){this.settings.button_cursor=a;this.callFlash("SetButtonCursor",[a])};
SWFUpload.prototype.queueEvent=function(a,b){b==void 0?b=[]:b instanceof Array||(b=[b]);var c=this;if(typeof this.settings[a]==="function")this.eventQueue.push(function(){this.settings[a].apply(this,b)}),setTimeout(function(){c.executeNextEvent()},0);else if(this.settings[a]!==null)throw"Event handler "+a+" is unknown or is not a function";};SWFUpload.prototype.executeNextEvent=function(){var a=this.eventQueue?this.eventQueue.shift():null;typeof a==="function"&&a.apply(this)};
SWFUpload.prototype.unescapeFilePostParams=function(a){var b=/[$]([0-9a-f]{4})/i,c={},d;if(a!=void 0){for(var e in a.post)if(a.post.hasOwnProperty(e)){d=e;for(var f;(f=b.exec(d))!==null;)d=d.replace(f[0],String.fromCharCode(parseInt("0x"+f[1],16)));c[d]=a.post[e]}a.post=c}return a};SWFUpload.prototype.testExternalInterface=function(){try{return this.callFlash("TestExternalInterface")}catch(a){return!1}};
SWFUpload.prototype.flashReady=function(){var a=this.getMovieElement();a?(this.cleanUp(a),this.queueEvent("swfupload_loaded_handler")):this.debug("Flash called back ready but the flash movie can't be found.")};
SWFUpload.prototype.cleanUp=function(a){try{if(this.movieElement&&typeof a.CallFunction==="unknown"){this.debug("Removing Flash functions hooks (this should only run in IE and should prevent memory leaks)");for(var b in a)try{typeof a[b]==="function"&&(a[b]=null)}catch(c){}}}catch(d){}window.__flash__removeCallback=function(a,b){try{a&&(a[b]=null)}catch(c){}}};SWFUpload.prototype.fileDialogStart=function(){this.queueEvent("file_dialog_start_handler")};
SWFUpload.prototype.fileQueued=function(a){a=this.unescapeFilePostParams(a);this.queueEvent("file_queued_handler",a)};SWFUpload.prototype.fileQueueError=function(a,b,c){a=this.unescapeFilePostParams(a);this.queueEvent("file_queue_error_handler",[a,b,c])};SWFUpload.prototype.fileDialogComplete=function(a,b,c){this.queueEvent("file_dialog_complete_handler",[a,b,c])};SWFUpload.prototype.uploadStart=function(a){a=this.unescapeFilePostParams(a);this.queueEvent("return_upload_start_handler",a)};
SWFUpload.prototype.returnUploadStart=function(a){var b;if(typeof this.settings.upload_start_handler==="function")a=this.unescapeFilePostParams(a),b=this.settings.upload_start_handler.call(this,a);else if(this.settings.upload_start_handler!=void 0)throw"upload_start_handler must be a function";b===void 0&&(b=!0);this.callFlash("ReturnUploadStart",[!!b])};SWFUpload.prototype.uploadProgress=function(a,b,c){a=this.unescapeFilePostParams(a);this.queueEvent("upload_progress_handler",[a,b,c])};
SWFUpload.prototype.uploadError=function(a,b,c){a=this.unescapeFilePostParams(a);this.queueEvent("upload_error_handler",[a,b,c])};SWFUpload.prototype.uploadSuccess=function(a,b,c){a=this.unescapeFilePostParams(a);this.queueEvent("upload_success_handler",[a,b,c])};SWFUpload.prototype.uploadComplete=function(a){a=this.unescapeFilePostParams(a);this.queueEvent("upload_complete_handler",a)};SWFUpload.prototype.debug=function(a){this.queueEvent("debug_handler",a)};
SWFUpload.prototype.debugMessage=function(a){if(this.settings.debug){var b=[];if(typeof a==="object"&&typeof a.name==="string"&&typeof a.message==="string"){for(var c in a)a.hasOwnProperty(c)&&b.push(c+": "+a[c]);a=b.join("\n")||"";b=a.split("\n");a="EXCEPTION: "+b.join("\nEXCEPTION: ")}SWFUpload.Console.writeLine(a)}};SWFUpload.Console={};
SWFUpload.Console.writeLine=function(a){var b,c;try{b=document.getElementById("SWFUpload_Console");if(!b)c=document.createElement("form"),document.getElementsByTagName("body")[0].appendChild(c),b=document.createElement("textarea"),b.id="SWFUpload_Console",b.style.fontFamily="monospace",b.setAttribute("wrap","off"),b.wrap="off",b.style.overflow="auto",b.style.width="700px",b.style.height="350px",b.style.margin="5px",c.appendChild(b);b.value+=a+"\n";b.scrollTop=b.scrollHeight-b.clientHeight}catch(d){alert("Exception: "+
d.name+" Message: "+d.message)}};
function tzCalculation_LocalTimeZone(a,b){var c,d,e;c=new Date;d=Date.UTC(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate(),c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds());e=(Date.UTC(c.getFullYear(),c.getMonth(),c.getDate(),c.getHours(),c.getMinutes(),c.getSeconds())-d)/1E3/60;c=0>e?"-":"+";d=e%60;d!=0&&(e-=d,0>d&&(d=Math.abs(d)));0>e&&(e=Math.abs(e));e/=60;10>e&&(c+="0");c+=e;10>d&&(c+="0");c+=d;b&&document.writeln(c);document.cookie="timezone="+c+"; domain="+a;return c};
